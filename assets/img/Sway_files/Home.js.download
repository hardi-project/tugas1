var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),LandingPageSettings,MyStoriesSettings,StoryApp;!function(e){!function(e){!function(e){!function(e){e.sharedFooterSelector="#sharedFooter",e.twoSpaces="  ",e.appGray="rgb(50, 50, 50)"}(e.HomeConstants||(e.HomeConstants={}))}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n,i=e.View.ViewElements;!function(e){e[e.Date=0]="Date",e[e.Title=1]="Title"}(n=t.SortCriteria||(t.SortCriteria={}));var o=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.args=n,i.criteria=TDB.watchableOption(i,n.criteria),i.sortingType=n.sortingType,i}return __extends(t,e),t.prototype.onAction=function(t){return e.prototype.onAction.call(this,t),this.args.onAction.call(this.args.context,this.args.role,this.dropdownList.getListIndex(this.args),this.criteria.getValue()),TDB.EventPropagation.Bypass},t.prototype.criteriaTextArgs=function(e){return t.getName(this.sortingType.getWatchedValue(e),this.criteria.getWatchedValue(e))},t.prototype.getDescription=function(e){return t.getDescription(this.sortingType.getWatchedValue(e),this.criteria.getWatchedValue(e))},t.getName=function(e,n){switch(e){case i.MyStoriesSorting.MyStories:return t.criteriaNameEdited(n);case i.MyStoriesSorting.RecycleBin:return t.criteriaNameDeleted(n);case i.MyStoriesSorting.ViewedStories:return t.criteriaNameViewed(n);case i.MyStoriesSorting.Analytics:return t.criteriaNameEdited(n);default:return StoryLog.TraceTag(596476740,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Unexpected MyStoriesSorting option"),""}},t.getDescription=function(e,n){switch(e){case i.MyStoriesSorting.MyStories:return t.criteriaDescriptionEdited(n);case i.MyStoriesSorting.RecycleBin:return t.criteriaDescriptionDeleted(n);case i.MyStoriesSorting.ViewedStories:return t.criteriaDescriptionViewed(n);case i.MyStoriesSorting.Analytics:return t.criteriaDescriptionEdited(n);default:return StoryLog.TraceTag(596476741,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Unexpected MyStoriesSorting option"),""}},t.criteriaNameEdited=function(e){switch(e){case n.Date:return Resources.SortCriteriaDateEditedName;case n.Title:return Resources.SortCriteriaTitleName;default:return StoryLog.TraceTag(596476742,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Unexpected SortCriteria option"),""}},t.criteriaNameDeleted=function(e){switch(e){case n.Date:return Resources.SortCriteriaDateDeletedName;case n.Title:return Resources.SortCriteriaTitleName;default:return StoryLog.TraceTag(596476743,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Unexpected SortCriteria option"),""}},t.criteriaNameViewed=function(e){switch(e){case n.Date:return Resources.SortCriteriaDateViewedName;case n.Title:return Resources.SortCriteriaTitleName;default:return StoryLog.TraceTag(596476744,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Unexpected SortCriteria option"),""}},t.criteriaDescriptionEdited=function(e){switch(e){case n.Date:return Resources.SortCriteriaDateEditedDescription;case n.Title:return Resources.SortCriteriaTitleDescription;default:return StoryLog.TraceTag(596476745,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Unexpected SortCriteria option"),""}},t.criteriaDescriptionDeleted=function(e){switch(e){case n.Date:return Resources.SortCriteriaDateDeletedDescription;case n.Title:return Resources.SortCriteriaTitleDescription;default:return StoryLog.TraceTag(596476746,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Unexpected SortCriteria option"),""}},t.criteriaDescriptionViewed=function(e){switch(e){case n.Date:return Resources.SortCriteriaDateViewedDescription;case n.Title:return Resources.SortCriteriaTitleDescription;default:return StoryLog.TraceTag(596476747,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Unexpected SortCriteria option"),""}},t}(i.DropdownListItemVE);t.SortCriteriaOptionVEBase=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.View.ViewElements,i=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.args=n,i.sortingType=TDB.watchableOption(i,n.sortingType),i}return __extends(t,e),t.prototype.onAction=function(t){return e.prototype.onAction.call(this,t),this.args.onAction.call(this.args.context,this.args.role,this.dropdownList.getListIndex(this.args),this.sortingType.getValue()),TDB.EventPropagation.Bypass},t.prototype.sortingTypeTextArgs=function(e){switch(this.sortingType.getWatchedValue(e)){case n.MyStoriesSorting.MyStories:return Resources.EditedSwaysTitle;case n.MyStoriesSorting.RecycleBin:return Resources.DeletedSwaysTitle;case n.MyStoriesSorting.ViewedStories:return Resources.ViewedSwaysTitle;case n.MyStoriesSorting.Analytics:return Resources.AnalyticsTitleLabel;default:return StoryLog.TraceTag(596476738,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Unexpected MyStoriesSorting option"),""}},t.prototype.getDescription=function(e){switch(this.sortingType.getWatchedValue(e)){case n.MyStoriesSorting.MyStories:return Resources.EditedSwaysTooltip;case n.MyStoriesSorting.RecycleBin:return Resources.DeletedSwaysTooltip;case n.MyStoriesSorting.ViewedStories:return Resources.ViewedSwaysTooltip;default:return StoryLog.TraceTag(596476739,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Unexpected MyStoriesSorting option"),""}},t}(n.DropdownListItemVE);t.SortingTypeOptionVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var ViewedStoryListRequests;!function(e){function t(e){var t=new ViewedStoryListRequest;t.continuationToken=e.continuationToken,t.returnPerformanceDetails=null!=PerformanceMetrics,e.pageSize&&(t.pageSize=e.pageSize),t.timezoneOffset=-(new Date).getTimezoneOffset(),null!=e.sortCriteria&&(t.sortCriteria=e.sortCriteria);var i={name:"ViewedStory",description:"Viewed Stories",type:"POST",data:JSON.stringify(t),contentType:StoryApp.RequestManager.JsonContentType,dataType:"json",success:function(t){e.onComplete.call(e.context,t)},error:function(t,n,i){e.onError.call(e.context,t,n,i)}};void 0!==i.data&&null!=i.data&&0!=i.data.length||StoryLog.StructuredTraceTag(596476736,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Request body is null.",{name:"ViewedStory",description:"Viewed Stories",continuationToken:e.continuationToken,pageSize:e.pageSize?e.pageSize.toString():"undefined",sortCriteria:null!=e.sortCriteria?e.sortCriteria.toString():"undefined"}),$.ajax(n.UrlHelper.getInstance().getMyViewedStoriesUrl(),i)}var n=StoryApp.Common;e.getViewedStoryList=t}(ViewedStoryListRequests||(ViewedStoryListRequests={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e,n){var i=t.call(this,e)||this;return i.uniqueVideoDrawingId=0,i.args=n,i.playing=i.args.playing,i}return __extends(n,t),n.prototype.videoBindingVideoInitArgs=function(){return{playing:this.playing,muted:this.args.muted,playCallbackHandler:this.renderVideoOnCanvasArgs()?this:void 0}},n.prototype.videoBindingVideoSourceArgs=function(e){var t=this,n=this.args.videoSource;return TDB.applyUpdate(function(){t.playing.setValue(!1)},TDB.Justification.SynchronousBrowserEvent),n.getWatchedValue(e)},n.prototype.videoBindingVideoPlayingArgs=function(e){return this.playing.getWatchedValue(e)},n.prototype.videoButtonArgs=function(t){var n,i=this.playing.getWatchedValue(t),o=i?this.args.pauseButtonId:this.args.videoButtonId;n=i?{value:this.args.videoPauseButtonDescription}:{value:this.args.videoPlayButtonDescription};var r=i?{value:FontIcons.PauseMediaButtonIcon}:{value:FontIcons.PlayMediaButtonIcon},s=i?FontIcons.PauseMediaButtonIconSize:FontIcons.PlayMediaButtonIconSize,a={buttonId:o,click:i?this.pauseVideo:this.playVideo,context:this,cssClass:{value:"homepageVideoPlayButton"},description:n,fontIconName:r,fontIconSizeClass:s,parentHovered:this.args.inFocus};return new TDB.ChildArgs(e.VideoGlyphButtonVE,a)},n.prototype.playVideo=function(e){var t=this;return TDB.applyUpdate(function(){t.playing.setValue(!0)},TDB.Justification.SynchronousBrowserEvent),TDB.EventPropagation.Bypass},n.prototype.pauseVideo=function(e){var t=this;return TDB.applyUpdate(function(){t.playing.setValue(!1)},TDB.Justification.SynchronousBrowserEvent),TDB.EventPropagation.Bypass},n.prototype.videoBindingAttrArgs=function(){var e;return e={id:"video"+this.args.id},e[Aria.Attributes.Label]=this.args.videoDescription,e},n.prototype.videoBindingStyleArgs=function(){return this.renderVideoOnCanvasArgs()?{display:"none"}:{}},n.prototype.videoBindingClassNameArgs=function(){return this.renderVideoOnCanvasArgs()?"":"videoLayoutPlayer"},n.prototype.canvasBufferClassNameArgs=function(){return" canvasBuffer"+this.args.id},n.prototype.canvasBufferStyleArgs=function(t){return this.args.currentScreenWidthClass.getWatchedValue(t)<=e.NewVisualDesignHomePageContentVE.screenWidth_1366?{width:this.args.videoWidthPhone+"px",height:this.args.videoHeightPhone+"px"}:{width:this.args.videoWidth+"px",height:this.args.videoHeight+"px"}},n.prototype.canvasOutputClassNameArgs=function(e){return"canvasLayoutPlayer_"+this.args.currentScreenWidthClass.getWatchedValue(e)+" canvasOutput"+this.args.id},n.prototype.canvasOutputStyleArgs=function(t){return this.args.currentScreenWidthClass.getWatchedValue(t)<=e.NewVisualDesignHomePageContentVE.screenWidth_1366?{width:this.args.videoWidthPhone+"px",height:this.args.videoHeightPhone/2+"px",position:"relative"}:{width:this.args.videoWidth+"px",height:this.args.videoHeight/2+"px",position:"relative"}},n.prototype.canvasOutputAttrArgs=function(){var e;return e={},e[Aria.Attributes.Role]=Aria.Roles.Img,e[Aria.Attributes.Label]=this.args.videoDescription,e},n.prototype.renderVideoOnCanvasArgs=function(){return this.args.renderVideoOnCanvas},n.prototype.onVideoPlayCallback=function(t){if(t&&t.videoWidth){var n=$(e.BrowserVideoPlayerVE.promoPillarVideoIdPrefix+this.args.id).parent().find(e.BrowserVideoPlayerVE.promoPillarVideoCanvasOutputClassPrefix+this.args.id)[0];if(n){var i=n.getContext("2d"),o=$(e.BrowserVideoPlayerVE.promoPillarVideoIdPrefix+this.args.id).parent().find(e.BrowserVideoPlayerVE.promoPillarVideoCanvasBufferClassPrefix+this.args.id)[0];if(o){var r=o.getContext("2d"),s=t.videoWidth,a=t.videoHeight/2;n.width=s,n.height=a,o.width=s,o.height=2*a,this.drawVideoToCanvas(t,i,r,s,a,++this.uniqueVideoDrawingId)}}}},n.prototype.drawVideoToCanvas=function(t,n,i,o,r,s){var a=this;try{if(!t||!t.videoWidth)return;if(this.uniqueVideoDrawingId!==s)return;i.drawImage(t,0,0,o,2*r,0,0,o,2*r);for(var l=i.getImageData(0,0,o,r),c=l.data,u=i.getImageData(0,r,o,r).data,d=e.BrowserVideoPlayerVE.alphaChannelStartIndex,h=c.length;d<h;d+=e.BrowserVideoPlayerVE.pixelInfoSize)u[d-3]+u[d-2]+u[d-1]<=e.BrowserVideoPlayerVE.transparentAlphaThreshold?c[d]=0:c[d]=u[d-1];if(n.putImageData(l,0,0,0,0,o,r),t.paused)return;platform.setTimeout(function(){a.drawVideoToCanvas(t,n,i,o,r,s)},e.BrowserVideoPlayerVE.videoRenderingPeriod)}catch(e){StoryLog.StructuredTraceTag(596125193,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Exception while drawing to canvas",{message:e.message},e.stack)}},n.prototype.videoSupportedArgs=function(){return e.BrowserVideoPlayerVE.videosSupported()},n.prototype.videoUnsupportedArgs=function(){return!this.videoSupportedArgs()},n.videosSupported=function(){return e.BrowserVideoPlayerVE.usingVideoWorks()&&!!Modernizr.video},n.usingVideoWorks=function(){try{return!0}catch(e){return!1}},n.prototype.imageAttrArgs=function(e){var t;return t={src:this.args.imageSource.getWatchedValue(e),alt:this.args.videoDescription},t[Aria.Attributes.Label]=this.args.videoDescription,t},n.prototype.imageClassNameArgs=function(){return"videoLayoutPlayer"},n.videoRenderingPeriod=40,n.alphaChannelStartIndex=3,n.promoPillarVideoIdPrefix="#video",n.promoPillarVideoCanvasBufferClassPrefix=".canvasBuffer",n.promoPillarVideoCanvasOutputClassPrefix=".canvasOutput",n.pixelInfoSize=4,n.transparentAlphaThreshold=15,n}(TDB.FocusableViewElement);e.BrowserVideoPlayerVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(n,i){var o=t.call(this,n,{features:i.controlsetFeatures|e.CarouselListBaseVE.defaultFeatures})||this;return o.args=i,o.hiding=!1,o.showing=!0,o.transitionTimeSeconds=.3,o.optionArgsAndTypes=TDB.watchableOption(o,i.optionArgsAndTypes),o.visibleCarouselElementsModel=TDB.watcherTag(596125189,o,o,o.calculateVisibleCarouselElements),o.visible=TDB.watchableTag(596125190,o,!0),o.startIndex=TDB.watchableTag(596125191,o,0),o.carouselElementsWrapperCssClass=TDB.watchableOption(o,i.carouselElementsWrapperCssClass,""),o}return __extends(n,t),n.prototype.setStartIndex=function(e){var t=this;TDB.applyUpdate(function(){t.startIndex.setValue(e),t.args.carouselOffset.setValue(e)},TDB.Justification.SynchronousBrowserEvent)},n.prototype.getStartIndex=function(e){return this.startIndex.getWatchedValue(e)},n.prototype.calculateVisibleCarouselElements=function(e){var t=this.optionArgsAndTypes.getWatchedValue(e),n=t.length,i=this.args.carouselOffset.getWatchedValue(e),o=e.watchValue(this.args.numColumns),r=[];return this.getStartIndex(e),o>=n?r=t:this.isCarouselInOneByOneMode()?r=this.createListOfVisibleElementsOneByOneMode(n,i,o,t):this.isCarouselInBatchMode()?r=this.createListOfVisibleElementsBatchedMode(n,i,o,t):TDB.raiseRecoverableError("ImagePillarCarouselVE: calculateVisibleCarouselElements: Unhandled carousel type",TDB.LogLevel.info),r},n.prototype.createListOfVisibleElementsOneByOneMode=function(e,t,n,i){for(var o=[],r=0;r<n;r++)o.push(i[(t+r)%e]);return o},n.prototype.createListOfVisibleElementsBatchedMode=function(e,t,n,i){for(var o=[],r=t;r<Math.min(i.length,t+n);r++)o.push(i[r]);return o},n.prototype.isAnimationEnabled=function(){return this.args.carouselMode===e.ECarouselMode.LoopedBatchAnimated||this.args.carouselMode===e.ECarouselMode.LoopedOneByOneAnimated},n.prototype.isCarouselInOneByOneMode=function(){return this.args.carouselMode===e.ECarouselMode.LoopedOneByOne||this.args.carouselMode===e.ECarouselMode.LoopedOneByOneAnimated},n.prototype.isCarouselInBatchMode=function(){return this.args.carouselMode===e.ECarouselMode.LoopedBatch||this.args.carouselMode===e.ECarouselMode.LoopedBatchAnimated},n.prototype.resetStartIndex=function(){this.setStartIndex(0)},n.prototype.moveNext=function(){var e=this;this.isAnimationEnabled()&&this.hide(),this.newStartIndex=n.getNextStartIndex(this.getStartIndex(),this.optionArgsAndTypes.getValue().length,this.args.numColumns.getValue(),this.isCarouselInOneByOneMode(),this.isCarouselInBatchMode()),this.logButtonClick(this.args.nextButtonClientActionButtonId,this.newStartIndex),this.transitionOptions(this.newStartIndex),this.isAnimationEnabled()||TDB.applyUpdate(function(){e.args.carouselOffset.setValue(e.newStartIndex)})},n.getNextStartIndex=function(e,t,n,i,o){var r=0;return i?r=(e+1)%t:o?(r=e+n)>=t&&(r=0):TDB.raiseRecoverableError("ImagePillarCarouselVE: getNextStartIndex: Unhandled carousel type",TDB.LogLevel.info),r},n.prototype.movePrevious=function(){var e=this;this.isAnimationEnabled()&&this.hide(),this.newStartIndex=n.getPreviousStartIndex(this.getStartIndex(),this.optionArgsAndTypes.getValue().length,this.args.numColumns.getValue(),this.isCarouselInOneByOneMode(),this.isCarouselInBatchMode()),this.newStartIndex<0&&(this.newStartIndex=this.optionArgsAndTypes.getValue().length-1),this.isAnimationEnabled()||TDB.applyUpdate(function(){e.args.carouselOffset.setValue(e.newStartIndex)}),this.logButtonClick(this.args.previousButtonClientActionButtonId,this.newStartIndex),this.transitionOptions(this.newStartIndex)},n.getPreviousStartIndex=function(e,t,n,i,o){var r=0;if(i)(r=e-1)<0&&(r=t-1);else if(o){if((r=e-n)<0){var s=t-1;r=s-s%n}}else TDB.raiseRecoverableError("ImagePillarCarouselVE: getPreviousStartIndex: Unhandled carousel type",TDB.LogLevel.info);return r},n.prototype.transitionOptions=function(e){this.getStartIndex()!==e&&(this.isAnimationEnabled()||this.setStartIndex(e))},n.prototype.logButtonClick=function(e,t){var n={NewStartIndex:t.toString(),NumVisibleOptions:this.args.numColumns.getValue().toString(),NumTotalOptions:this.optionArgsAndTypes.getValue().length.toString(),CarouselName:this.args.logString};ActionLogger.RecordClientAction(new ClientAction.ButtonClickAction(e,Diag.ULSCat.msoulscat_Story_Style,n))},n.prototype.carouselElementsWrapperClassNameArgs=function(e){return this.carouselElementsWrapperCssClass.getWatchedValue(e)},n.prototype.carouselElementsWrapperFadeVisibleInitArgs=function(){var e="opacity "+this.transitionTimeSeconds+"s ease";return{visibleInit:!1,transitionIn:e,transitionOut:e,context:this,onHidden:this.onHideComplete,onVisible:this.onShowComplete}},n.prototype.onHideComplete=function(){var e=this;this.hiding&&(this.hiding=!1,this.setStartIndex(this.newStartIndex),TDB.applyUpdate(function(){e.visible.setValue(!0)}))},n.prototype.onShowComplete=function(){this.showing=!1},n.prototype.carouselElementsWrapperFadeVisibleArgs=function(e){return{visible:e.watchValue(this.visible)}},n.prototype.hide=function(){var e=this;this.hiding=!0,TDB.applyUpdate(function(){e.visible.setValue(!1)}),platform.setTimeout(this.onHideComplete.bind(this),this.getMaxTransitionTimeMs())},n.prototype.getMaxTransitionTimeMs=function(){return 1e3*this.transitionTimeSeconds},n.prototype.getFirstVisibleOption=function(){return 0===this.visibleListItems.length?void 0:this.visibleListItems.first()},n.prototype.getLastVisibleOption=function(){return 0===this.visibleListItems.length?void 0:this.visibleListItems.last()},n.prototype.getActivatableChildren=function(){var e=this.visibleListItems?this.visibleListItems.filter(function(e){return e.canActivate()}):void 0;return this.args.accessibleElementsExpander&&(e=this.args.accessibleElementsExpander(e)),CommonSettings.SiteUiRtl&&e.reverse(),e},n.prototype.getInitialActiveChild=function(){var e=this.getActivatableChildren();return CommonSettings.SiteUiRtl?e[e.length-1]:e[0]},n.prototype.visibleListItemsArgs=function(e){return this.visibleCarouselElementsModel.getWatchedValue(e).map(function(e){return new TDB.ChildArgs(e.optionType,e.optionArgs)})},n.prototype.canActivate=function(){var e=this.getActivatableChildren();return!(!t.prototype.canActivate.call(this)||!e)&&e.length>0},n.prototype.carouselElementsWrapperAttrArgs=function(){var e={};return e[Aria.Attributes.Label]=this.args.carouselDescription,e[Aria.Attributes.Role]=Aria.Roles.Listbox,e},n.prototype.ensureTileIsAddedToMyStories=function(e){this.args.ensureTileIsAddedToMyStoriesCallback&&this.args.callbackContext&&this.args.ensureTileIsAddedToMyStoriesCallback.call(this.args.callbackContext,e)},n.defaultFeatures=TDB.ControlSetFeatures.TabDisabled|TDB.ControlSetFeatures.HorizontalList|TDB.ControlSetFeatures.NoWrappingNavigation|TDB.ControlSetFeatures.PreserveFocusContext|TDB.ControlSetFeatures.TabInto,n}(TDB.ControlSet);e.CarouselListBaseVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(n){function i(e){return n.call(this,e,{features:TDB.ControlSetFeatures.TabDisabled|TDB.ControlSetFeatures.PreserveFocusContext})||this}return __extends(i,n),i.prototype.createOutlineButtonArgs=function(){var n={buttonId:ClientAction.ButtonId.Tile_CreateOutline,click:this.createOutlineStory,context:this,cssClass:{value:"createNewButton"},description:{value:Resources.CreateOutlineTileText},tooltip:{value:Resources.CreateOutlineTileDescription},fontIconName:{value:FontIcons.CreateOutlineIcon},fontIconSizeClass:FontIcons.CreateFromNewIconSize,textClass:"segoeUISemilight createSourceText",text:{value:Resources.CreateOutlineTileText},role:Aria.Roles.Option,enabled:e.Common.Environment.getInstance().getClientOnline()};return new TDB.ChildArgs(t.GlyphButtonVE,n)},i.prototype.createOutlineStory=function(e){return ActionLogger.RecordClientAction(new ClientAction.SimpleClientActionData(ClientAction.ActionType.CreateOutlineTile,Diag.ULSCat.msoulscat_Story_Site)),BRSDialog.showIfAuthoringDisabled()||(new t.OutlineDialog).createAndShow(),TDB.EventPropagation.Bypass},i}(TDB.ControlSet);t.CreateOutlineTileVEBase=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n,i=e.Common;!function(e){e[e.CreateNew=1]="CreateNew",e[e.CreateOutline=2]="CreateOutline",e[e.Import=4]="Import",e[e.Upload=8]="Upload",e[e.All=15]="All"}(n=t.CreateTilesCarouselOptions||(t.CreateTilesCarouselOptions={}));var o=function(o){function r(e,t){var n=o.call(this,e)||this;return n._parent=e,n._args=t,n._windowSize=TDB.watchableTag(596125154,n,i.DeviceType.Mobile),n._carouselOffset=TDB.watchableTag(596125155,n,0),n.coldStartFromTitleOverride=t.coldStartFromTitleOverride,n._numColumns=TDB.statefulWatcherTag(596125184,n,n,n.calculateNumColumnsAndResetStartIndex),n}return __extends(r,o),r.prototype.createCarouselElements=function(o){var r=[];return this._args.elementsToConsider&n.CreateNew&&r.push({optionArgs:void 0,optionType:t.CreateNewTileVE}),this._args.elementsToConsider&n.CreateOutline&&(MyStoriesSettings.IsColdStartFromTitleEnabled||this.coldStartFromTitleOverride&&this.coldStartFromTitleOverride.getWatchedValue(o))&&r.push({optionArgs:void 0,optionType:t.CreateOutlineTileVE}),this._args.elementsToConsider&n.Import&&!e.Utilities.ipad&&r.push({optionArgs:void 0,optionType:t.ImportTileVE}),this._args.elementsToConsider&n.Upload&&CommonSettings.EnableStoryUpload&&r.push({optionArgs:void 0,optionType:t.ImportStoryTileVE}),this._args.elementsToConsider&n.Upload&&i.Environment.getInstance().areInternalFeaturesEnabled()&&r.push({optionArgs:void 0,optionType:t.TransformDocumentTileVE}),r},r.prototype.carouselArgs=function(){var e={optionArgsAndTypes:{compute:new TDB.ComputedOptionArgs(this,this.createCarouselElements)},logString:"CarouselMySwaysPage",pillarsVisible:t.CreateTilesCarouselVE.showTiles_5,windowSize:{watchable:this._windowSize},windowWidth:this._args.windowWidth,numColumns:{watchable:this._numColumns},carouselOffset:this._carouselOffset,carouselElementsWrapperCssClass:{compute:new TDB.ComputedOptionArgs(this,this.getCarouselWrapperCssClass)},carouselWrapperCssClass:"createTilesCarouselWrapper",previousButtonClientActionButtonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_CarouselPrevious,nextButtonClientActionButtonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_CarouselNext,previousButtonTooltip:Resources.PreviousButtonCreationBannerAriaLabel,nextButtonTooltip:Resources.NextButtonCreationBannerAriaLabel,previousButtonDescription:Resources.PreviousButtonCreationBannerAriaLabel,nextButtonDescription:Resources.NextButtonCreationBannerAriaLabel,carouselMode:t.ECarouselMode.LoopedOneByOne,carouselDescription:Resources.CreationBannerAriaLabel,callbackContext:this._args.callbackContext,ensureTileIsAddedToMyStoriesCallback:this._args.ensureTileIsAddedToMyStoriesCallback};return new TDB.ChildArgs(t.ImagePillarCarouselVE,e)},r.prototype.calculateNumColumnsAndResetStartIndex=function(e,n){var i,o=this._args.windowWidth.getWatchedValue(n);return e?(i=o>t.MyStoriesPageListV2ViewModel.storiesNumberTreshold_12?t.CreateTilesCarouselVE.showTiles_6:o>t.MyStoriesPageListV2ViewModel.storiesNumberTreshold_10?t.CreateTilesCarouselVE.showTiles_5:o>t.MyStoriesPageListV2ViewModel.storiesNumberTreshold_8?t.CreateTilesCarouselVE.showTiles_4:o>t.MyStoriesPageListV2ViewModel.storiesNumberTreshold_6?t.CreateTilesCarouselVE.showTiles_3:o>t.MyStoriesPageListV2ViewModel.storiesNumberTreshold_4?t.CreateTilesCarouselVE.showTiles_2:t.CreateTilesCarouselVE.showTiles_1,this._carousel&&this._carousel.resetStartIndex(),i):t.CreateTilesCarouselVE.showTiles_6},r.prototype.getCarouselWrapperCssClass=function(e){return"createCarouselElementsWrapper createCarouselElementsWrapper_"+this.createCarouselElements(e).length},r.showTiles_6=6,r.showTiles_5=5,r.showTiles_4=4,r.showTiles_3=3,r.showTiles_2=2,r.showTiles_1=1,r}(TDB.FocusableViewElement);t.CreateTilesCarouselVEBase=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var MyStoriesPageTitleControler;!function(e){var t=StoryApp.View.ViewElements,n=function(){function e(){}return e.ShowRecycleBinStories=function(){return this.changeDisplayedStories(t.MyStoriesSorting.RecycleBin)},e.ShowMyStories=function(){return this.changeDisplayedStories(t.MyStoriesSorting.MyStories)},e.ShowViewedStories=function(){return this.changeDisplayedStories(t.MyStoriesSorting.ViewedStories)},e.ShowStoryAnalytics=function(){return this.changeDisplayedStories(t.MyStoriesSorting.Analytics)},e.changeDisplayedStories=function(e){var t=this;return TDB.applyUpdate(function(){t.storyList.setSortingType(e)},TDB.Justification.SynchronousBrowserEvent),TDB.EventPropagation.Bypass},e}();e.MyStoriesPageTitleOverflowAction=n}(MyStoriesPageTitleControler||(MyStoriesPageTitleControler={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(e){function i(i,o){var r=e.call(this,i)||this;return r._parent=i,r.args=o,r.windowSize=TDB.watchableTag(596125132,r,n.DeviceType.Mobile),r.carouselOffset=TDB.watchableTag(596125133,r,0),r.storyTiles=TDB.statefulWatcherTag(596125134,r,r,r.getStoryTiles),r.elementOptionArgsAndTypes=TDB.mappedWatcherTag(596125135,r,r,r.getTiles,r.createStoryTile),r.storyList=new t.StoryList(t.MyStoriesPageListV2ViewModel.compareTilesOnDateForSorting),r.numColumns=TDB.statefulWatcherTag(596125136,r,r,r.calculateNumColumnsAndResetStartIndex),r}return __extends(i,e),i.prototype.getStoryTiles=function(e,t){if(e||(e=[]),!this.storiesFetcher||this.storiesFetcher.isLoading(t))return e;var n=this.storyList.getTiles(t);return n.forEach(function(e,t){e.setSetSize(n.length),e.setPositionInSet(t+1)}),n.slice(0,n.length)},i.prototype.getTiles=function(e){return this.storyTiles.getWatchedValue(e)},i.prototype.addToStories=function(e){this.storyList.addTile(e)},i.prototype.onCallbackSuccess=function(e){if(e){var n=t.StoryTileModel.createStoryTileModels(e);this.storyList.addTiles(n)}},i.prototype.getNextStories=function(){return!this.isListLoading()&&this.storiesFetcher.getNextStories()},i.prototype.isListLoading=function(e){return!!this.storiesFetcher&&this.storiesFetcher.isLoading(e)},i.prototype.carouselArgs=function(e){if(this.elementOptionArgsAndTypes){var n=this.elementOptionArgsAndTypes.getWatchedValue(e);if(n&&0!==n.length){var o={optionArgsAndTypes:{watchable:this.elementOptionArgsAndTypes},logString:this.args.logString,pillarsVisible:i.showTiles_5,windowSize:{watchable:this.windowSize},windowWidth:this.args.windowWidth,numColumns:{watchable:this.numColumns},carouselOffset:this.carouselOffset,carouselElementsWrapperCssClass:{value:"storyTilesCarouselElementsWrapper"},carouselWrapperCssClass:"storyTilesCarouselWrapper",previousButtonWrapperCssClass:"storyTilesCarouselButtonWrapper previousWrapper",nextButtonWrapperCssClass:"storyTilesCarouselButtonWrapper nextWrapper",imageCarouselNextButtonCss:"imageStoryTileCarouselNextButton",imageCarouselPreviousButtonCss:"imageStoryTileCarouselPreviousButton",previousButtonClientActionButtonId:this.args.previousButtonClientActionButtonId,nextButtonClientActionButtonId:this.args.nextButtonClientActionButtonId,previousButtonTooltip:this.args.previousButtonTooltip,previousButtonDescription:this.args.previousButtonDescription,nextButtonTooltip:this.args.nextButtonTooltip,nextButtonDescription:this.args.nextButtonDescription,carouselMode:t.ECarouselMode.LoopedBatchAnimated,carouselDescription:this.args.carouselDescription,accessibleElementsExpander:this.args.accessibleElementsExpander,controlsetFeatures:this.args.controlsetFeatures};return new TDB.ChildArgs(t.ImagePillarCarouselVE,o)}}},i.prototype.calculateNumColumnsAndResetStartIndex=function(e,n){var o,r=this.args.windowWidth.getWatchedValue(n);return o=r>t.MyStoriesPageListV2ViewModel.storiesNumberTreshold_12?i.showTiles_6:r>t.MyStoriesPageListV2ViewModel.storiesNumberTreshold_10?i.showTiles_5:r>t.MyStoriesPageListV2ViewModel.storiesNumberTreshold_8?i.showTiles_4:r>t.MyStoriesPageListV2ViewModel.storiesNumberTreshold_6?i.showTiles_3:r>t.MyStoriesPageListV2ViewModel.storiesNumberTreshold_4?i.showTiles_2:i.showTiles_1,this.carousel&&this.carousel.resetStartIndex(),o},i.showTiles_6=6,i.showTiles_5=5,i.showTiles_4=4,i.showTiles_3=3,i.showTiles_2=2,i.showTiles_1=1,i}(TDB.FocusableViewElement);t.MyStoriesPageCarouselVE=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(n){function i(e,t){var i=this,o={windowWidth:t.windowWidth,logString:"MyStoriesPageFeaturedStoryCarousel",previousButtonClientActionButtonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_FeaturedCarouselPrevious,nextButtonClientActionButtonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_FeaturedCarouselNext,nextButtonDescription:Resources.NextFeaturedCarouselButton,nextButtonTooltip:Resources.NextFeaturedCarouselButton,previousButtonDescription:Resources.PreviousFeaturedCarouselButton,previousButtonTooltip:Resources.PreviousFeaturedCarouselButton,carouselDescription:Resources.FeaturedSwayPolishedHeader};return i=n.call(this,e,o)||this,i.windowWidth=t.windowWidth,i.fetchingError=TDB.watchableTag(596125084,i,!1),i.storiesFetcher=t.fetcherFactory.createFeaturedStoriesFetcher({context:i,onSuccess:i.onCallbackSuccess,onError:i.onErrorResponse}),i.getNextStories(),i}return __extends(i,n),i.getSeeMoreFeaturedStoriesUrl=function(){var t=e.Common.UrlHelper.getInstance();return void 0==MyStoriesSettings.CurrentUserType||null==MyStoriesSettings.CurrentUserType?t.getFeaturedSwaysUrl():MyStoriesSettings.CurrentUserType===UserType.AAD_EDU?t.getFeaturedSwaysEduUrl():t.getFeaturedSwaysUrl()},i.prototype.createStoryTile=function(e){return{optionArgs:{callbackContext:this,viewModel:e,onDeleteButtonConfirmed:null,addStory:this.addToStories,duplicateStory:void 0,sharingManager:null},optionType:t.MyStoriesPageFeaturedTileVE}},i.prototype.featuredTitleMySwaysTextArgs=function(e){if(!CommonSettings.SiteUseAlternateUserTypeSpecificStrings)return Resources.FeaturedSwayHeaderMySwaysPage;switch(CommonSettings.CurrentUserType){case UserType.AAD_EDU:return Resources.FeaturedSwayEduHeaderMySwaysPage;default:return StoryLog.StructuredTraceTag(596125085,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"Unexpected SiteUseAlternateUserTypeSpecificStrings BRS value.",{}),Resources.FeaturedSwayHeaderMySwaysPage}},i.prototype.getFeaturedStoriesList=function(){return this.storyList},i.prototype.getFeaturedStoriesListFetcher=function(){return this.storiesFetcher},i.prototype.onErrorResponse=function(e,t){var n=this;StoryLog.TraceTag(596125086,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"MyStoriesPageFeaturedListVE: onErrorResponse() :"+e+" jqXHR: "+JSON.stringify(t)),TDB.applyUpdate(function(){return n.fetchingError.setValue(!0)})},i.prototype.sectionLoadErrorArgs=function(e){return this.fetchingError.getWatchedValue(e)?new TDB.ChildArgsNoModel(t.MyStoriesPageSectionErrorVE):void 0},i}(t.MyStoriesPageCarouselVE);t.MyStoriesPageFeaturedListVEBase=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.refreshButtonArgs=function(){var t={buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_RefreshPage,description:{value:Resources.GenericErrorDialogButtonText},click:function(e){return CommonMain.goToMyStoriesOrSignIn("MyStoriesPageSectionError : refreshButtonArgs"),TDB.EventPropagation.PreventDefault},tooltip:{value:Resources.GenericErrorDialogButtonText},fontIconName:{value:FontIcons.CardProgressRetryIcon},fontIconSizeClass:"fontIconSize24x24",cssClass:{value:"mySwaysSectionReload"}};return new TDB.ChildArgs(e.GlyphButtonVE,t)},n.prototype.errorMessageTextArgs=function(){return Resources.SectionLoadErrorMessage},n}(TDB.FocusableViewElement);e.MyStoriesPageSectionErrorVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(i,o){var r=this,s={windowWidth:o.windowWidth,logString:"MyStoriesPageTemplateStoryCarousel",previousButtonClientActionButtonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_TemplateCarouselPrevious,nextButtonClientActionButtonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_TemplateCarouselNext,nextButtonDescription:Resources.NextTemplatesCarouselButton,nextButtonTooltip:Resources.NextTemplatesCarouselButton,previousButtonDescription:Resources.PreviousTemplatesCarouselButton,previousButtonTooltip:Resources.PreviousTemplatesCarouselButton,carouselDescription:Resources.TemplateSwayHeaderMySwaysPage,accessibleElementsExpander:n.accessibilityExpander,controlsetFeatures:e.CarouselListBaseVE.defaultFeatures|TDB.ControlSetFeatures.VisibleAsCoveringRectangle};return r=t.call(this,i,s)||this,r._windowWidth=o.windowWidth,r.storyDeletionService=new Delete.DeleteServerInterface,r.fetchingError=TDB.watchableTag(596125083,r,!1),r.storiesFetcher=o.fetcherFactory.createTemplateStoriesFetcher({context:r,onSuccess:r.onSuccess,onError:r.onError}),r.getNextStories(),r}return __extends(n,t),n.accessibilityExpander=function(t){for(var n=[],i=0;i<t.length;i++)if(n.push(t[i]),t[i]instanceof e.MyStoriesPageTemplateTileVE){var o=t[i];o._model.isUserTemplate()&&n.push(o.ellipsisButton)}return n},n.prototype.onDeleteButtonConfirmed=function(e){var t=this,n=e;n.setBlocked(!0),this.storyDeletionService.moveStoryToRecycleBinRequest(e.getLookupId(),function(n,i){t.storyList.removeTile(e.getLookupId())},function(e,t,i){n.setBlocked(!1)})},n.prototype.createStoryTile=function(t){return{optionArgs:{callbackContext:this,viewModel:t,onDeleteButtonConfirmed:this.onDeleteButtonConfirmed,addStory:this.addToStories,duplicateStory:void 0,sharingManager:null},optionType:e.MyStoriesPageTemplateTileVE}},n.prototype.templateTitleMySwaysTextArgs=function(e){return Resources.TemplateSwayHeaderMySwaysPage},n.prototype.getTemplateStoriesListFetcher=function(){return this.storiesFetcher},n.prototype.sectionLoadErrorArgs=function(t){return this.fetchingError.getWatchedValue(t)?new TDB.ChildArgsNoModel(e.MyStoriesPageSectionErrorVE):void 0},n.prototype.onSuccess=function(e){this.onCallbackSuccess(e)},n.prototype.onError=function(e){var t=this;TDB.applyUpdate(function(){return t.fetchingError.setValue(!0)})},n}(e.MyStoriesPageCarouselVE);e.MyStoriesPageTemplateListVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,t,n.args)||this;return i.viewModel=n,i}return __extends(t,e),t.prototype.getChildren=function(){return this.viewModel.getChildren()},t.prototype.getExtraChildren=function(){return this.viewModel.getExtraChildren()},t.prototype.titleArgs=function(e){return this.viewModel.titleArgs(e)},t.prototype.getCurrentSortingType=function(){return this.viewModel.getCurrentSortingType()},t.prototype.activeTabLabelTextArgs=function(e){return this.viewModel.activeTabLabelTextArgs(e)},t.prototype.menuBelowWrapperClassNameArgs=function(e){return this.viewModel.menuBelowWrapperClassNameArgs(e)},t.prototype.showActiveTabLabelArgs=function(e){return this.viewModel.showActiveTabLabelArgs(e,this.getMenuItems.bind(this))},t.prototype.myStoriesPageTabHolderAttrArgs=function(e){return this.viewModel.myStoriesPageTabHolderAttrArgs(e)},t.prototype.myStoriesPageTabHolderClassNameArgs=function(e){return this.viewModel.myStoriesPageTabHolderClassNameArgs(e)},t}(e.DynamicMenuVEBase);e.MyStoriesPageTitleOverflowVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=CommonBindings.View.Bindings.DynamicMenu,i=function(){function i(t){this.args=t,t.overflowMenuCssClass||(t.overflowMenuCssClass="myStoriesPageTitleOverflowMenu"),null==t.overflowButtonId&&(t.overflowButtonId=ClientAction.ButtonId.RecycleBin_Overflow),t.overflowButtonTelemetryId||(t.overflowButtonTelemetryId=e.Common.TelemetryConstants.recycleBinOverflowButtonId),this.createMySwaysTitle(),this.menuItemsVisible=TDB.watchableTag(596125081,this,!0)}return i.prototype.setEnterFunctionProvider=function(e){this.enterFuntionProvider=e},i.prototype.enter=function(){this.enterFuntionProvider.enter()},i.prototype.mySwaysClicked=function(e){var t=MyStoriesPageTitleControler.MyStoriesPageTitleOverflowAction.ShowMyStories();return this.args.myStoryNewList.mySwaysEntryClicked(),t},i.prototype.recycleBinEntryClicked=function(e){var t=MyStoriesPageTitleControler.MyStoriesPageTitleOverflowAction.ShowRecycleBinStories();return this.args.myStoryNewList.recycleBinEntryClicked(),t},i.prototype.viewedSwaysClicked=function(e){var t=MyStoriesPageTitleControler.MyStoriesPageTitleOverflowAction.ShowViewedStories();return this.args.myStoryNewList.viewedEntryClicked(),t},i.prototype.analyticsSwaysClicked=function(e){var t=MyStoriesPageTitleControler.MyStoriesPageTitleOverflowAction.ShowStoryAnalytics();return this.args.myStoryNewList.analyticsEntryClicked(),t},i.prototype.getChildren=function(){var e=this,n=[],o={buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_TitleTab_MySways,text:{value:Resources.EditedSwaysTitle},context:this,cssClass:{value:"tabButton"},calculateChecked:function(n){return e.args.sortingType.getWatchedValue(n)===t.MyStoriesSorting.MyStories},click:this.mySwaysClicked,textClass:"tabButtonText segoeUISemilight",tooltip:{value:Resources.EditedSwaysTooltip},shortcutProcessor:null,controls:i.myStoriesPageListId};if(n.push(this.createTextButtonMenuItemArgs(o,t.OverflowButtonLabel.Edited)),MyStoriesSettings.SiteViewedStoriesOnMySwaysPageV2Enabled){var r={buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_TitleTab_ViewedSways,text:{value:Resources.ViewedSwaysTitle},context:this,cssClass:{value:"tabButton"},calculateChecked:function(n){return e.args.sortingType.getWatchedValue(n)===t.MyStoriesSorting.ViewedStories},click:this.viewedSwaysClicked,textClass:"tabButtonText segoeUISemilight",tooltip:{value:Resources.ViewedSwaysTooltip},shortcutProcessor:null,controls:i.myStoriesPageListId};n.push(this.createTextButtonMenuItemArgs(r,t.OverflowButtonLabel.Viewed))}var s=parseInt(CommonSettings.AnonUserId,36)%100;if(CommonSettings.AuthorAnalyticsPageEnabled||CommonSettings.AuthorAnalyticsPageEnabledRolloutPercentage>s){var a={buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_TitleTab_Analytics,text:{value:Resources.AnalyticsTitleLabel},context:this,cssClass:{value:"tabButton"},calculateChecked:function(n){return e.args.sortingType.getWatchedValue(n)===t.MyStoriesSorting.Analytics},click:this.analyticsSwaysClicked,textClass:"tabButtonText segoeUISemilight",tooltip:{value:Resources.AnalyticsTitleDescription},shortcutProcessor:null,controls:i.myStoriesPageListId};n.push(this.createTextButtonMenuItemArgs(a,t.OverflowButtonLabel.Analytics))}var l={buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_TitleTab_RecycledSways,text:{value:Resources.DeletedSwaysTitle},context:this,cssClass:{value:"tabButton"},calculateChecked:function(n){return e.args.sortingType.getWatchedValue(n)===t.MyStoriesSorting.RecycleBin},click:this.recycleBinEntryClicked,textClass:"tabButtonText segoeUISemilight",tooltip:{value:Resources.DeletedSwaysTooltip},shortcutIdentifiers:["Alt+Shift+RKey"],shortcutProcessor:null,controls:i.myStoriesPageListId};return n.push(this.createTextButtonMenuItemArgs(l,t.OverflowButtonLabel.Recycled)),n},i.prototype.getExtraChildren=function(){return[{menuItem:this._title}]},i.prototype.createTextButtonMenuItemArgs=function(e,n){var i,o=new t.HideableMenuItem({primaryType:t.TabButtonVE,primaryArgs:e});return void 0!==n&&(i={type:t.OverflowMenuChildType.GlyphButton,args:{context:e.context,click:e.click,text:e.text,buttonId:e.buttonId},label:n,visible:o.getOverflowVisibility(),category:t.OverflowMenuCategory.None}),{menuItem:o,overflowArgs:i}},i.prototype.titleArgs=function(e){return this._title.getPrimaryArgs()},i.prototype.getCurrentSortingType=function(){return this.args.sortingType.getValue()},i.prototype.activeTabLabelTextArgs=function(e){var n;switch(this.args.sortingType.getWatchedValue(e)){case t.MyStoriesSorting.MyStories:n=Resources.EditedSwaysTitle;break;case t.MyStoriesSorting.RecycleBin:n=Resources.DeletedSwaysTitle;break;case t.MyStoriesSorting.ViewedStories:n=Resources.ViewedSwaysTitle;break;case t.MyStoriesSorting.Analytics:n=Resources.MyAnalyticsTitleLabel;break;default:TDB.raiseRecoverableError("MyStoriesPageTitleOverflowVE: activeTabLabelTextArgs: Unhandled sorting type",TDB.LogLevel.info)}return n},i.prototype.menuBelowWrapperClassNameArgs=function(e){if(this.menuItemsVisible.getWatchedValue(e))return"";var n="activeTabLabelWrapper activeTabLabelMenuItemsHidden ";return this.args.sortingType.getWatchedValue(e)===t.MyStoriesSorting.RecycleBin?n+="activeTabLabelWrapperHeightRecycleView":n+="activeTabLabelWrapperHeight",MyStoriesSettings.SiteMySwaysSortingEnabled&&(n+=" hiddenWhenSmall"),n},i.prototype.showActiveTabLabelArgs=function(e,t){for(var i=this,o=t(e),r=1;r<o.length;r++)if(o[r].state.getWatchedValue(e)!==n.MenuItemState.Overflow)return TDB.applyUpdate(function(){i.menuItemsVisible.setValue(!0)},TDB.Justification.DynamicMenu),!1;return TDB.applyUpdate(function(){i.menuItemsVisible.setValue(!1)},TDB.Justification.DynamicMenu),!0},i.prototype.createMySwaysTitle=function(){this._title=new t.StaticMenuItem({primaryType:t.TextBlockVE,primaryArgs:{text:Resources.MyRemixes,cssClass:"myStoriesTitleText segoeUISemilight",role:Aria.Roles.Heading,level:1}})},i.prototype.myStoriesPageTabHolderAttrArgs=function(e){var t={};return t[Aria.Attributes.Label]=Resources.MyRemixes,t},i.prototype.myStoriesPageTabHolderClassNameArgs=function(e){return MyStoriesSettings.SiteMySwaysSortingEnabled?"myStoriesPageTitleOverflow hiddenWhenSmall":"myStoriesPageTitleOverflow"},i.myStoriesPageListId="myStoriesSwaysTileWrapper",i}();t.MyStoriesPageTitleOverflowViewModel=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.View.ViewElements,i=function(t){function i(i){var o=t.call(this,i)||this;return n.PasswordEntryDialog.createAndShow(storyLookupId,function(){e.Common.UserStories.getInstance().onLoadingStory(storyLookupId),window.location.reload()},function(){window.location.href=CommonSettings.SiteRootUrl}),o}return __extends(i,t),i}(TDB.FocusableViewElement);t.PasswordEntryPageVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(e){function i(t){return e.call(this,t,{features:TDB.ControlSetFeatures.TabDisabled|TDB.ControlSetFeatures.PreserveFocusContext})||this}return __extends(i,e),i.prototype.ifDocWrapperArgs=function(){return MyStoriesSettings.CreateFromDocEnabled},i.prototype.createFromDocButtonArgs=function(){var e={buttonId:ClientAction.ButtonId.Tile_CreateNewFromDoc,click:this.createFromDoc,context:this,cssClass:{value:"createFromDocButton"},description:{value:Resources.ImportButtonTitle},enabled:n.Environment.getInstance().getClientOnline(),fontIconName:{value:FontIcons.CreateFromDocIcon},fontIconSizeClass:FontIcons.CreateFromDocIconSize,textClass:"segoeUISemilight createSourceText",text:{value:Resources.ImportButtonTitle},tooltip:{value:Resources.ImportWordPptPdfTooltip},role:Aria.Roles.Option};return new TDB.ChildArgs(t.GlyphButtonVE,e)},i.prototype.docIngestionFileInputArgs=function(){return new TDB.ChildArgsNoModel(t.DocIngestionFileInputVE)},i.prototype.createFromDoc=function(e){return n.Environment.getInstance().isClientOnline()&&n.UserStories.getInstance().submitCreateStoryFromOffice(),TDB.EventPropagation.Bypass},i.prototype.mouseClicked=function(e){return TDB.EventPropagation.Bypass},i}(TDB.ControlSet);t.ImportTileVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(n){function i(e,t){var i=n.call(this,e)||this;return i.args=t,i.cssClassSuffix=TDB.watchableOption(i,t.cssClassSuffix,""),i.telemetryId=t.telemetryId?t.telemetryId:"",i}return __extends(i,n),i.prototype.computeButtonCssClass=function(e){return this.args.buttonCssClass+" "+this.args.buttonCssClass+"_"+this.cssClassSuffix.getWatchedValue(e)},i.prototype.homeCallToActionButtonArgs=function(){var e=this.args.buttonText;return StoryLog.StructuredTraceTag(596125192,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"CallToActionButtonVE : createButton : Call to action button flight info",{ButtonText:e,AnonUserId:CommonSettings.AnonUserId}),new TDB.ChildArgs(t.TextButtonVE,{buttonId:this.args.buttonId,click:this.callToActionClicked,context:this,cssClass:{compute:new TDB.ComputedOptionArgs(this,this.computeButtonCssClass)},telemetryId:this.telemetryId,text:{value:e},description:{value:e}})},i.prototype.callToActionClicked=function(n){var i=this;return ActionLogger.RecordClientAction(new ClientAction.ButtonClickAction(this.args.buttonId,Diag.ULSCat.msoulscat_Story_Site)),this.args.freDialogArgs&&CommonSettings.IsFirstRun&&CommonSettings.FRESplashScreenEnabled&&!0!==CommonSettings.FRESplashScreenShown?(CommonSettings.FRESplashScreenShown=!0,this.args.freDialogArgs.onClose=function(){i.goToMyStoriesAction()},e.Utilities.setTimeoutIfSpecified(CommonSettings.JAWSDialogDelay,this,function(){return t.FRECarouselDialog.createAndShow(i.args.freDialogArgs)})):this.goToMyStoriesAction(),TDB.EventPropagation.Bypass},i.prototype.goToMyStoriesAction=function(){this.args.link?window.open(this.args.link,"_blank"):CommonMain.goToMyStoriesOrSignIn("CallToActionButtonVE : callToActionClicked on button "+ClientAction.ButtonId[this.args.buttonId])},i.prototype.wrapperClassNameArgs=function(e){return this.args.wrapperCssClass+" "+this.args.wrapperCssClass+"_"+this.cssClassSuffix.getWatchedValue(e)},i}(TDB.FocusableViewElement);t.CallToActionButtonVEBase=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,t)||this;return i._args=n,i.createFeaturedItems(),i}return __extends(t,e),t.prototype.createFeaturedItems=function(){},t.prototype.imageStyleArgs=function(){return{backgroundImage:"url("+this._args.image+")"}},t.prototype.itemClassNameArgs=function(){return"educationFeaturedItem "+this._args.cssClass},t.prototype.titleTextArgs=function(){return this._args.title},t.prototype.authorTextArgs=function(){return this._args.author},t.prototype.descriptionTextArgs=function(){return this._args.description},t.prototype.itemEventsInitArgs=function(){return{click:this.featureClicked}},t.prototype.featureClicked=function(){return window.open(this._args.link,"_blank"),!1},t}(TDB.FocusableViewElement);e.EducationFeaturedItemVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=e.Common.TelemetryConstants,o=function(o){function r(e,t){var n=o.call(this,e)||this;return n._args=t,n}return __extends(r,o),r.prototype.productNameTextArgs=function(e){return Resources.EducationProductName},r.prototype.taglineTextArgs=function(e){return Resources.EducationTagline},r.prototype.topButtonWrapperAttrArgs=function(){return{id:i.EducationPage_getStartedTopButtonWrapperId}},r.prototype.callToActionArgs=function(){var n=null;e.Utilities.ios&&(n=LandingPageSettings.SwayPlatformiOSUrl),e.Utilities.isWindows10&&(n=LandingPageSettings.SwayPlatformWin10Url);var o={wrapperCssClass:"educationCallToAction",buttonCssClass:"educationCallToActionButton",buttonId:ClientAction.ButtonId.EducationPage_GetStartedTop,buttonText:e.Utilities.ios||e.Utilities.isWindows10?Resources.EducationCallToActionFreeDownload:Resources.HomeCallToActionNew,freDialogArgs:e.Utilities.ios||e.Utilities.isWindows10?void 0:this._args?this._args.freDialogArgs:void 0,telemetryId:i.EducationPage_getStartedTopButtonId,link:n};return new TDB.ChildArgs(t.CallToActionButtonVE,o)},r.prototype.backgroundImageStyleArgs=function(e){var i;switch(this._args.windowSize.getWatchedValue(e)){case n.DeviceType.Mobile:case n.DeviceType.Tablet:i=t.EducationPageContentVE.FetchLocalizedEducationImage(t.EducationHeroVE.HeroImageMedium);break;default:i=t.EducationPageContentVE.FetchLocalizedEducationImage(t.EducationHeroVE.HeroImageLarge)}return{backgroundImage:"url("+CommonSettings.ContentBaseUrl+i+")"}},r.HeroImageSmall="hero_image_480x300.png",r.HeroImageMedium="hero_image_768x450.png",r.HeroImageLarge="hero_image_1920x800.png",r}(TDB.FocusableViewElement);t.EducationHeroVEBase=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,t)||this;return i._args=n,i}return __extends(t,e),t.prototype.checkmarkAttrArgs=function(){return{src:CommonSettings.ContentBaseUrl+"checkmark_icon.png",role:Aria.Roles.Presentation,alt:""}},t.prototype.textTextArgs=function(){return this._args.text},t}(TDB.FocusableViewElement);e.EducationPlansItemVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,t)||this;return i._args=n,i}return __extends(t,e),t.prototype.itemImageStyleArgs=function(){return{backgroundImage:"url("+this._args.image+")"}},t.prototype.itemTitleTextArgs=function(){return this._args.title},t.prototype.itemBodyTextArgs=function(){return this._args.body},t}(TDB.FocusableViewElement);e.EducationPromoItemVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n.items={hJeH7sAFxpsTBRzB:{title:Resources.EducationFeaturedSwayTitle1,author:Resources.EducationFeaturedSwayAuthor1,description:Resources.EducationFeaturedSwayDescription1,link:"https://go.microsoft.com/fwlink/?LinkId=703936"},"6-Z0xAZFF0XakYP6":{title:Resources.EducationFeaturedSwayTitle2,author:Resources.EducationFeaturedSwayAuthor2,description:Resources.EducationFeaturedSwayDescription2,link:"https://go.microsoft.com/fwlink/?LinkId=703937"},"WrpHjIPncgUO8kC-":{title:Resources.EducationFeaturedSwayTitle3,author:Resources.EducationFeaturedSwayAuthor3,description:Resources.EducationFeaturedSwayDescription3,link:"https://go.microsoft.com/fwlink/?LinkId=703938"}},n}return __extends(n,t),n.prototype.sectionTitleTextArgs=function(){return Resources.EducationFeaturedSwaySectionHeader},n.prototype.featuredStoryCarouselArgs=function(){return new TDB.ChildArgsNoModel(e.FeaturedStoryCarouselVE)},n}(TDB.FocusableViewElement);e.EducationFeaturedVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,t)||this;return i.quotationMarkEndStyleArgs=i.quotationMarkStartStyleArgs,i._args=n,i}return __extends(t,e),t.prototype.imageAttrArgs=function(){return{src:this._args.teacherImage,alt:"",role:Aria.Roles.Presentation}},t.prototype.testimonialItemClassNameArgs=function(){return"educationTestimonialItem "+this._args.cssClass},t.prototype.quoteTextArgs=function(){return this._args.quote},t.prototype.linkTextArgs=function(){return this._args.linkText},t.prototype.linkAttrArgs=function(){return{href:this._args.linkUrl}},t.prototype.linkTextTextArgs=function(){return this._args.linkText},t.prototype.linkChevronAttrArgs=function(){return{src:CommonSettings.ContentBaseUrl+"chevron_icon.png",role:Aria.Roles.Presentation,alt:""}},t.prototype.teacherNameTextArgs=function(){return this._args.teacherName},t.prototype.teacherDescriptionTextArgs=function(){return this._args.teacherDescription},t.prototype.teacherSchoolTextArgs=function(){return this._args.teacherSchool},t.prototype.quotationMarkStartTextArgs=function(){return Resources.EducationTestimonial_QuotationMark_Start||""},t.prototype.quotationMarkEndTextArgs=function(){return Resources.EducationTestimonial_QuotationMark_End||""},t.prototype.quotationMarkStartStyleArgs=function(){if(LandingPageSettings.EducationTestimonialQuotationMarkFontFamily)return{fontFamily:LandingPageSettings.EducationTestimonialQuotationMarkFontFamily}},t.prototype.quotationMarkStartClassNameArgs=function(){var e="hideQuotationMark";switch(LandingPageSettings.EducationTestimonialQuotationMarkPosition){case 0:e="hideQuotationMark";break;case 1:e="quotationMarkPositionStart";break;case 2:e="quotationMarkPositionCenter";break;case 3:e="quotationMarkPositionStart";break;case 4:e="quotationMarkPositionEnd"}return"quotationMarkStart "+e},t.prototype.quotationMarkEndClassNameArgs=function(){var e="hideQuotationMark";switch(LandingPageSettings.EducationTestimonialQuotationMarkPosition){case 0:case 1:e="hideQuotationMark";break;case 2:e="quotationMarkPositionCenter";break;case 3:e="quotationMarkPositionEnd";break;case 4:e="quotationMarkPositionStart"}return"quotationMarkEnd "+e},t}(TDB.FocusableViewElement);e.EducationTestimonialItemVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e,n){var i=t.call(this,e)||this;return i._args=n,i}return __extends(n,t),n.getWinStoreBadgeUrl=function(){var e=CommonSettings.UserLocaleString;return-1===n.winStoreSupportedLocales.indexOf(e)&&(e="en-us"),CommonSettings.ContentBaseUrl+"WindowsStoreBadge_"+e+".png"},n.prototype.showPlatformsArgs=function(){return LandingPageSettings.SwayPlatformsEnabled},n.prototype.platformsTitleTextArgs=function(){return Resources.HomeHowToGetSwayHeading},n.prototype.webClickHandler=function(e){return function(e){return CommonMain.goToMyStoriesOrSignIn("EducationPageContentVE : platfromWebAction"),TDB.EventPropagation.PreventDefault}},n.prototype.linksArgs=function(){return[{url:"#",message:Resources.HomeHowToGetSwayWeb,title:Resources.HomeHowToGetSwayWebTooltip,target:"_self",context:this,onClickHandler:this.webClickHandler(this._args.web.telemetryId)},{url:LandingPageSettings.SwayPlatformWin10Url,message:Resources.Windows10,title:Resources.Windows10Tooltip,target:"_blank",context:this}].map(function(t){return new TDB.ChildArgs(e.ClickableLinkVE,t)})},n.prototype.storeButtonsArgs=function(){return[{buttonId:this._args.web.buttonId,text:{value:Resources.HomeHowToGetSwayWeb},title:Resources.HomeHowToGetSwayWebTooltip,url:"#",click:this.webClickHandler(),imageUrl:n.webBadgeIconUrl,cssClass:{value:"platformBadge"},telemetryId:this._args.web.telemetryId,description:{value:Resources.HomeHowToGetSwayWebDescription}},{buttonId:this._args.win10.buttonId,title:Resources.Windows10Tooltip,url:LandingPageSettings.SwayPlatformWin10Url,target:"_blank",imageUrl:n.getWinStoreBadgeUrl(),telemetryId:this._args.win10.telemetryId,description:{value:Resources.Windows10Description},nativeKeyboardHandling:!0}].map(function(t){return new TDB.ChildArgs(e.LinkButtonVE,t)})},n.winStoreSupportedLocales=["ar-sa","be-by","bg-bg","bn-bd","cs-cz","da-dk","de-de","el-gr","en-us","es-es","et-ee","fi-fi","fil-ph","fr-fr","he-il","hi-in","hr-hr","hu-hu","id-id","it-it","ja-jp","ko-kr","lt-lt","lv-lv","ms-my","nb-no","nl-nl","pl-pl","pt-pt","ro-ro","ru-ru","sk-sk","sl-si","sr-latn-rs","sv-se","sw-ke","th-th","tr-tr","uk-ua","vi-vn","zh-cn","zh-tw"],n.webBadgeIconUrl=CommonSettings.ContentBaseUrl+"WebBadgeIcon.png",n}(TDB.FocusableViewElement);e.PlatformSupportVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common.TelemetryConstants,i=function(e){function i(t,n){var i=e.call(this,t)||this;return i._freDialogArgs=n?n.freDialogArgs:void 0,i}return __extends(i,e),i.prototype.createPlansItem=function(e){return new TDB.ChildArgs(t.EducationPlansItemVE,e)},i.prototype.planSwayButtonArgs=function(){var e={wrapperCssClass:"educationPlanButtonWrapper",buttonCssClass:"educationPlanButton",buttonId:ClientAction.ButtonId.EducationPage_GetStartedPlanSway,buttonText:Resources.EducationPlanCallToActionSway,freDialogArgs:this._freDialogArgs,telemetryId:n.EducationPage_getStartedPlanSwayButtonId};return new TDB.ChildArgs(t.CallToActionButtonVE,e)},i.prototype.planItemsArgs=function(){var e=this;return[{text:Resources.EducationPlanFeatureItem1},{text:Resources.EducationPlanFeatureItem2},{text:Resources.EducationPlanFeatureItem3}].map(function(t){return e.createPlansItem(t)})},i.prototype.planSwayAttrArgs=function(){return{src:CommonSettings.ContentBaseUrl+"sway_logo.png",role:Aria.Roles.Presentation,alt:""}},i.prototype.planSwayTitleTextArgs=function(){return Resources.EducationPlanTitleSway},i.prototype.planSwayO365AttrArgs=function(){return{src:CommonSettings.ContentBaseUrl+"sway_and_office_logo.png",role:Aria.Roles.Presentation,alt:""}},i.prototype.planSwayO365TitleTextArgs=function(){return Resources.EducationPlanTitleSwayO365},i.prototype.planItemsO365Args=function(){var e=this;return[{text:Resources.EducationPlanFeatureItem1},{text:Resources.EducationPlanFeatureItem2},{text:Resources.EducationPlanFeatureItem3},{text:Resources.EducationPlanFeatureItem4},{text:Resources.EducationPlanFeatureItem5},{text:Resources.EducationPlanFeatureItem6}].map(function(t){return e.createPlansItem(t)})},i.prototype.planSwayO365ButtonArgs=function(){var e={wrapperCssClass:"educationPlanButtonWrapper",buttonCssClass:"educationPlanButton",buttonId:ClientAction.ButtonId.EducationPage_GetStartedPlanSwayO365,buttonText:Resources.EducationPlanCallToActionSwayO365,telemetryId:n.EducationPage_getStartedPlaySwayO365ButtonId,link:Resources.EducationPlansSwayO365LearnMoreUrl};return new TDB.ChildArgs(t.CallToActionButtonVE,e)},i}(TDB.FocusableViewElement);t.EducationPlansVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.promoItemsArgs=function(){return[{image:CommonSettings.ContentBaseUrl+"illustration_01.png",title:Resources.EducationPromoItem1Title,body:Resources.EducationPromoItem1Body},{image:CommonSettings.ContentBaseUrl+"illustration_02.png",title:Resources.EducationPromoItem2Title,body:Resources.EducationPromoItem2Body},{image:CommonSettings.ContentBaseUrl+"illustration_03.png",title:Resources.EducationPromoItem3Title,body:Resources.EducationPromoItem3Body},{image:CommonSettings.ContentBaseUrl+"illustration_04.png",title:Resources.EducationPromoItem4Title,body:Resources.EducationPromoItem4Body}].map(function(t){return new TDB.ChildArgs(e.EducationPromoItemVE,t)})},n}(TDB.FocusableViewElement);e.EducationPromoVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=e.Common.TelemetryConstants,o=function(e){function o(t){var n=e.call(this,t,TDB.ControlSetFeatures.AutoEnter|TDB.ControlSetFeatures.Isolated|TDB.ControlSetFeatures.PreserveFocusContext)||this;return n._windowWidth=TDB.watchableTag(596125148,n,0),n._windowHeight=TDB.watchableTag(596125149,n,0),n._windowSize=TDB.watchableTag(596125150,n,0),n}return __extends(o,e),o.prototype.wrapperWidthWatcherInitArgs=function(){return this.updateWidth},o.prototype.updateWidth=function(e){var i=this,o=t.NewHomePageContentVE.screenWidth_360,r=t.NewHomePageContentVE.screenWidth_480,s=t.NewHomePageContentVE.screenWidth_768,a=t.NewHomePageContentVE.screenWidth_1024,l=t.NewHomePageContentVE.screenWidth_1366;TDB.applyUpdate(function(){var t=n.DeviceType.Desktop;e<=o||"Mobile"===CommonSettings.ClientDevice?t=n.DeviceType.Mobile:e<=r?t=n.DeviceType.Mobile:e<=s?t=n.DeviceType.Mobile:e<=a?t=n.DeviceType.Tablet:e<=l&&(t=n.DeviceType.Laptop),i._educationFeaturedVE&&i._educationFeaturedVE._featuredStoryCarousel&&i._educationFeaturedVE._featuredStoryCarousel.setWindowSize(t),i._windowSize.setValue(t),i._windowWidth.setValue(e)},TDB.Justification.SynchronousBrowserEvent)},o.prototype.wrapperHeightWatcherInitArgs=function(){return this.updateHeight},o.prototype.updateHeight=function(e){var t=this;TDB.applyUpdate(function(){t._windowHeight.setValue(e)},TDB.Justification.SynchronousBrowserEvent)},o.prototype.educationHeroArgs=function(){var e={windowHeight:this._windowHeight,windowWidth:this._windowWidth};return new TDB.ChildArgs(t.EducationHeroVE,{freDialogArgs:e,windowSize:this._windowSize})},o.prototype.showTestimonialArgs=function(){return LandingPageSettings.EducationPageTestimonialEnabled},o.prototype.educationTestimonialArgs=function(){return new TDB.ChildArgsNoModel(t.EducationTestimonialVE)},o.prototype.showIntroductionArgs=function(){return LandingPageSettings.EducationPageIntroductionEnabled},o.prototype.educationIntroductionArgs=function(){var e={windowHeight:this._windowHeight,windowWidth:this._windowWidth};return new TDB.ChildArgs(t.EducationIntroductionVE,{freDialogArgs:e,windowSize:this._windowSize})},o.prototype.showDividerArgs=function(){return LandingPageSettings.EducationPageTestimonialEnabled&&LandingPageSettings.EducationPageIntroductionEnabled},o.prototype.showPromoArgs=function(){return LandingPageSettings.EducationPagePromoEnabled},o.prototype.educationPromoArgs=function(){return new TDB.ChildArgsNoModel(t.EducationPromoVE)},o.prototype.showPlansArgs=function(){return LandingPageSettings.EducationPagePlansEnabled},o.prototype.educationPlansArgs=function(){var e={windowHeight:this._windowHeight,windowWidth:this._windowWidth};return new TDB.ChildArgs(t.EducationPlansVE,{freDialogArgs:e})},o.prototype.showFeaturedArgs=function(){return LandingPageSettings.EducationPageFeaturedEnabled},o.prototype.educationFeaturedArgs=function(){return new TDB.ChildArgsNoModel(t.EducationFeaturedVE)},o.prototype.bottomButtonWrapperAttrArgs=function(){return{id:i.EducationPage_getStartedBottomButtonWrapperId}},o.prototype.bottomButtonArgs=function(e){var n={wrapperCssClass:"educationCallToActionButtonWrapper",buttonCssClass:"educationCallToActionButton",buttonId:ClientAction.ButtonId.EducationPage_GetStartedBottom,buttonText:Resources.EducationPlanCallToActionSway,freDialogArgs:{windowWidth:this._windowWidth,windowHeight:this._windowHeight},telemetryId:i.EducationPage_getStartedBottomButtonId};return new TDB.ChildArgs(t.CallToActionButtonVE,n)},o.prototype.footerFollowUsArgs=function(){return new TDB.ChildArgsNoModel(t.FooterFollowUsVE)},o.prototype.footerArgs=function(){return new TDB.ChildArgsNoModel(t.SharedPageFooterVE)},o.FetchLocalizedEducationImage=function(e){var t=CommonSettings.UserLocaleString&&CommonSettings.UserLocaleString.toLowerCase();return LandingPageSettings.EducationPageLocalizedImagesEnabled?"education/"+t+"/"+e:"education/en-us/"+e},o.prototype.platformSupportArgs=function(){var e={web:{buttonId:ClientAction.ButtonId.EducationPage_Platform_Web,telemetryId:i.educationPlatformWebButtonId},win10:{buttonId:ClientAction.ButtonId.EducationPage_Platform_Windows,telemetryId:i.educationPlatformWindowsButtonId}};return new TDB.ChildArgs(t.PlatformSupportVE,e)},o.prototype.wrapperStyleArgs=function(e){var n=t.NewHomePageContentVEBase.getAppBarAndCookieHeight(e);return CommonSettings.UniversalHeaderFooterHomepageEnabled?{top:"0px"}:{top:n+"px","overflow-y":"scroll"}},o.SupportedLocalizedImages={"bg-bg":!0,"ca-es":!0,"cs-cz":!0,"da-dk":!0,"de-de":!0,"el-gr":!0,"en-us":!0,"es-es":!0,"et-ee":!0},o.appBarHeight=50,o}(t.RegionViewElement);t.EducationPageContentVEBase=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(n){function i(i,o){var r=n.call(this,i,o)||this;return t.DomEventRegister.getInstance().disableTouch(),CommonSettings.SSOEnabled&&e.Identity.getActions().registerSSO(new e.Identity.SSO),r}return __extends(i,n),i.prototype.homeContentArgs=function(){return new TDB.ChildArgsNoModel(t.EducationPageContentVE)},i.areEqual=function(e,t){return e.resourceFactory===t.resourceFactory},i.prototype.universalHeaderArgs=function(){return new TDB.ChildArgsNoModel(t.UniversalHeaderVE)},i.prototype.universalHeaderFooterHomepageEnabledArgs=function(){return CommonSettings.UniversalHeaderFooterHomepageEnabled},i.prototype.universalHeaderFooterHomepageDisabledArgs=function(){return!CommonSettings.UniversalHeaderFooterHomepageEnabled},i}(t.PageWithAppBarBaseVE);t.EducationPageVEBase=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=e.Common.TelemetryConstants,o=function(e){function o(t,n){var i=e.call(this,t)||this;return i._args=n,i}return __extends(o,e),o.prototype.getStartedArgs=function(){var e={wrapperCssClass:"educationIntroductionButtonWrapper",buttonCssClass:"educationIntroductionButton",buttonId:ClientAction.ButtonId.EducationPage_GetStartedIntroduction,buttonText:Resources.EducationPlanCallToActionSway,freDialogArgs:this._args?this._args.freDialogArgs:void 0,telemetryId:i.EducationPage_getStartedIntroductionButtonId};return new TDB.ChildArgs(t.CallToActionButtonVE,e)},o.prototype.introductionTitleTextArgs=function(){return Resources.EducationIntroductionTitle},o.prototype.introductionBodyTextArgs=function(){return Resources.EducationIntroductionBody},o.prototype.introductionAvailabilityTextArgs=function(){return Resources.EducationIntroductionAvailability},o.prototype.introductionImageStyleArgs=function(e){var i;switch(this._args.windowSize.getWatchedValue(e)){case n.DeviceType.Mobile:case n.DeviceType.Tablet:i=t.EducationPageContentVE.FetchLocalizedEducationImage(t.EducationIntroductionVE.DevicesImageMedium);break;default:i=t.EducationPageContentVE.FetchLocalizedEducationImage(t.EducationIntroductionVE.DevicesImageLarge)}return{backgroundImage:"url("+CommonSettings.ContentBaseUrl+i+")"}},o.DevicesImageMedium="sway_edu_devices_420x193.png",o.DevicesImageLarge="sway_edu_devices_840x385.png",o}(TDB.FocusableViewElement);t.EducationIntroductionVEBase=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n.items=[{quote:Resources.EducationTestimonial_Teacher1_Quote,linkText:Resources.EducationTestimonial_Teacher1_LinkText,linkUrl:"https://go.microsoft.com/fwlink/?LinkID=703932",teacherImage:CommonSettings.ContentBaseUrl+"educationpage_teacher1.png",teacherName:Resources.EducationTestimonial_Teacher1_Name,teacherDescription:Resources.EducationTestimonial_Teacher1_Description,teacherSchool:Resources.EducationTestimonial_Teacher1_School,cssClass:""},{quote:Resources.EducationTestimonial_Teacher2_Quote,linkText:Resources.EducationTestimonial_Teacher2_LinkText,linkUrl:"https://go.microsoft.com/fwlink/?LinkId=703934",teacherImage:CommonSettings.ContentBaseUrl+"educationpage_teacher2.png",teacherName:Resources.EducationTestimonial_Teacher2_Name,teacherDescription:Resources.EducationTestimonial_Teacher2_Description,teacherSchool:Resources.EducationTestimonial_Teacher2_School,cssClass:"hide-tablet"},{quote:Resources.EducationTestimonial_Teacher3_Quote,linkText:Resources.EducationTestimonial_Teacher3_LinkText,linkUrl:"https://go.microsoft.com/fwlink/?LinkId=703935",teacherImage:CommonSettings.ContentBaseUrl+"educationpage_teacher3.png",teacherName:Resources.EducationTestimonial_Teacher3_Name,teacherDescription:Resources.EducationTestimonial_Teacher3_Description,teacherSchool:Resources.EducationTestimonial_Teacher3_School,cssClass:"hide-tablet hide-laptop"}],n}return __extends(n,t),n.prototype.educationTestimonialItemsArgs=function(){return this.items&&this.items.map(function(t){return new TDB.ChildArgs(e.EducationTestimonialItemVE,t)})},n}(TDB.FocusableViewElement);e.EducationTestimonialVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common.TelemetryConstants,i=function(e){function i(t){var n=e.call(this,t)||this;return n.createFollowLinks(),n}return __extends(i,e),i.prototype.createFollowLinks=function(){this._followFacebookText=TDB.watchableTag(596125142,this,Resources.FollowFacebook),this._followTwitterText=TDB.watchableTag(596125143,this,Resources.FollowTwitter),this._followBlogText=TDB.watchableTag(596125144,this,Resources.FollowBlog),this._followTextCssClass=TDB.watcherTag(596125145,this,this,this.calculateFollowUsTextCssClass)},i.prototype.calculateFollowUsText=function(e,t){return t},i.prototype.calculateFollowUsTextCssClass=function(e){return"homeFollowText hide-tablet-landscape"},i.prototype.getFollowLinkArgs=function(e,t,n,i,o,r,s,a){return{buttonId:s,cssClass:{value:"homeFollowSource"},fontIconName:n,fontIconSizeClass:i,fontIconWrapperClass:o,telemetryId:a,text:{value:t},textCssClass:{watchable:r},url:e,nativeKeyboardHandling:!0}},i.prototype.followUsTextArgs=function(e){return this.calculateFollowUsText(e,Resources.FollowUs)},i.prototype.followFacebookArgs=function(){var e=this.getFollowLinkArgs(LandingPageSettings.FollowFacebookUrl,Resources.FollowFacebook,FontIcons.FollowFacebookIcon,FontIcons.FollowFacebookIconSize,"homeFollowGlyph homeFollowFacebook",this._followTextCssClass,ClientAction.ButtonId.FollowLink_Facebook,n.followFacebookId);return new TDB.ChildArgs(t.LinkButtonVE,e)},i.prototype.followTwitterArgs=function(){var e=this.getFollowLinkArgs(LandingPageSettings.FollowTwitterUrl,Resources.FollowTwitter,FontIcons.FollowTwitterIcon,FontIcons.FollowTwitterIconSize,"homeFollowGlyph",this._followTextCssClass,ClientAction.ButtonId.FollowLink_Twitter,n.followTwitterId);return new TDB.ChildArgs(t.LinkButtonVE,e)},i.prototype.followBlogArgs=function(){var e=this.getFollowLinkArgs(LandingPageSettings.FollowBlogUrl,Resources.FollowBlog,FontIcons.FollowBlogIcon,FontIcons.FollowBlogIconSize,"homeFollowGlyph",this._followTextCssClass,ClientAction.ButtonId.FollowLink_Blog,n.followBlogkId);return new TDB.ChildArgs(t.LinkButtonVE,e)},i}(TDB.FocusableViewElement);t.FooterFollowUsVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(){function n(e,t,n){this._dialogManager=e,this._state=t,this._creationTime=Date.now(),this._log="[+0 ms] "+t.toString()+";",this._logData={},this._logData.operationType=n,t.isFinalState()&&StoryLog.StructuredTraceTag(596125151,Diag.ULSCat.msoulscat_Story_Site,t.isFailureState()?Diag.ULSTraceLevel.error:Diag.ULSTraceLevel.info,this._log,this._logData),this._shouldJustCloseTheDialog=!1,this._dialogClosed=!1}return n.prototype.currentState=function(){return this._state},n.prototype.addLogData=function(e,t){this._logData[e]=t},n.prototype.changeState=function(e){this._state=e;var t=Date.now()-this._creationTime;this._log=this._log.concat(" [+"+t+" ms] "+e.toString()+";"),e.isFinalState()&&StoryLog.StructuredTraceTag(596125152,Diag.ULSCat.msoulscat_Story_Site,e.isFailureState()?Diag.ULSTraceLevel.warning:Diag.ULSTraceLevel.info,this._log,this._logData)},n.prototype.makeDialogCloseCallback=function(){var e=this;return function(){e.onDialogClosed(!0)}},n.prototype.justCloseTheDialog=function(){var e=this;this._dialogClosed||(this._shouldJustCloseTheDialog=!0,this._dialog.setOnCloseCallback(function(){e.onDialogClosed(!1)}),this._dialogManager.closeCurrentDialog())},n.prototype.closeDialogAndCallLightDismissCallback=function(){var e=this;this._dialogClosed||(this._dialog.setOnCloseCallback(function(){e.onDialogClosed(!1)}),this._dialogManager.closeCurrentDialog())},n.prototype.onDialogClosed=function(e){this._dialogClosed=!0,this._shouldJustCloseTheDialog||this.onDialogLightDismissed(e)},n.prototype.onDialogLightDismissed=function(e){},n.prototype.showErrorDialog=function(n,i,o,r){var s={message:i,storyTitles:o,storiesListDescription:r},a={title:n,description:n,dialogType:e.View.ViewElements.DialogType.Warning,allowCancel:!1,dialogLogMessage:this._errorLogMessage,buttonsArgs:[{caption:{value:Resources.RecycleBinErrorDialogCloseButton},isDefault:!0,dismissOnAction:!0,isNeutralButton:!0}],dialogCssClass:{value:"storyOperationErrorDialog"},width:548,ariaLive:Aria.AriaLiveValue.Polite,ariaRole:Aria.Roles.Dialog,contentArgs:new TDB.ChildArgs(t.StoryOperationErrorDialogVE,s)},l=this._dialogManager.createDialog(a);this._dialogManager.showDialog(l)},n}();t.DialogStateMachine=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n;!function(e){e[e.NotStarted=0]="NotStarted",e[e.DeleteMovedToBackground=1]="DeleteMovedToBackground",e[e.CompletedSuccessfully=2]="CompletedSuccessfully",e[e.CompletedUnsuccessfully=3]="CompletedUnsuccessfully"}(n=t.EMoveToRBState||(t.EMoveToRBState={}));var i=function(){function e(e){this._state=e}return e.prototype.val=function(){return this._state},e.prototype.toString=function(){return n[this._state]},e.prototype.isFinalState=function(){return this._state==n.CompletedSuccessfully||this._state==n.CompletedUnsuccessfully},e.prototype.isFailureState=function(){return this._state===n.CompletedUnsuccessfully},e}();t.MoveToRBState=i;var o=function(t){function o(e){var o=t.call(this,e.dialogManager,new i(n.NotStarted),"MoveToRB")||this;return t.prototype.addLogData.call(o,"storyId",e.lookupId),o.service=e.service,o.lookupId=e.lookupId,o.storyTitle=e.storyTitle,o.onDeleteSuccessAssumed=e.onDeleteSuccessAssumed,o.successCallback=e.successCallback,o.errorCallback=e.errorCallback,o.callbackContext=e.callbackContext,o.onOperationComplete=e.onOperationComplete,o}return __extends(o,t),o.prototype.start=function(){var e=this;this.service.moveStoryToRecycleBinRequest(this.lookupId,function(t,n){e.onDeleteSuccess(t,n)},function(t,n,i){e.onDeleteError(t,n,i)}),this.onDeleteSuccessAssumed.call(this.callbackContext,this.lookupId),this.changeState(new i(n.DeleteMovedToBackground))},o.prototype.onDeleteSuccess=function(e,t){this.successCallback.call(this.callbackContext,this.lookupId,e.deleteTime,e.deleteTimeDisplayString),this.addLogData("serverCorrelation",t),this.changeState(new i(n.CompletedSuccessfully)),this.onOperationComplete&&this.onOperationComplete.call(this.callbackContext,this.currentState().toString())},o.prototype.onDeleteError=function(o,r,s){this.addLogData("serverCorrelation",o.getResponseHeader(e.Common.CommonRequestHeaders.CorrelationIdHeader)),this.changeState(new i(n.CompletedUnsuccessfully)),this.errorCallback.call(this.callbackContext,this.lookupId);var a=null!==this.storyTitle?this.storyTitle:Resources.UntitledStoryTitle;t.prototype.showErrorDialog.call(this,Resources.MoveSwayToRBErrorDialogTitle,ResourceManager.ResolveString(Resources.MoveSwayToRBErrorDialogMessage,[a]),[],""),this.onOperationComplete&&this.onOperationComplete.call(this.callbackContext,this.currentState().toString())},o}(t.DialogStateMachine);t.MoveToRecycleBinDialog=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n;!function(e){e[e.NotStarted=0]="NotStarted",e[e.WaitingFinalChoice=1]="WaitingFinalChoice",e[e.DeleteMovedToBackground=2]="DeleteMovedToBackground",e[e.CompletedSuccessfully=3]="CompletedSuccessfully",e[e.CompletedUnsuccessfully=4]="CompletedUnsuccessfully",e[e.Canceled=5]="Canceled",e[e.GettingRecycledSwaysSucceed=6]="GettingRecycledSwaysSucceed",e[e.GettingRecycledSwaysFailed=7]="GettingRecycledSwaysFailed",e[e.DeletingInProgress=8]="DeletingInProgress"}(n=t.EDeleteState||(t.EDeleteState={}));var i=function(){function e(e){this._state=e}return e.prototype.val=function(){return this._state},e.prototype.toString=function(){return n[this._state]},e.prototype.isFinalState=function(){return this._state==n.CompletedSuccessfully||this._state==n.CompletedUnsuccessfully||this._state==n.Canceled||this._state==n.GettingRecycledSwaysFailed},e.prototype.isFailureState=function(){return this._state===n.CompletedUnsuccessfully},e}();t.DeleteStoriesState=i;var o=function(o){function r(r){var s=o.call(this,r.dialogManager,new i(n.NotStarted),"DeleteFromRB")||this;o.prototype.addLogData.call(s,"deleteAll",r.deleteAll?"True":"False"),o.prototype.addLogData.call(s,"storiesCount",r.deleteAll?"":r.storyInfos.length.toString()),s._errorLogMessage="Delete Dialog : Delete did not succeed",s.service=r.service,s.deleteAll=r.deleteAll,s.storyInfos=r.storyInfos,s.onDeleteSuccessAssumed=r.onDeleteSuccessAssumed,s.callbackContext=r.callbackContext,s.onOperationComplete=r.onOperationComplete,s.onDeleteSuccessConfirmed=r.onDeleteSuccessConfirmed,s.onDeleteErrorConfirmed=r.onDeleteErrorConfirmed,s.properlyHandledSwayIds=[],s.mergedStoryIds=[],s.deletingIterationNumber=0;var a={callbackContext:s,cancelCallback:s.onCancel,confirmCallback:s.onConfirm,deleteAll:r.deleteAll,selectedStoriesCount:r.storyInfos.length,selectedStoryTitle:s.storyInfos[0].storyTitle},l={description:Resources.RecycleBinTitle,width:456,noFocus:!1,dialogType:e.View.ViewElements.DialogType.Question,buttonsArgs:[],onClose:s.makeDialogCloseCallback(),lightDismiss:!0,dialogCssClass:{value:"recycleBinDialog"},dialogContentCssClass:"recycleBinDialogContent",contentArgs:new TDB.ChildArgs(t.DeleteStoriesDialogVE,a,function(e){s.dialogContent=e})};return s._dialog=s._dialogManager.createDialog(l),s}return __extends(r,o),r.prototype.onCancel=function(){this.justCloseTheDialog(),this.changeState(new i(n.Canceled)),this.onOperationComplete&&this.onOperationComplete.call(this.callbackContext,this.currentState().toString())},r.prototype.getLookupIds=function(){return this.storyInfos.map(function(e,t,n){return e.lookupId})},r.prototype.onConfirm=function(){var e=this;this.deleteAll?this.service.getRecycleBinSwaysRequest(function(t,n){e.onGetRecycledSuccess(t,n)},function(t,n,i){e.onGetRecycledError(t,n,i)}):this.service.deleteStoriesFromRecycleBinRequest(this.getLookupIds(),function(t,n){e.onDeleteSuccess(t,n)},function(t,n,i){e.onDeleteError(t,n,i)}),this.onDeleteSuccessAssumed.call(this.callbackContext,this.getLookupIds()),this.justCloseTheDialog(),this.changeState(new i(n.DeleteMovedToBackground))},r.prototype.onGetRecycledSuccess=function(e,t){var o=this;this.changeState(new i(n.GettingRecycledSwaysSucceed)),this.addLogData("getRecycleBinSwaysServerCorrelation",t),this.addLogData("serverRecycleBinCount",e.recycleBinSwayIds.length.toString()),this.mergedStoryIds=this.getLookupIds(),this.addLogData("clientRecycleBinCount",this.mergedStoryIds.length.toString());for(var s=0,a=e.recycleBinSwayIds;s<a.length;s++){var l=a[s];this.mergedStoryIds.addunique(l)}this.addLogData("numberOfSwaysToBeDeleted",this.mergedStoryIds.length.toString()),this.service.deleteStoriesFromRecycleBinRequest(this.mergedStoryIds.splice(0,r.batchSize),function(e,t){o.onDeleteSuccess(e,t)},function(e,t,n){o.onDeleteError(e,t,n)})},r.prototype.onDeleteSuccess=function(t,s){var a=this;if(this.deletingIterationNumber++,this.addLogData("deleteAllIteration"+this.deletingIterationNumber+"ServerCorrelation",s),this.addLogData("deletedCountIteration"+this.deletingIterationNumber,t.properlyHandledSwayIds.length.toString()),this.properlyHandledSwayIds=this.properlyHandledSwayIds.concat(t.properlyHandledSwayIds),0===this.mergedStoryIds.length){this.addLogData("deletedCountFinal",this.properlyHandledSwayIds.length.toString());var l=e.Utilities.except(this.getLookupIds(),this.properlyHandledSwayIds),c=l.length>0;this.addLogData("shouldRefresh",c?"True":"False"),c?(this.changeState(new i(n.CompletedUnsuccessfully)),this.onDeleteErrorConfirmed.call(this.callbackContext,e.Utilities.except(this.getLookupIds(),l),l),o.prototype.showErrorDialog.call(this,Resources.DeleteErrorDialogTitle,Resources.DeleteErrorDialogMessage,e.Utilities.where(this.storyInfos,function(e){return ArrayExtensions.contains(l,e.lookupId)}).map(function(e,t,n){return e.storyTitle}),Resources.DeleteErrorDialogList)):(this.changeState(new i(n.CompletedSuccessfully)),this.onDeleteSuccessConfirmed.call(this.callbackContext,this.getLookupIds())),this.onOperationComplete&&this.onOperationComplete.call(this.callbackContext,this.currentState().toString())}else this.changeState(new i(n.DeletingInProgress)),this.properlyHandledSwayIds=this.properlyHandledSwayIds.concat(t.properlyHandledSwayIds),this.service.deleteStoriesFromRecycleBinRequest(this.mergedStoryIds.splice(0,r.batchSize),function(e,t){a.onDeleteSuccess(e,t)},function(e,t,n){a.onDeleteError(e,t,n)})},r.prototype.onGetRecycledError=function(t,r,s){this.addLogData("getRecycleBinSwaysServerCorrelation",t.getResponseHeader(e.Common.CommonRequestHeaders.CorrelationIdHeader)),this.changeState(new i(n.GettingRecycledSwaysFailed)),this.onDeleteErrorConfirmed.call(this.callbackContext,[],this.getLookupIds()),o.prototype.showErrorDialog.call(this,Resources.DeleteErrorDialogTitle,Resources.DeleteErrorDialogMessage,this.storyInfos.map(function(e,t,n){return e.storyTitle}),Resources.DeleteErrorDialogList),this.onOperationComplete&&this.onOperationComplete.call(this.callbackContext,this.currentState().toString())},r.prototype.onDeleteError=function(t,r,s){this.addLogData("deleteAllFinalServerCorrelation",t.getResponseHeader(e.Common.CommonRequestHeaders.CorrelationIdHeader)),this.changeState(new i(n.CompletedUnsuccessfully)),this.onDeleteErrorConfirmed.call(this.callbackContext,[],this.getLookupIds()),o.prototype.showErrorDialog.call(this,Resources.DeleteErrorDialogTitle,Resources.DeleteErrorDialogMessage,this.storyInfos.map(function(e,t,n){return e.storyTitle}),Resources.DeleteErrorDialogList),this.onOperationComplete&&this.onOperationComplete.call(this.callbackContext,this.currentState().toString())},r.prototype.start=function(){this._dialogManager.showDialog(this._dialog),this.changeState(new i(n.WaitingFinalChoice))},r.prototype.onDialogLightDismissed=function(e){e&&StoryLog.TraceTag(596125153,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"User light dismissed permanent delete dialog"),this.changeState(new i(n.Canceled)),this.onOperationComplete&&this.onOperationComplete.call(this.callbackContext,this.currentState().toString())},r.prototype.getCurrentState=function(){return this.currentState().toString()},r.batchSize=30,r}(t.DialogStateMachine);t.DeleteStoriesDialog=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e,n){var i=t.call(this,e)||this;return i._args=n,i}return __extends(n,t),n.prototype.detailedMessageTextArgs=function(e){return this.chooseProperStringAndResolveIt(Resources.DeleteAllSwaysWarrning,Resources.DeleteSelectedSwaysWarrning,Resources.DeleteOneSwayWarrning)},n.prototype.messageTextArgs=function(e){return Resources.DeleteSwayConfirmationQuestion},n.prototype.cancelButtonArgs=function(){var t={buttonId:ClientAction.ButtonId.RecycleBin_DeleteDialog_Close,text:{value:Resources.DeleteSwaysBailOut},context:this,cssClass:{value:"NeutralButton recycleBinDialogButton"},click:this.cancelClicked,textClass:"recycleBinDialogButtonText segoeUISemilight",description:{value:Resources.DeleteSwaysBailOut},tooltip:{value:Resources.DeleteSwaysBailOut}};return new TDB.ChildArgs(e.TextButtonVE,t)},n.prototype.cancelClicked=function(e){return this._args.cancelCallback.call(this._args.callbackContext),TDB.EventPropagation.Bypass},n.prototype.confirmButtonArgs=function(){var t={buttonId:ClientAction.ButtonId.RecycleBin_DeleteDialog_Delete,text:{value:Resources.DeleteSwaysConfirmation},context:this,cssClass:{value:"EmphasisButton recycleBinDialogConfirmationButton"},click:this.confirmClicked,textClass:"recycleBinDialogButtonText segoeUISemilight",tooltip:{value:Resources.DeleteSwaysConfirmation},description:{value:Resources.DeleteSwaysConfirmation}};return new TDB.ChildArgs(e.TextButtonVE,t)},n.prototype.confirmClicked=function(e){return this._args.confirmCallback.call(this._args.callbackContext),TDB.EventPropagation.Bypass},n.prototype.chooseProperStringAndResolveIt=function(e,t,n){return this._args.deleteAll?e:1!=this._args.selectedStoriesCount?ResourceManager.ResolveString(t,[this._args.selectedStoriesCount]):ResourceManager.ResolveString(n,[this.limitTitleString(this._args.selectedStoryTitle)])},n.prototype.limitTitleString=function(e){return e.length<20?e:e.substr(0,20)+"..."},n}(TDB.FocusableViewElement);e.DeleteStoriesDialogVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(i){function o(e,t){var n=i.call(this,e)||this;return n.longStringLanguages=["km-kh"],n.args=t,n.videoSource=TDB.watcherTag(596455628,n,n,n.getVideoSource),n.imageSource=TDB.watcherTag(596444488,n,n,n.getImageSource),n.videoPlaying=TDB.watchableTag(596455629,n,!1),n.inFocus=TDB.watchableTag(596452818,n,!1),n}return __extends(o,i),o.prototype.getVideoSource=function(e){return this.args.windowWidth.getWatchedValue(e)>t.NewHomePageContentVEBase.screenWidth_1366?this.args.videoSourceFormatter(this.renderVideoOnCanvas()?this.args.video_600_Tall:this.args.video_600_Regular):this.args.videoSourceFormatter(this.renderVideoOnCanvas()?this.args.video_310_Tall:this.args.video_310_Regular)},o.prototype.getImageSource=function(e){return this.args.windowWidth.getWatchedValue(e)>t.NewHomePageContentVEBase.screenWidth_1366?this.args.videoSourceFormatter(this.args.image_600):this.args.videoSourceFormatter(this.args.image_310)},o.prototype.promoPillarTitleTextArgs=function(e){return this.args.title},o.prototype.promoPillarTitleClassNameArgs=function(e){var t=this.args.windowSize.getWatchedValue(e);return"segoeUILight promoPillarTitleNewVisualDesign_"+n.DeviceType[t]},o.prototype.promoPillarTitleStyleArgs=function(e){return this.wordWrapStyleArgs()},o.prototype.promoPillarContentTextArgs=function(e){return this.args.content},o.prototype.promoPillarContentStyleArgs=function(e){return this.wordWrapStyleArgs()},o.prototype.promoPillarContentClassNameArgs=function(e){var t=this.args.windowSize.getWatchedValue(e);return"promoPillarContentNewVisualDesign_"+n.DeviceType[t]},o.prototype.rootClassNameArgs=function(e){var t=this.args.windowSize.getWatchedValue(e);return"left"===this.args.imagePosition?"promoPillar promoPillarLeftNewVisualDesign_"+n.DeviceType[t]:"promoPillar promoPillarRightNewVisualDesign_"+n.DeviceType[t]},o.prototype.rootAttrArgs=function(){return{id:"promoPillar_"+this.args.ID}},o.prototype.rootStyleArgs=function(){return{backgroundColor:this.renderVideoOnCanvas()?this.args.backgroundColor:this.videoBackgroundBrowserAppropriate()}},o.prototype.promoPillarVideoHolderSideClassNameArgs=function(e){var t=this.args.windowSize.getWatchedValue(e);return"promoPillarVideoHolder_"+n.DeviceType[t]},o.prototype.promoPillarVideoHolderSideStyleArgs=function(e){return this.renderVideoOnCanvas()?this.args.currentScreenWidthClass.getWatchedValue(e)<=t.NewVisualDesignHomePageContentVE.screenWidth_1366?{height:this.args.videoHeightPhone_Tall/2+"px"}:{height:this.args.videoHeight_Tall/2+"px"}:{}},o.prototype.promoPillarVideoHolderSideEventsInitArgs=function(){return{mouseenter:this.mouseEnter,mouseleave:this.mouseLeave}},o.prototype.mouseEnter=function(e){var t=this;return TDB.applyUpdate(function(){t.inFocus.setValue(!0)}),!0},o.prototype.mouseLeave=function(e){var t=this;return TDB.applyUpdate(function(){t.inFocus.setValue(!1)}),!0},o.prototype.promoPillarTextHolderClassNameArgs=function(e){var t=this.args.windowSize.getWatchedValue(e);return"promoPillarTextHolderNewVisualDesign_"+n.DeviceType[t]},o.prototype.wordWrapStyleArgs=function(){return ArrayExtensions.contains(this.longStringLanguages,CommonSettings.UserLocaleString.toLowerCase())?{wordWrap:"break-word"}:{}},o.prototype.videoPlayerArgs=function(){var e={videoSource:this.videoSource,imageSource:this.imageSource,playing:this.videoPlaying,videoButtonId:ClientAction.ButtonId.PlayPromoPillarVideo,pauseButtonId:ClientAction.ButtonId.PausePromoPillarVideo,id:this.args.ID,renderVideoOnCanvas:this.renderVideoOnCanvas(),currentScreenWidthClass:this.args.currentScreenWidthClass,videoDescription:this.args.videoDescription,videoPlayButtonDescription:this.args.videoPlayButtonDescription,videoPauseButtonDescription:this.args.videoPauseButtonDescription,videoWidth:this.args.videoWidth,videoHeight:this.args.videoHeight_Tall,videoWidthPhone:this.args.videoWidthPhone,videoHeightPhone:this.args.videoHeightPhone_Tall,inFocus:this.inFocus,muted:!0};return new TDB.ChildArgs(t.BrowserVideoPlayerVE,e)},o.prototype.renderVideoOnCanvas=function(){return!(e.Utilities.browser.isIE||e.Utilities.browser.isSafari10OrEarlier||e.Utilities.browser.isMobile&&(e.Utilities.browser.isEdge||e.Utilities.browser.isFirefox))},o.prototype.promoPillarBackgroundStyleArgs=function(){return{backgroundColor:this.renderVideoOnCanvas()?this.args.backgroundColor:this.videoBackgroundBrowserAppropriate()}},o.prototype.videoBackgroundBrowserAppropriate=function(){return"right"===this.args.imagePosition?"#ffffff":"#f7f7f7"},o.prototype.promoPillarBackgroundClassNameArgs=function(e){return"promoPillarBackground_"+this.args.currentScreenWidthClass.getWatchedValue(e)},o.prototype.promoPillarTextElementClassNameArgs=function(e){var t=this.args.windowSize.getWatchedValue(e),i="promoPillarElement_"+n.DeviceType[t];return t==n.DeviceType.Mobile?i:this.args.imagePosition===o.floatImageLeft?i+" promoPillarElementRight":i+" promoPillarElementLeft"},o.prototype.promoPillarVideoElementClassNameArgs=function(e){var t=this.args.windowSize.getWatchedValue(e),i=this.args.windowWidth.getWatchedValue(e),r="promoPillarElement_"+n.DeviceType[t];return t==n.DeviceType.Mobile?i<=358?"":r:this.args.imagePosition===o.floatImageLeft?r+" promoPillarElementLeft":r+" promoPillarElementRight"},o.floatImageLeft="left",o.floatImageRight="right",o}(TDB.FocusableViewElement);t.PromoPillarVideoVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common.Environment,i=function(i){function o(t,n){var o=this;return void 0===n.overflowMenuCssClass&&(n.overflowMenuCssClass="recycleBinOverflowMenu"),void 0===n.overflowButtonId&&(n.overflowButtonId=ClientAction.ButtonId.RecycleBin_Overflow),void 0===n.overflowButtonTelemetryId&&(n.overflowButtonTelemetryId=e.Common.TelemetryConstants.recycleBinOverflowButtonId),void 0===n.overflowButtonCssClass&&(n.overflowButtonCssClass="recycleBinButton"),o=i.call(this,t,n)||this,o.args=n,o.isAnyStorySelected=TDB.watchableOption(o,n.isAnyStorySelected),o.isRecycleBinEmpty=TDB.watchableOption(o,n.isRecycleBinEmpty),o}return __extends(o,i),o.prototype.getChildren=function(){return this.createButtons(this.args)},o.prototype.createRestoreSelectedMenuItemArgs=function(e,n){var i={buttonArgs:{buttonId:ClientAction.ButtonId.RecycleBin_RestoreSelected,context:e.callbackContext,cssClass:{value:"recycleBinButton"},click:e.restoreSelectedCallback,textClass:"recycleBinGlyphButton segoeUISemilight",text:{value:Resources.RestoreSelectedAction},description:void 0,shortcutIdentifiers:["Shift+InsertKey"],fontIconName:{value:FontIcons.RestoreStoryButtonIcon},fontIconSizeClass:FontIcons.RecycleBinButtonIconSize,fontIconWrapperClass:{value:"recycleBinRestoreFontIconWrapper"},textPlacementRight:!0,enabled:n,tooltip:{value:Resources.RestoreButtonTooltip}},overflowMenuButtonLabel:t.OverflowButtonLabel.RestoreSelected};return this.createGlyphButtonMenuItemArgs(i)},o.prototype.createDeleteSelectedMenuItemArgs=function(e,n){var i={buttonArgs:{buttonId:ClientAction.ButtonId.RecycleBin_DeleteSelected,text:{value:Resources.DeleteSelectedAction},context:e.callbackContext,cssClass:{value:"recycleBinButton"},click:e.deleteSelectedCallback,textClass:"recycleBinGlyphButton segoeUISemilight",description:void 0,shortcutIdentifiers:["Shift+DeleteKey"],fontIconName:{value:FontIcons.PermanentDeleteStoryIcon},fontIconSizeClass:FontIcons.RecycleBinButtonIconSize,fontIconWrapperClass:{value:"recycleBinDeleteFontIconWrapper"},textPlacementRight:!0,enabled:n,tooltip:{value:Resources.DeleteButtonTooltip}},overflowMenuButtonLabel:t.OverflowButtonLabel.DeleteSelected};return this.createGlyphButtonMenuItemArgs(i)},o.prototype.createRestoreAllMenuItemArgs=function(e,n){var i={buttonArgs:{buttonId:ClientAction.ButtonId.RecycleBin_RestoreAll,context:e.callbackContext,cssClass:{value:"recycleBinButton"},click:e.restoreAllCallback,textClass:"recycleBinGlyphButton segoeUISemilight",description:{value:Resources.RestoreAllAction},shortcutIdentifiers:["Shift+InsertKey"],fontIconName:{value:FontIcons.RestoreAllStoriesIcon},fontIconSizeClass:FontIcons.RecycleBinButtonIconSize,fontIconWrapperClass:{value:"restoreAllStoriesFontIconWrapper"},text:{value:Resources.RestoreAllAction},textPlacementRight:!0,enabled:n,tooltip:{value:Resources.RestoreAllButtonTooltip}},overflowMenuButtonLabel:t.OverflowButtonLabel.RestoreAll};return this.createGlyphButtonMenuItemArgs(i)},o.prototype.createDeleteAllMenuItemArgs=function(e,n){var i={buttonArgs:{buttonId:ClientAction.ButtonId.RecycleBin_DeleteAll,context:e.callbackContext,cssClass:{value:"recycleBinButton"},click:e.deleteAllCallback,textClass:"recycleBinGlyphButton segoeUISemilight",description:{value:Resources.EmptyRecycleBinAction},shortcutIdentifiers:["Shift+DeleteKey"],fontIconName:{value:FontIcons.DeleteAllStoriesIcon},fontIconSizeClass:FontIcons.RecycleBinButtonIconSize,fontIconWrapperClass:{value:"deleteAllStoriesFontIconWrapper"},text:{value:Resources.EmptyRecycleBinAction},textPlacementRight:!0,enabled:n,tooltip:{value:Resources.EmptyRecycleBinButtonTooltip}},overflowMenuButtonLabel:t.OverflowButtonLabel.DeleteAll};return this.createGlyphButtonMenuItemArgs(i)},o.prototype.createClearSelectionMenuItemArgs=function(e,n){var i={buttonArgs:{buttonId:ClientAction.ButtonId.RecycleBin_ClearSelection,context:e.callbackContext,cssClass:{value:"recycleBinButton"},click:e.clearSelectionCallback,textClass:"recycleBinGlyphButton segoeUISemilight",description:e.clearSelectionButtonText,shortcutIdentifiers:["Ctrl+SpaceKey"],fontIconName:{value:FontIcons.ClosePaneIcon},fontIconSizeClass:FontIcons.RecycleBinButtonIconSize,fontIconWrapperClass:{value:"clearSelectionFontIconWrapper"},text:e.clearSelectionButtonText,textPlacementRight:!0,enabled:n,tooltip:{value:Resources.ClearSelectionButtonTooltip}},stateMap:t.MenuItem.createGenericButtonStateMap(),overflowMenuButtonLabel:t.OverflowButtonLabel.ClearSelection,overflowButtonText:this.args.clearSelectionOverflowButtonText};return this.createGlyphButtonMenuItemArgs(i)},o.prototype.enabledWhenAnyStorySelected=function(e){return this.isAnyStorySelected.getWatchedValue(e)&&n.getInstance().isClientOnline(e)},o.prototype.createButtons=function(e){var t=[],n=new TDB.ComputedOptionArgs(this,this.enabledWhenAnyStorySelected);return t.push(this.createDeleteSelectedMenuItemArgs(e,{compute:n})),t.push(this.createRestoreSelectedMenuItemArgs(e,{compute:n})),t.push(this.createDeleteAllMenuItemArgs(e)),t.push(this.createRestoreAllMenuItemArgs(e)),t.push(this.createClearSelectionMenuItemArgs(e,e.isAnyStorySelected)),t},o.prototype.createGlyphButtonMenuItemArgs=function(e){var n,i=new t.CollapsibleMenuItem({primaryType:t.GlyphButtonVE,primaryArgs:e.buttonArgs,stateMap:e.stateMap});return void 0!==e.overflowMenuButtonLabel&&(n={type:t.OverflowMenuChildType.GlyphButton,visible:i.getOverflowVisibility(),label:e.overflowMenuButtonLabel,category:t.OverflowMenuCategory.RecycleBin,args:{context:e.buttonArgs.context,click:e.buttonArgs.click,text:e.overflowButtonText||e.buttonArgs.text,buttonId:e.buttonArgs.buttonId}}),{menuItem:i,overflowArgs:n}},o.prototype.onChildActiveStateChanged=function(e,t){if(t){var n=e.last(),o=this.getActivatableChildren();ArrayExtensions.contains(o,n)&&(this.setActiveChild(n),this.enter())}else e.last()!==this.activeChild||this.activeChild.canActivate()||this.enter();i.prototype.onChildActiveStateChanged.call(this,e,t)},o.prototype.recycleBinMenuItemsWrapperClassNameArgs=function(e){return this.isRecycleBinEmpty.getWatchedValue(e)?"recycleBinMenuItemsWrapperHidden":"recycleBinMenuItemsWrapper"},o.prototype.getDynamicMenuVisible=function(e){return!this.isRecycleBinEmpty.getWatchedValue(e)},o.glyphOnlyModeCssClass="recycleBinGlyphButtonHideText",o}(t.DynamicMenuVEBase);t.RecycleBinMenuVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n;!function(e){e[e.NotStarted=0]="NotStarted",e[e.RemovingMovedToBackground=1]="RemovingMovedToBackground",e[e.CompletedSuccessfully=2]="CompletedSuccessfully",e[e.CompletedUnsuccessfully=3]="CompletedUnsuccessfully"}(n=t.ERemoveViewedSwayState||(t.ERemoveViewedSwayState={}));var i=function(){function e(e){this._state=e}return e.prototype.val=function(){return this._state},e.prototype.toString=function(){return n[this._state]},e.prototype.isFinalState=function(){return this._state==n.CompletedSuccessfully||this._state==n.CompletedUnsuccessfully},e.prototype.isFailureState=function(){return this._state===n.CompletedUnsuccessfully},e}();t.RemoveViewedSwayState=i;var o=function(t){function o(e){var o=t.call(this,e.dialogManager,new i(n.NotStarted),"RemoveViewedSway")||this;return t.prototype.addLogData.call(o,"storyId",e.storyTile.getLookupId()),o.service=e.service,o.context=e.context,o.storyTile=e.storyTile,o.onRemoveViewedSuccessAssumed=e.onRemoveViewedSuccessAssumed,o.onRemoveViewedErrorConfirmed=e.onRemoveViewedErrorConfirmed,o.onRemoveViewedSuccessConfirmed=e.onRemoveViewedSuccessConfirmed,o}return __extends(o,t),o.prototype.start=function(){var e=this;this.service.removeViewedStoryFromUserList(this.storyTile.getLookupId(),function(t,n){e.onRemoveSuccess(t,n)},function(t,n,i){e.onRemoveError(t,n,i)}),this.onRemoveViewedSuccessAssumed.call(this.context,this.storyTile),this.changeState(new i(n.RemovingMovedToBackground))},o.prototype.onRemoveSuccess=function(e,t){this.addLogData("serverCorrelation",t),this.onRemoveViewedSuccessConfirmed.call(this.context,this.storyTile),this.changeState(new i(n.CompletedSuccessfully))},o.prototype.onRemoveError=function(o,r,s){this.addLogData("serverCorrelation",o.getResponseHeader(e.Common.CommonRequestHeaders.CorrelationIdHeader)),this.changeState(new i(n.CompletedUnsuccessfully));var a=this.storyTile.getTitle();a&&(a=Resources.UntitledStoryTitle),t.prototype.showErrorDialog.call(this,Resources.RemoveViewedErrorDialogTitle,ResourceManager.ResolveString(Resources.RemoveViewedErrorDialogMessage,[a]),[],"Random Text"),this.onRemoveViewedErrorConfirmed.call(this.context,this.storyTile)},o}(t.DialogStateMachine);t.RemoveViewedSwayDialog=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n;!function(e){e[e.NotStarted=0]="NotStarted",e[e.RestoreMovedToBackground=1]="RestoreMovedToBackground",e[e.CompletedSuccessfully=2]="CompletedSuccessfully",e[e.CompletedUnsuccessfully=3]="CompletedUnsuccessfully",e[e.GettingRecycledSwaysSucceed=4]="GettingRecycledSwaysSucceed",e[e.GettingRecycledSwaysFailed=5]="GettingRecycledSwaysFailed",e[e.RestoringInProcess=6]="RestoringInProcess"}(n=t.ERestoreState||(t.ERestoreState={}));var i=function(){function e(e){this._state=e}return e.prototype.val=function(){return this._state},e.prototype.toString=function(){return n[this._state]},e.prototype.isFinalState=function(){return this._state==n.CompletedSuccessfully||this._state==n.CompletedUnsuccessfully||this._state==n.GettingRecycledSwaysFailed},e.prototype.isFailureState=function(){return this._state===n.CompletedUnsuccessfully},e}();t.RestoreStoriesState=i;var o=function(t){function o(e){var o=t.call(this,e.dialogManager,new i(n.NotStarted),"RestoreFromRB")||this;return t.prototype.addLogData.call(o,"restoreAll",e.restoreAll?"True":"False"),t.prototype.addLogData.call(o,"storiesCount",e.restoreAll?"":e.storyInfos.length.toString()),o._errorLogMessage="Restore Dialog : Restore did not succeed",o.service=e.service,o.storyInfos=e.storyInfos,o.onRestoreSuccessAssumed=e.onRestoreSuccessAssumed,o.restoreAll=e.restoreAll,o.callbackContext=e.callbackContext,o.onOperationComplete=e.onOperationComplete,o.onRestoreSuccessConfirmed=e.onRestoreSuccessConfirmed,o.onRestoreErrorConfirmed=e.onRestoreErrorConfirmed,o.properlyHandledSwayIds=[],o.mergedLookupIds=[],o.restoringIteration=0,o}return __extends(o,t),o.prototype.getLookupIds=function(){return this.storyInfos.map(function(e,t,n){return e.lookupId})},o.prototype.start=function(){var e=this;this.restoreAll?this.service.getRecycleBinSwaysRequest(function(t,n){e.onGetRecycledSuccess(t,n)},function(t,n,i){e.onGetRecycledError(t,n,i)}):this.service.restoreStoriesFromRecycleBinRequest(this.getLookupIds(),function(t,n){e.onRestoreSuccess(t,n)},function(t,n,i){e.onRestoreError(t,n,i)}),this.onRestoreSuccessAssumed.call(this.callbackContext,this.getLookupIds()),this.changeState(new i(n.RestoreMovedToBackground))},o.prototype.onGetRecycledSuccess=function(e,t){var r=this;this.changeState(new i(n.GettingRecycledSwaysSucceed)),this.addLogData("getRecycleBinSwaysServerCorrelation",t),this.addLogData("serverRecycleBinCount",e.recycleBinSwayIds.length.toString()),this.mergedLookupIds=this.getLookupIds(),this.addLogData("clientRecycleBinCount",this.mergedLookupIds.length.toString());for(var s=0,a=e.recycleBinSwayIds;s<a.length;s++){var l=a[s];this.mergedLookupIds.addunique(l)}this.addLogData("numberOfSwaysToBeRestored",this.mergedLookupIds.length.toString()),this.service.restoreStoriesFromRecycleBinRequest(this.mergedLookupIds.splice(0,o.batchSize),function(e,t){r.onRestoreSuccess(e,t)},function(e,t,n){r.onRestoreError(e,t,n)})},o.prototype.onRestoreSuccess=function(r,s){var a=this;if(this.restoringIteration++,0===this.mergedLookupIds.length){this.addLogData("restoreAllFinalServerCorrelation",s),this.properlyHandledSwayIds=this.properlyHandledSwayIds.concat(r.properlyHandledSwayIds),this.addLogData("restoredCountFinal",this.properlyHandledSwayIds.length.toString());var l=e.Utilities.except(this.getLookupIds(),this.properlyHandledSwayIds),c=l.length>0;this.addLogData("shouldRefresh",c?"True":"False"),c?(this.changeState(new i(n.CompletedUnsuccessfully)),this.onRestoreErrorConfirmed.call(this.callbackContext,e.Utilities.except(this.getLookupIds(),l),l),t.prototype.showErrorDialog.call(this,Resources.RestoreErrorDialogTitle,Resources.RestoreErrorDialogMessage,e.Utilities.where(this.storyInfos,function(e){return ArrayExtensions.contains(l,e.lookupId)}).map(function(e,t,n){return e.storyTitle}),Resources.RestoreErrorDialogList)):(this.changeState(new i(n.CompletedSuccessfully)),this.onRestoreSuccessConfirmed.call(this.callbackContext,this.getLookupIds())),this.onOperationComplete&&this.onOperationComplete.call(this.callbackContext,this.currentState().toString())}else this.changeState(new i(n.RestoringInProcess)),this.addLogData("restoreAllIteration"+this.restoringIteration+"ServerCorrelation",s),this.addLogData("restoredCountIteration"+this.restoringIteration,r.properlyHandledSwayIds.length.toString()),this.properlyHandledSwayIds=this.properlyHandledSwayIds.concat(r.properlyHandledSwayIds),this.service.restoreStoriesFromRecycleBinRequest(this.mergedLookupIds.splice(0,o.batchSize),function(e,t){a.onRestoreSuccess(e,t)},function(e,t,n){a.onRestoreError(e,t,n)})},o.prototype.onGetRecycledError=function(o,r,s){this.addLogData("getRecycleBinSwaysServerCorrelation",o.getResponseHeader(e.Common.CommonRequestHeaders.CorrelationIdHeader)),this.changeState(new i(n.GettingRecycledSwaysFailed)),this.onRestoreErrorConfirmed.call(this.callbackContext,[],this.getLookupIds()),t.prototype.showErrorDialog.call(this,Resources.RestoreErrorDialogList,Resources.RestoreErrorDialogMessage,this.storyInfos.map(function(e,t,n){return e.storyTitle}),Resources.RestoreErrorDialogList),this.onOperationComplete&&this.onOperationComplete.call(this.callbackContext,this.currentState().toString())},o.prototype.onRestoreError=function(o,r,s){this.addLogData("restoreAllFinalServerCorrelation",o.getResponseHeader(e.Common.CommonRequestHeaders.CorrelationIdHeader)),this.changeState(new i(n.CompletedUnsuccessfully)),this.onRestoreErrorConfirmed.call(this.callbackContext,[],this.getLookupIds()),t.prototype.showErrorDialog.call(this,Resources.RestoreErrorDialogTitle,Resources.RestoreErrorDialogMessage,this.storyInfos.map(function(e,t,n){return e.storyTitle}),Resources.RestoreErrorDialogList),this.onOperationComplete&&this.onOperationComplete.call(this.callbackContext,this.currentState().toString())},o.batchSize=30,o}(t.DialogStateMachine);t.RestoreStoriesDialog=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(n){function i(e){var t=n.call(this,e,TDB.ControlSetFeatures.None)||this;return t.footerIdSelector="#sharedPageFooter",t}return __extends(i,n),i.prototype.footerCopyHtmlArgs=function(){return t.HomeConstants.sharedFooterSelector},i.prototype.enter=function(){return this.enterNoFocus()&&this.focusEdgeElement(!0),!0},i.prototype.focusEdgeElement=function(e){var t=$(this.footerIdSelector).find("a");0!==t.length?e?t.first().focus():t.last().focus():StoryLog.TraceTag(596125062,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"No focusable elements in footer!")},i.prototype.handleKeyEvent=function(t,i){if(t.keyCode===KeyCodeType.TabKey){var o=TDB.EventPropagation.Bypass;if(i===TDB.ViewElementKeyEventType.KeyDownEvent){var r=$(this.footerIdSelector).find("a").toArray(),s=e.Utilities.getDocumentActiveElement();s!==r.last()||t.shiftKey?s===r.first()&&t.shiftKey&&(this.focusEdgeElement(!1),o=TDB.EventPropagation.PreventDefault):(this.focusEdgeElement(!0),o=TDB.EventPropagation.PreventDefault)}return o}return n.prototype.handleKeyEvent.call(this,t,i)},i.prototype.mouseClicked=function(e){return n.prototype.mouseClicked.call(this,e),TDB.EventPropagation.Bubble},i}(t.RegionViewElement);t.SharedPageFooterVEBase=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e,n){var i=t.call(this,e)||this;return i.args=n,i}return __extends(n,t),n.prototype.messageTextArgs=function(e){return this.args.message},n.prototype.storyTitleListAttrArgs=function(e){var t={};return t[Aria.Attributes.Label]=this.args.storiesListDescription,t},n.prototype.shouldShowStoryTitleListArgs=function(){return this.args.storyTitles.length>0},n.prototype.storyTitlesArgs=function(){for(var t=[],n=0;n<this.args.storyTitles.length;n++){var i={title:this.args.storyTitles[n]};t.push(new TDB.ChildArgs(e.StoryTitleItemVE,i))}return t},n}(TDB.ViewElement);e.StoryOperationErrorDialogVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,t)||this;return i.args=n,i}return __extends(t,e),t.prototype.storyTitleTextArgs=function(e){return this.args.title},t}(TDB.ViewElement);e.StoryTitleItemVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(i){function o(e,t,n,r){var s=i.call(this,e,{features:TDB.ControlSetFeatures.HorizontalList|TDB.ControlSetFeatures.TabDisabled|TDB.ControlSetFeatures.TabInto|TDB.ControlSetFeatures.NoWrappingNavigation})||this;if(s._model=t,s.focusableSurrogate=new TDB.FocusableSurrogate(s,{}),s.addFocusableChild(s.focusableSurrogate),s._thumbnailNaturalHeight=TDB.watchableTag(596125027,s,0),s._thumbnailNaturalWidth=TDB.watchableTag(596125056,s,0),s.tileDisabled=TDB.watchableTag(596125057,s,!1),s.storyDisabled=TDB.watcherTag(596125058,s,s,s.isStoryBlocked),s._tileContainerWidth=o.storyTileWidth_MySwaysPage,s._tileContainerHeight=o.storyTileHeight_MySwaysPage,s._detailsVisible=TDB.watchableTag(596125059,s,!0),s.onTileClick=n,s.callbackContext=r,s._model.getThumbnail()){var a=new Image;$(a).load(function(){TDB.applyUpdate(function(){s._thumbnailNaturalWidth.setValue(a.naturalWidth),s._thumbnailNaturalHeight.setValue(a.naturalHeight)},TDB.Justification.SynchronousBrowserEvent),$(a).off("load")}),a.src=s._model.getThumbnail(),a.complete&&$(a).trigger("load")}return s}return __extends(o,i),o.prototype.getLookupId=function(){return this._model.getLookupId()},o.prototype.getTitle=function(){return this._model.getTitleForDisplay()},o.prototype.getTitleDirection=function(){return this._model.getTitleDirection()},o.prototype.getSwayVersion=function(){return this._model.getSwayVersion()},o.prototype.thumbnailAttrArgs=function(e){var t={src:this._model.getThumbnail(),alt:""};return t[Aria.Attributes.Hidden]=Aria.BooleanState.True,t},o.prototype.thumbnailStyleArgs=function(e){var t={},n=this._thumbnailNaturalHeight.getWatchedValue(e),i=this._thumbnailNaturalWidth.getWatchedValue(e);if(this._model.getThumbnail()&&i>0&&n>0){var o=i/n,r=void 0,s=void 0;if(o>this._tileContainerWidth/this._tileContainerHeight){s=(r=this._tileContainerHeight)*o;var a=(this._tileContainerWidth-s)/2;t["margin-left"]=a.toString()+"px"}else{r=(s=this._tileContainerWidth)/o;var l=(this._tileContainerHeight-r)/2;t["margin-top"]=l.toString()+"px"}t.width=s.toString()+"px",t.height=r.toString()+"px"}return t},o.prototype.tileContainerAttrArgs=function(e){var t={},n=this.getTitle(),i=this._model.getSetSize(),o=this._model.getPositionInSet();return t[Aria.Attributes.Title]=n,t[Aria.Attributes.Label]=n,void 0!==i&&(t[Aria.Attributes.Setsize]=i.toString()),void 0!==o&&(t[Aria.Attributes.Posinset]=o.toString()),t},o.prototype.tooltipStyleArgs=function(e){var n={};return this._model.getThumbnail()||(n["background-color"]=t.HomeConstants.appGray),n},o.prototype.titleTextArgs=function(e){return this.getTitle()},o.prototype.titleAttrArgs=function(e){var t={};return t.dir=this.getTitleDirection()===n.TitleTextDirection.RightToLeft?"rtl":"ltr",t},o.prototype.titleClassNameArgs=function(e){return"segoeUISemilight UnselectableText tileTitle"},o.prototype.linkEventsInitArgs=function(){return{click:this.onLoadingStory}},o.prototype.linkAttrArgs=function(){return{href:this._model.getUrl(),target:this._model.getTarget()}},o.prototype.FocusableInitArgs=function(){return{surrogate:this.focusableSurrogate}},o.prototype.logOpenStoryTileAction=function(){Cookie.setPageRequestInfo(this._model.getUrl());var e=new ClientAction.OpenStoryTileData(this._model.getLookupId(),this.getTileType());ActionLogger.RecordClientAction(e)},o.prototype.onLoadingStory=function(e){this.logOpenStoryTileAction(),this.onTileClick&&this.callbackContext&&this.onTileClick.call(this.callbackContext,this._model);var t=this.shouldForceNavigate(e)||this._model.getSwayVersion()>=2;return n.UserStories.getInstance().onLoadingStory(this._model.getLookupId(),!0,!0,!1,t)},o.prototype.shouldForceNavigate=function(e){var t=e;return!(1===t.which&&!t.ctrlKey||t.which===KeyCodeType.SpaceKey||t.which===KeyCodeType.EnterKey)},o.navigateToStory=function(e,t,i){return n.UserStories.getInstance().onLoadingStory(e.getLookupId(),t,!0,!1,i)&&window.open(e.getUrl(),"_self")?TDB.EventPropagation.PreventDefault:TDB.EventPropagation.Bubble},o.prototype.setDetailsVisible=function(e,t){var n=this;TDB.applyUpdate(function(){n._detailsVisible.setValue(e)},t)},o.prototype.ifTileOverlayArgs=function(e){return this._detailsVisible.getWatchedValue(e)},o.prototype.ifTileButtonsArgs=function(e){return this._detailsVisible.getWatchedValue(e)},o.prototype.hideAllMenuAndRestoreFocus=function(){this._menuTile&&this._menuTile.hideAllMenuAndRestoreFocus(),this.setDetailsVisible(!0,TDB.Justification.SynchronousBrowserEvent)},o.prototype.isTileDissabled=function(){return this.tileDisabled.getValue()||this.storyDisabled.getValue()},o.prototype.disableTile=function(e){var t=this;TDB.applyUpdate(function(){t.tileDisabled.setValue(e)})},o.prototype.tileBlockerArgs=function(){var e={tileDisabled:this.tileDisabled,storyDisabled:this.storyDisabled};return new TDB.ChildArgs(t.TileBlockerVE,e)},o.prototype.isStoryBlocked=function(e){return this._model.isBlocked(e)},o.prototype.compareModel=function(e){return this._model===e},o.prototype.hideSubMenuAndShowMenu=function(){this._menuTile&&(this._menuTile.hideSubMenu(),this._menuTile.show()),this.setDetailsVisible(!1,TDB.Justification.SynchronousBrowserEvent)},o.prototype.onAction=function(e){return TDB.EventPropagation.Bypass},o.prototype.keyDown=function(e){TDB.EventPropagation.Bubble;switch(e.keyCode){case KeyCodeType.EnterKey:case KeyCodeType.SpaceKey:return this.onEnterOrSpace(e)}return i.prototype.keyDown.call(this,e)},o.prototype.keyUp=function(t){return e.Utilities.browser.isFirefox&&t.keyCode==KeyCodeType.SpaceKey?TDB.EventPropagation.PreventDefault:i.prototype.keyUp.call(this,t)},o.prototype.mouseDown=function(e){return TDB.EventPropagation.Bypass},o.prototype.mouseClicked=function(e){return ActionLogger.RecordClientAction(new ClientAction.ButtonClickAction(ClientAction.ButtonId.Story_Tile,Diag.ULSCat.msoulscat_Story_InteractionModel)),this.onAction(e)},o.storyTileWidth_MySwaysPage=250,o.storyTileHeight_MySwaysPage=133,o}(TDB.ControlSet);t.StoryTileBaseVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(i){function o(e,t){var n=i.call(this,e,t.viewModel,t.onTileClick,t.callbackContext)||this;return n.args=t,n}return __extends(o,i),o.prototype.onLoadingStory=function(e){return this.logOpenStoryTileAction(),n.UserStories.getInstance().onLoadingStory(this._model.getLookupId(),!1,!0,!1,this.shouldForceNavigate(e))},o.prototype.onEnterOrSpace=function(e){return this.logOpenStoryTileAction(),this.args.onTileClick&&this.args.callbackContext&&this.args.onTileClick.call(this.args.callbackContext,this._model),t.StoryTileVEBase.navigateToStory(this._model,!1,this.shouldForceNavigate(e))},o.prototype.addStory=function(e){this.args.addStory.call(this.args.callbackContext,e)},o.prototype.duplicateStory=function(e){this.args.duplicateStory.call(this.args.callbackContext,e)},o.prototype.viewedDateTextArgs=function(e){return this._model.getLastViewTimeDisplayString()?this._model.getLastViewTimeDisplayString():""},o.prototype.menuTileArgs=function(){var e={viewModel:this._model,context:this,addStory:this.addStory,duplicateStory:this.duplicateStory,hideAllMenuAndRestoreFocus:this.hideAllMenuAndRestoreFocus,onDeleteButtonConfirmed:this.onDeleteButtonConfirmed,hideSubMenuAndShowMenu:this.hideSubMenuAndShowMenu,sharingManager:this.args.sharingManager};return new TDB.ChildArgs(t.MenuTileVE,e)},o.prototype.ellipsisArgs=function(){var e={buttonId:ClientAction.ButtonId.Tile_Ellipses,click:this.ellipsisButtonClicked,context:this,cssClass:{value:"storyTileTopButton"},description:{value:Resources.MySwaysTileOverflowButtonShortDescription},tooltip:{value:Resources.MySwaysTileOverflowButtonTooltip},enabled:n.Environment.getInstance().getClientOnline(),fontIconName:{value:FontIcons.StoryOverflowIcon},fontIconSizeClass:FontIcons.StoryOverflowIconSize,hasPopup:!0};return new TDB.ChildArgs(t.GlyphButtonVE,e)},o.prototype.ellipsisButtonClicked=function(e){return this._menuTile.show(),i.prototype.setDetailsVisible.call(this,!1),TDB.EventPropagation.Bypass},o.prototype.getLookupId=function(){return this._model.getLookupId()},o.prototype.getTileType=function(){return"ViewedStoryTile"},o.prototype.tileContainerAttrArgs=function(t){var n={};n[Aria.Attributes.Title]=void 0,n[Aria.Attributes.Label]=void 0;var i=this.getTitle(),o=this._model.getLastViewTimeDisplayString();if(i&&o){var r=e.Utilities.formatString(Resources.TileTitleViewedDateAriaLabelAndTooltip,[i,o]);n[Aria.Attributes.Title]=r,n[Aria.Attributes.Label]=i}else i&&(n[Aria.Attributes.Title]=i);return n},o.prototype.onDeleteButtonConfirmed=function(e){this._menuTile.hideAllMenuAndRestoreFocus(),this.args.onDeleteButtonConfirmed.call(this.args.callbackContext,e)},o}(t.StoryTileBaseVEBase);t.MyStoriesPageViewedTileVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(t){function n(e,n){var i=t.call(this,e)||this;return i.args=n,i}return __extends(n,t),n.prototype.keyDown=function(e){return e.keyCode!==KeyCodeType.EnterKey&&e.keyCode!==KeyCodeType.SpaceKey||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey?TDB.EventPropagation.Bubble:TDB.EventPropagation.Bypass},n.prototype.mouseClicked=function(e){return TDB.EventPropagation.PreventDefault},n.prototype.ifTileDisabledArgs=function(e){var t=this.args.tileDisabled.getWatchedValue(e),n=this.args.storyDisabled.getWatchedValue(e);return t||n},n.prototype.showOperationInProgressArgs=function(e){return this.args.storyDisabled.getWatchedValue(e)},n.prototype.progressWheelArgs=function(t){return new TDB.ChildArgs(e.View.ViewElements.DialogLoadingSpinnerVE,{spinnerImage:"loadingwhitespinner60.gif",width:40,height:40})},n}(TDB.ViewElement);t.TileBlockerVEBase=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(e){function i(t,n){var i=e.call(this,t)||this;return i.args=n,i.carouselOffset=TDB.watchableTag(596125025,i,0),i}return __extends(i,e),i.prototype.createCarouselElements=function(){var e={testimonialImage:Icons.homePageTestimonials_0,userTestimonialText:Resources.UserTestimonial0,userTestimonialName:Resources.UserTestimonialUser0,userTestimonialRole:Resources.UserTestimonialRole0,urlHelper:this.args.urlHelper},n={testimonialImage:Icons.homePageTestimonials_1,userTestimonialText:Resources.UserTestimonial1,userTestimonialName:Resources.UserTestimonialUser1,userTestimonialRole:Resources.UserTestimonialRole1,urlHelper:this.args.urlHelper},i=[];return i.push({optionArgs:e,optionType:t.UserTestimonialsVE}),i.push({optionArgs:n,optionType:t.UserTestimonialsVE}),i},i.prototype.carouselArgs=function(){var e=CommonSettings.SiteUiRtl,o=e?"testimonialNextButtonWrapper transformRotate180Deg":"testimonialNextButtonWrapper",r=e?"testimonialPreviousButtonWrapper transformRotate180Deg":"testimonialPreviousButtonWrapper",s={optionArgsAndTypes:{value:this.createCarouselElements()},logString:"UserTestimonailHomepage",pillarsVisible:i.numberOfTestimonialsVisible,windowSize:{value:n.DeviceType.Mobile},windowWidth:this.args.windowWidth,numColumns:{value:i.numberOfColumns},carouselOffset:this.carouselOffset,carouselElementsWrapperCssClass:{value:"testimonialCarouselElementsWrapper"},carouselWrapperCssClass:"createTilesCarouselWrapper",previousButtonClientActionButtonId:ClientAction.ButtonId.Home_TestimonailPrevious,nextButtonClientActionButtonId:ClientAction.ButtonId.Home_TestimonailNext,previousButtonTooltip:Resources.UserTestimonialCarouselPreviousButtonTooltip,nextButtonTooltip:Resources.UserTestimonialCarouselNextButtonTooltip,previousButtonDescription:Resources.UserTestimonialCarouselPreviousButtonTooltip,nextButtonDescription:Resources.UserTestimonialCarouselNextButtonTooltip,carouselMode:t.ECarouselMode.LoopedOneByOne,carouselDescription:Resources.UserTestimonialCarouselDescription,callbackContext:this.args.callbackContext,imageCarouselNextButtonCss:"TransparentButton",imageCarouselPreviousButtonCss:"TransparentButton",fontIconCss:"userTestimonialFontIcon",nextButtonWrapperCssClass:o,previousButtonWrapperCssClass:r};return new TDB.ChildArgs(t.ImagePillarCarouselVE,s)},i.numberOfTestimonialsVisible=1,i.numberOfColumns=1,i}(TDB.FocusableViewElement);t.UserTestimonialsCarouselVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,t)||this;return i.args=n,i}return __extends(t,e),t.prototype.userTestimonialTextTextArgs=function(){return this.args.userTestimonialText},t.prototype.userTestimonialNameTextArgs=function(){return this.args.userTestimonialName},t.prototype.userTestimonialTitleTextArgs=function(){return this.args.userTestimonialRole},t.prototype.userTestimonialIconStyleArgs=function(){return{backgroundImage:"url("+this.args.urlHelper.getHomepageContent(this.args.testimonialImage)+")"}},t.prototype.canActivate=function(){return!1},t}(TDB.Control);e.UserTestimonialsVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(){function i(e){this._args=e,i.dialogTitle=Resources.AuthorsListTitle}return i.createAndShow=function(e){new i(e).show()},i.prototype.show=function(){var o=this;ActionLogger.RecordClientAction(new ClientAction.SimpleClientActionData(ClientAction.ActionType.MyStoriesViewAuthors,Diag.ULSCat.msoulscat_Story_Site)),t.ProgressDialog.createAndShow(i.dialogTitle),$.ajax(n.UrlHelper.getInstance().getEditorsUrl(this._args.lookupId),{name:"GetEditors",description:"Getting a list of editors",type:"GET",contentType:e.RequestManager.JsonContentType,dataType:"json",cache:!1,success:function(e,t,n){o.showSuccess(e)},error:function(e,t,n){!o._args.isOwner&&e&&401==e.status?o.showUnauthorized(t,n):o.showError(t,n)}})},i.prototype.showSuccess=function(n){var o=this;e.View.Common.DialogManager.closeCurrentDialog();var r=new TDB.ChildArgs(t.EditorsListDialogVE,{editorListResponse:n,editorListId:i.c_editorsListId,storyTitle:this._args.storyTitle}),s={title:i.dialogTitle,description:i.dialogTitle,noFocus:!1,dialogType:t.DialogType.Info,lightDismiss:!0,dialogWrapperCssClass:{value:"EditorsListDialog"},ariaLive:Aria.AriaLiveValue.Polite,ariaRole:Aria.Roles.Dialog,contentArgs:r};s.buttonsArgs=[{caption:{value:Resources.ButtonOK},isDefault:!0,dismissOnAction:!0,isNeutralButton:!0}],this._args.isOwner?s.buttonsArgs.push({caption:{value:Resources.EditorListDialogAddAuthor},onAction:function(e,t){o.showAddEditor()}}):s.buttonsArgs.push({caption:{value:Resources.EditorListDialogRemoveMe},onAction:function(e,t){o.showRemoveEditor()}}),this._dlg=e.View.Common.DialogManager.createAndShow(s)},i.prototype.showRemoveEditor=function(){e.View.Common.DialogManager.closeCurrentDialog(),this._args.onRemoveEditor&&this._args.onRemoveEditor(this._args.lookupId)},i.prototype.showAddEditor=function(){e.View.Common.DialogManager.closeCurrentDialog(),this._args.onAddEditor&&this._args.onAddEditor(this._args.lookupId)},i.prototype.showError=function(n,o){var r=Resources.EditorListDialogGenericError;e.View.Common.DialogManager.closeCurrentDialog();var s={title:i.dialogTitle,description:i.dialogTitle,noFocus:!1,dialogType:t.DialogType.Info,lightDismiss:!0,dialogWrapperCssClass:{value:"EditorsListDialog"},messages:[r],buttonsArgs:[{caption:{value:Resources.ButtonOK},onAction:function(){e.View.Common.DialogManager.closeCurrentDialog()},isDefault:!1,dismissOnAction:!1}]};this._dlg=e.View.Common.DialogManager.createAndShow(s)},i.prototype.showUnauthorized=function(n,o){var r=this;e.View.Common.DialogManager.closeCurrentDialog();var s={title:Resources.EditorListDialogUnauthorizedErrorTitle,description:i.dialogTitle,noFocus:!1,dialogType:t.DialogType.Info,lightDismiss:!0,dialogWrapperCssClass:{value:"EditorsListDialog"},messages:[Resources.EditorListDialogUnauthorizedErrorMessage],buttonsArgs:[{caption:{value:Resources.EditorListDialogUnauthorizedErrorRemoveButton},onAction:function(e,t){r.showRemoveEditor()},isDefault:!1,dismissOnAction:!1},{caption:{value:Resources.ButtonClose},onAction:function(){e.View.Common.DialogManager.closeCurrentDialog()},isDefault:!1,dismissOnAction:!1}]};this._dlg=e.View.Common.DialogManager.createAndShow(s)},i.c_editorsListId="EditorsListDialogDescription",i}();t.EditorListDialog=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var RemoveEditorDialog=function(){function e(e,t){this.lookupId=e,this.userId=t}return e.prototype.show=function(){var e=this;this.deferred=$.Deferred();var t={title:Resources.RemoveEditorDialogTitle,description:Resources.RemoveEditorDialogTitle,width:300,noFocus:!1,dialogType:StoryApp.View.ViewElements.DialogType.Info,buttonsArgs:[],contentArgs:new TDB.ChildArgs(StoryApp.View.ViewElements.DialogLoadingSpinnerVE,{})};return StoryApp.View.Common.DialogManager.createAndShow(t),RemoveEditor.removeEditorRequest(this.lookupId,this.userId).done(function(){e.onSuccess()}).fail(function(t,n,i){e.onError(t,n,i)}),this.deferred.promise()},e.prototype.onSuccess=function(){var e=this;StoryApp.View.Common.DialogManager.closeCurrentDialog(function(){e.deferred.resolve({lookupId:e.lookupId,userId:e.userId})})},e.prototype.onError=function(e,t,n){StoryApp.Utilities.browser.isWebkit&&0==e.status&&"error"==t&&""==n||this.showError(t,n)},e.prototype.showError=function(e,t){var n=Resources.RemoveEditorDialogErrorGeneric;"timeout"==t&&(n=Resources.RemoveEditorDialogErrorTimeout),StoryApp.View.Common.DialogManager.closeCurrentDialog();var i=[{caption:{value:Resources.ButtonOK},onAction:$.proxy(this.onButtonOK,this),isDefault:!1,dismissOnAction:!1,id:"iddlButtonOK"}],o={dialogType:StoryApp.View.ViewElements.DialogType.Error,dialogLogMessage:"Remove Editor Failed",title:Resources.RemoveEditorDialogTitle,description:Resources.RemoveEditorDialogTitle,messages:[n],buttonsArgs:i};StoryApp.View.Common.DialogManager.createAndShow(o)},e.prototype.onButtonOK=function(e){var t=this;StoryApp.View.Common.DialogManager.closeCurrentDialog(function(){t.deferred.reject(t.lookupId,t.userId)})},e}(),HomeMain;!function(e){function t(){return capturePerformanceMetric("LandingPageInitStart"),o(n())}function n(){if(!i())return StoryLog.TraceTag(596455557,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"Not on homepage or education page. Skipping default sign in."),$.Deferred().reject();var e=new StoryApp.Identity.DefaultSignInAdapter(window).signIn();return e.then(function(e){StoryLog.TraceTag(596455555,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"DefaultSignIn success. Redirect to sign-in page."),window.location.href=e},function(){StoryLog.TraceTag(596455556,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"DefaultSignIn failed."),UX.LoadingBarrier.hide()}),e}function i(){var e=$("#homePage"),t=$("#educationPage");return StoryLog.StructuredTraceTag(596455558,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"Checking whether homepage or education page",{"homepageContent.length":e.length,"educationPageContent.length":t.length}),1===e.length||1===t.length}function o(e){return capturePerformanceMetric("LandingPageInitStartWithDefaultSignIn"),StoryApp.RethrowLogger.logIfError(function(){(new h.GlobalExceptionHandler).register();var t=Task.fromResult(!1),n=$("#homePage");1===n.length&&(n.show(),t=r(g.HomePageVE,n[0],"Home",h.PageCompartmentManager.getInstance().createNewPageCompartment(),e));var i=$("#educationPage");1===i.length&&(i.show(),t=r(g.EducationPageVE,i[0],"Education",h.PageCompartmentManager.getInstance().createNewPageCompartment(),e));var o=$("#passwordEntryPage");if(1===o.length){o.show();var s={createView:function(e){return new g.PasswordEntryPageVE(e)},parentElement:o[0],scenario:g.PageRootScenario[g.PageRootScenario.PasswordEntry],creationPolicy:new p.Common.CreationPolicy,pageId:h.PageCompartmentManager.getInstance().createNewPageCompartment()};g.PageRootVE.createAndAttach(s),h.MessageBus.getInstance().fireMessage(h.MessageType.LandingPageReady),t=Task.fromResult(!0)}return t.then(function(e){e&&(h.NavigationContext.CurrentType=h.NavigationContextType.Landing)}),t})}function r(e,t,n,i,o){capturePerformanceMetric("CreateLandingPageStart"),StoryLog.BufferedTraceTag(596444883,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"HomeMain::createLandingPage",{pageId:i});var r=new DeferredTask,c=h.NavigationContext.StoryPageDestroy?h.NavigationContext.StoryPageDestroy():Task.fromResult(!0);return StoryLog.BufferedTraceTag(596444884,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"HomeMain::createLandingPage StoryPageDestroy "+(h.NavigationContext.StoryPageDestroy?"exists":"does not exist"),{pageId:i}),c.then(function(){StoryLog.BufferedTraceTag(596444885,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"HomeMain::createLandingPage storyDestoryTask.then",{pageId:i}),HomeControllerInit.MyStoriesDestroy().then(function(){l().then(function(){var l=g.PageRootScenario[g.PageRootScenario.StorySiteHome];a(e,t,l,i),o.always(function(){ActionLogger.RecordClientAction(new ClientAction.PageLoadActionData(l,document.referrer,null,null,n)),s()}),r.resolve(!0),capturePerformanceMetric("CreateLandingPageEnd")})})}),r}function s(){var e=StoryPerformance.PerformanceManager.getInstance();if(e.isPerformanceSupported()){var t=e.buildTTFVPerformanceReport("HomePage","HomePage");e.clearAll(),StoryLog.StructuredTraceTag(596451400,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"Homepage load performance report",t),StoryApp.Utilities.weblog("performance",JSON.stringify(t))}}function a(e,t,n,i){capturePerformanceMetric("CreateLandingPageCoreStart");var o,r={createView:function(t){return o=new e(t,{resourceFactory:StoryApp.Preload.resourceFactory})},parentElement:t,scenario:n,creationPolicy:new p.Common.CreationPolicy,pageId:i};g.PageRootVE.createAndAttach(r);h.MessageBus.getInstance().fireMessage(h.MessageType.LandingPageReady),capturePerformanceMetric("CreateLandingPageCoreEnd")}function l(){if(CommonSettings.AuthoringFromLandingPageContextEnabled&&h.NavigationContext.CurrentType===h.NavigationContextType.Landing){var e=new DeferredTask;return TDB.ViewElementUpdater.clean(),StoryApp.Utilities.resetResizeCallbacks(),StoryApp.Common.Environment.clearInstance(),platform.setImmediate(function(){PlatformPolyFill.Timing.clearIntervals(),PlatformPolyFill.Timing.clearTimeouts(),h.MessageBus.getInstance().fireMessage(h.MessageType.LandingPageDispose),e.resolve(!0)}),$("#homePage").hide(),$("#educationPage").hide(),$("#passwordEntryPage").hide(),h.NavigationContext.CurrentType=h.NavigationContextType.None,e}return Task.fromResult(!0)}function c(){var e={meControlOptions:{rpData:{msaInfo:{signInUrl:CommonSettings.HRDv2Enabled?h.UrlHelper.getInstance().getHRDv2PageUrl():CommonSettings.IdentityDefaultSignInUrlMSA,signOutUrl:CommonSettings.SignOutUrl,meUrl:null},aadInfo:{signInUrl:CommonSettings.HRDv2Enabled?h.UrlHelper.getInstance().getHRDv2PageUrl():CommonSettings.IdentityDefaultSignInUrlAAD,signOutUrl:CommonSettings.SignOutUrl},preferredIdp:"msa"},events:{onEventLog:function(e,t){switch(e){case"SignIn":ActionLogger.RecordClientAction(new ClientAction.ButtonClickAction(ClientAction.ButtonId.UniversalHeaderSignIn,Diag.ULSCat.msoulscat_Story_Site));break;case"HeaderReady":var n=$("#locale-picker-link"),i=n.attr("href")+"&cmapid="+CommonSettings.WorldReadinessCultureMappingId+"&returnUrl="+CommonSettings.SiteRootUrl;n.attr("href",i),$("#btnbuyoffice365").click(function(){ActionLogger.RecordClientAction(new ClientAction.ButtonClickAction(ClientAction.ButtonId.UniversalHeaderBuyOffice365,Diag.ULSCat.msoulscat_Story_Site))});break;case"Inline Load":StoryLog.TraceTag(596457633,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"Error during UHF load.",t);break;default:return void StoryLog.StructuredTraceTag(596457600,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.verbose,"Uhf event",{eventId:e,propertyBag:t})}}}}};CommonSettings.IsAuthenticated&&StoryApp.Utilities.query.fetch(StoryApp.Common.UrlHelper.URLParamFirstRun).toLowerCase()===StoryApp.Common.UrlHelper.URLParamValueTrue&&(e.meControlOptions.userData={idp:CommonSettings.IsAADUser?"aad":"msa",memberName:CommonSettings.EmailAddress,cid:CommonSettings.AnonUserId,authenticatedState:1}),u(e)}function u(e){window.msCommonShell?d(e):window.onShellReadyToLoad=function(){window.onShellReadyToLoad=null,d(e)}}function d(e){window.msCommonShell.load(e),StoryLog.TraceTag(596457634,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"Me control options loaded.")}var h=StoryApp.Common,p=StoryApp.View,g=p.ViewElements;e.destroyLandingPage=l,function(){capturePerformanceMetric("HomePageLoadStart");var e=Task.fromResult(Task.fromResult(!0)).toPromise();h.NavigationContext.InitialType!==h.NavigationContextType.Unknown&&h.NavigationContext.InitialType===h.NavigationContextType.Story||(e=StoryApp.Preload.driver.queueOnLoad().then(t),CommonSettings.UniversalHeaderFooterHomepageEnabled&&c()),StoryApp.Utilities.removeQueryParams(StoryApp.Common.UrlHelper.URLParamAuthPvr,StoryApp.Common.UrlHelper.URLParamAuthUpn),CommonSettings.IsAuthenticated&&h.NavigationContext.InitialType!==h.NavigationContextType.Unknown&&(h.NavigationContext.LandingPageInitialize=function(){return t()},h.NavigationContext.LandingPageDestroy=l,h.NavigationContext.HomePageInitialize=function(){return HomeControllerInit.MyStoriesInit()},h.NavigationContext.HomePageDestroy=function(){return HomeControllerInit.MyStoriesDestroy()},h.NavigationContext.InitialType!==h.NavigationContextType.Landing&&h.NavigationContext.InitialType!==h.NavigationContextType.MySways||(HistoryManager.getHistoryManagerInstance().navigate(location.href,h.NavigationContext.InitialType===h.NavigationContextType.Landing?h.NavigationContext.LandingPageInitialize:h.NavigationContext.HomePageInitialize,null,document.title,!0),e.then(function(e){return e.then(function(e){e&&StoryApp.Preload.differentialDriver.loadResources(function(){return!!h.NavigationContext.StoryPageInitialize})})})))}()}(HomeMain||(HomeMain={}));var MobileFeaturedMain;!function(e){function t(){var e={createView:function(e){return new StoryApp.View.ViewElements.MobileFeaturedVE(e)},parentElement:$("#tdbMobileFeatured")[0],scenario:i.PageRootScenario[i.PageRootScenario.MobileFeatured],creationPolicy:new n.Common.CreationPolicy,pageId:StoryApp.Common.PageCompartmentManager.getInstance().createNewPageCompartment()};StoryApp.View.ViewElements.PageRootVE.createAndAttach(e)}var n=StoryApp.View,i=n.ViewElements;e.main=t}(MobileFeaturedMain||(MobileFeaturedMain={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(){function e(e){void 0===e&&(e=!1),this._featuredStories=TDB.watchableTag(596476753,this,[]),e?this.loadEducationFeaturedStories():this.loadFeaturedStories()}return e.prototype.getFeaturedStories=function(e){return this._featuredStories.getWatchedValue(e)},e.prototype.loadFeaturedStories=function(){StoryListRequests.getStoryList({url:n.UrlHelper.getInstance().getPublicStoriesUrl(),name:"GetPublicStories",description:"Get public stories",continuationToken:this._continuationToken,onComplete:this.onRequestComplete,onError:this.onRequestError,context:this})},e.prototype.loadEducationFeaturedStories=function(){StoryListRequests.getStoryList({url:n.UrlHelper.getInstance().getEducationStoriesUrl(),name:"GetEducationPublicStories",description:"Get education public stories",continuationToken:this._continuationToken,onComplete:this.onRequestComplete,onError:this.onRequestError,context:this})},e.prototype.onRequestComplete=function(e){var t=this;this._continuationToken=e.continuationToken;var n=0;e.stories&&(n=e.stories.length);for(var i=this._featuredStories.getValue(),o=0;o<n;o++){var r=e.stories[o];i.push(r),this.preloadImage(r)}TDB.applyUpdate(function(){t._featuredStories.notify()},TDB.Justification.SynchronousBrowserEvent),this._continuationToken&&this.loadFeaturedStories()},e.prototype.preloadImage=function(e){(new Image).src=e.thumbnail},e.prototype.onRequestError=function(e,t,n){},e}();t.FeaturedStoryLoader=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var BaseStoryListRequest=function(){function e(){}return e}(),OdaViewCountResponse=function(){function e(){}return e}(),StoryListBaseResponse=function(){function e(){}return e}(),StoryListRequest=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(BaseStoryListRequest),StoryListResponse=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(StoryListBaseResponse),StoryListRequests;!function(e){function t(e){var t=new StoryListRequest;t.continuationToken=e.continuationToken,t.returnPerformanceDetails=null!=PerformanceMetrics,e.activeAndRecycled&&(t.activeAndRecycledStories=e.activeAndRecycled),e.pageSize&&(t.pageSize=e.pageSize),null!=e.sortCriteria&&(t.sortCriteria=e.sortCriteria),t.timezoneOffset=-(new Date).getTimezoneOffset();var n={name:e.name,description:e.description,type:"POST",data:JSON.stringify(t),contentType:StoryApp.RequestManager.JsonContentType,dataType:"json",success:function(t){e.onComplete.call(e.context,t)},error:function(t,n,i){e.onError.call(e.context,t,n,i)}};void 0!==n.data&&null!=n.data&&0!=n.data.length||StoryLog.StructuredTraceTag(596476737,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Request body is null.",{name:e.name,description:e.description,activeAndRecycled:e.activeAndRecycled?"true":"false",continuationToken:e.continuationToken,pageSize:e.pageSize?e.pageSize.toString():"undefined",sortCriteria:null!=e.sortCriteria?e.sortCriteria.toString():"undefined"}),$.ajax(e.url,n)}e.getStoryList=t}(StoryListRequests||(StoryListRequests={}));var StoryApp;!function(e){!function(e){!function(e){!function(e){e[e.legacyMyActive=0]="legacyMyActive",e[e.legacyMyRecycled=1]="legacyMyRecycled",e[e.myActiveAndRecycled=2]="myActiveAndRecycled",e[e.shared=3]="shared",e[e.featured=4]="featured",e[e.viewed=5]="viewed",e[e.template=6]="template",e[e.analytics=7]="analytics"}(e.StoryListFetchTypes||(e.StoryListFetchTypes={}))}(e.Model||(e.Model={}))}(e.Site||(e.Site={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(){function e(e){this._args=e,this._callPending=TDB.watchableTag(596476704,this,!1),this._fetchNoMore=!1}return e.prototype.reset=function(){this._continuationToken=void 0,this._fetchNoMore=!1},e.prototype.getNextStories=function(e){var t=this;return!this.isLoading()&&(!!this.canFetchMore()&&(TDB.applyUpdate(function(){t._callPending.setValue(!0)},TDB.Justification.SynchronousBrowserEvent),this.fetchMoreStories(e),!0))},e.prototype.recordPerformanceMetrics=function(e){for(var t=this._args.performanceMetricsPrefix,n=0;n<e.length;n++)e[n].operation=t+e[n].operation,StoryLog.TraceTag(596476705,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"Response.performanceMetric retrieved :"+e[n].operation);null==PerformanceMetrics&&(PerformanceMetrics=[]),PerformanceMetrics=PerformanceMetrics.concat(e)},e.prototype.onRequestError=function(e,t,n){var i=this;TDB.applyUpdate(function(){i._callPending.setValue(!1)}),this._fetchNoMore=!0,this._args.onError&&this._args.onError.call(this._args.onErrorContext||this,n,e)},e.prototype.isLoading=function(e){return this._callPending.getWatchedValue(e)},e.prototype.canFetchMore=function(){return!this._fetchNoMore},e.prototype.injectResponse=function(e){this.onRequestComplete(e)},e}();e.StoryListFetcherBase=t}(e.Model||(e.Model={}))}(e.Site||(e.Site={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e){var n=t.call(this,{onError:e.onError,onErrorContext:e.onErrorContext,performanceMetricsPrefix:e.performanceMetricsPrefix,onSuccess:e.onSuccess,onSuccessContext:e.onSuccessContext,pageSize:e.pageSize})||this;return n.storyTypes=e.storyTypes,n.url=e.url,n.getStoryList=e.getStoryList,n.sortCriteria=e.sortCriteria,n}return __extends(n,t),n.prototype.fetchMoreStories=function(t){var n=this.storyTypes===e.StoryListFetchTypes.myActiveAndRecycled;this._args.pageSize&&t&&TDB.raiseRecoverableError("We shouldn't have both parameters provided when fetching more stories",TDB.LogLevel.warning),this.getStoryList({url:this.url,name:"GetStories",description:"Getting Stories",activeAndRecycled:n,continuationToken:this._continuationToken,pageSize:this._args.pageSize?this._args.pageSize:t,onComplete:this.onRequestComplete,onError:this.onRequestError,context:this,sortCriteria:this.sortCriteria?this.sortCriteria.getValue():void 0})},n.prototype.onRequestComplete=function(e){var t=this;StoryPerformance.PerformanceManager.getInstance().measurePerformance("StoryListFetcher:onRequestComplete",function(){t._continuationToken=e.continuationToken,TDB.applyUpdate(function(){t._callPending.setValue(!1)}),t._fetchNoMore=null==t._continuationToken,null!=e.performanceMetrics&&t.recordPerformanceMetrics(e.performanceMetrics),(t._args.onSuccessContext||t)&&t._args.onSuccess&&t._args.onSuccess.call(t._args.onSuccessContext||t,e.stories)})},n}(e.StoryListFetcherBase);e.StoryListFetcher=t}(e.Model||(e.Model={}))}(e.Site||(e.Site={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.View.ViewElements,i=function(i){function o(e){var n=i.call(this,{onError:e.onError,onErrorContext:e.context,onSuccess:e.onSuccess,onSuccessContext:e.context,pageSize:e.pageSize,performanceMetricsPrefix:"GetFeaturedStories_"})||this;return n.returnedAnalyticsCount=0,n.storyTypes=t.StoryListFetchTypes.analytics,n.sortCriteria=e.sortCriteria,n.odaViewCountContinuationToken=void 0,n.analyticsUrl=e.analyticsUrl,n.viewCountUrl=e.viewCountUrl,n}return __extends(o,i),o.prototype.fetchMoreStories=function(){var t=this,i={name:"GetStoryAnalytics",description:"Getting Story Analytics",type:"GET",data:{continuationToken:this._continuationToken,returnPerformanceDetails:null!=PerformanceMetrics,pageSize:this._args.pageSize,sortCriteria:this.sortCriteria?this.sortCriteria.getValue():n.SortCriteria.Date,sortAscending:this.sortCriteria.getValue()==n.SortCriteria.Date},contentType:e.RequestManager.JsonContentType,success:function(e){t.onRequestComplete.call(t,e)},error:function(e,n,i){t.onRequestError.call(t,e,n,i)},cache:!1};$.ajax(this.analyticsUrl,i)},o.prototype.getViewCounts=function(t,i){var o=this,r={name:"GetStoryAnalytics",description:"Getting Story Analytics",type:"GET",data:{pageSize:100,sortCriteria:this.sortCriteria?this.sortCriteria.getValue():void 0,sortAscending:this.sortCriteria.getValue()==n.SortCriteria.Date,continuationToken:this.odaViewCountContinuationToken},contentType:e.RequestManager.JsonContentType,success:function(e){o.odaViewCountContinuationToken=e.continuationToken,t.call(o,e)},error:function(e,t,n){i.call(o,e,t,n)},cache:!1};$.ajax(this.viewCountUrl,r)},o.prototype.getNumberOfAnalyticsRowsReturned=function(){return this.returnedAnalyticsCount},o.prototype.onRequestComplete=function(e){var t=this;StoryPerformance.PerformanceManager.getInstance().measurePerformance("AuthorAnalyticsFetcher:onRequestComplete",function(){void 0!=e.stories&&(t.returnedAnalyticsCount+=e.stories.length),t._continuationToken=e.continuationToken,TDB.applyUpdate(function(){t._callPending.setValue(!1)}),t._fetchNoMore=null==t._continuationToken,null!=e.performanceMetrics&&t.recordPerformanceMetrics(e.performanceMetrics),(t._args.onSuccessContext||t)&&t._args.onSuccess&&t._args.onSuccess.call(t._args.onSuccessContext||t,e.stories)})},o}(t.StoryListFetcherBase);t.AuthorAnalyticsFetcher=i}(t.Model||(t.Model={}))}(e.Site||(e.Site={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(i,o,r){var s=t.call(this,{getStoryList:o,onError:i.onError,onErrorContext:i.context,onSuccess:n.prototype.onSuccess,pageSize:i.pageSize,performanceMetricsPrefix:"GetMyStories_",storyTypes:e.StoryListFetchTypes.myActiveAndRecycled,url:r.getMyStoriesUrl(),sortCriteria:i.sortCriteria})||this;return s._onSuccess=i.onSuccess,s._onSuccessContext=i.context,s._fetchNoMoreRecycled=!1,s}return __extends(n,t),n.prototype.onRequestComplete=function(e){!0===e.noMoreRecycledStories&&(this._fetchNoMoreRecycled=!0),t.prototype.onRequestComplete.call(this,e)},n.prototype.onSuccess=function(e){var t=[],n=[];e&&(e.forEach(function(e){e.movedToRecycleBinTime?n.push(e):t.push(e)}),this._onSuccess.call(this,{myStories:t,recycledStories:n}))},n.prototype.canFetchMoreRecycled=function(){return!this._fetchNoMoreRecycled&&this.canFetchMore()},n.prototype.reset=function(){t.prototype.reset.call(this),this._fetchNoMoreRecycled=!1},n}(e.StoryListFetcher);e.MyStoriesListFetcher=t}(e.Model||(e.Model={}))}(e.Site||(e.Site={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t;!function(e){e[e.MySway=0]="MySway",e[e.Recycled=1]="Recycled"}(t||(t={}));var n=function(e){function n(t,i,o){var r=e.call(this,{onError:t.onError,onSuccess:n.prototype.onCoreFetchingSuccess,pageSize:t.pageSize,sortCriteria:t.sortCriteria,context:t.context},i,o)||this;return r._onFetchingSuccess=t.onSuccess,r.onFetchingEnded=t.onEnded,r._context=t.context,r._prefetchedMyStories=[],r._prefetchedRecycleBinStories=[],r._pageSize=t.pageSize?t.pageSize:n.s_defaultNumStoriesToFetch,r}return __extends(n,e),n.prototype.getNextMyStories=function(){return!e.prototype.isLoading.call(this)&&(this._prefetchedMyStories.length>0?(this._onFetchingSuccess.call(this._context||this,{myStories:this._prefetchedMyStories.splice(0,this._pageSize),recycledStories:void 0}),!1):!!this.canFetchMore()&&(this._typeToFetch=t.MySway,e.prototype.getNextStories.call(this)))},n.prototype.canFetchMore=function(){return!this._fetchNoMore||this._prefetchedMyStories.length>0},n.prototype.getNextRecycledStories=function(){return!e.prototype.isLoading.call(this)&&(this._prefetchedRecycleBinStories.length>0?(this._onFetchingSuccess.call(this._context||this,{myStories:void 0,recycledStories:this._prefetchedRecycleBinStories.splice(0,this._pageSize)}),!1):!!e.prototype.canFetchMoreRecycled.call(this)&&(this._typeToFetch=t.Recycled,e.prototype.getNextStories.call(this)))},n.prototype.reset=function(){e.prototype.reset.call(this),this._prefetchedMyStories=[],this._prefetchedRecycleBinStories=[]},n.prototype.onCoreFetchingSuccess=function(e){var n=this;e.myStories&&e.myStories.forEach(function(e){return n._prefetchedMyStories.push(e)}),e.recycledStories&&e.recycledStories.forEach(function(e){return n._prefetchedRecycleBinStories.push(e)});var i=!1;this._typeToFetch===t.MySway?this.getNextMyStories()||(i=!0):this.getNextRecycledStories()||(i=!0),i&&this.onFetchingEnded&&this.onFetchingEnded.call(this._context||this)},n.s_defaultNumStoriesToFetch=20,n}(e.MyStoriesListFetcher);e.PrefetchingMyStoriesListFetcher=n}(e.Model||(e.Model={}))}(e.Site||(e.Site={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(n,i,o){return t.call(this,{getStoryList:i,onError:n.onError,onErrorContext:n.context,onSuccess:n.onSuccess,onSuccessContext:n.context,pageSize:n.pageSize,performanceMetricsPrefix:"GetMyEditableStories_",storyTypes:e.StoryListFetchTypes.shared,url:o.getMyEditableStoriesUrl(),sortCriteria:n.sortCriteria})||this}return __extends(n,t),n}(e.StoryListFetcher);e.SharedStoriesListFetcher=t}(e.Model||(e.Model={}))}(e.Site||(e.Site={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(n,i,o){return t.call(this,{getStoryList:i,onError:n.onError,onErrorContext:n.context,onSuccess:n.onSuccess,onSuccessContext:n.context,performanceMetricsPrefix:"GetFeaturedStories_",storyTypes:e.StoryListFetchTypes.featured,url:o.getPublicStoriesUrl()})||this}return __extends(n,t),n}(e.StoryListFetcher);e.FeaturedStoriesListFetcher=t}(e.Model||(e.Model={}))}(e.Site||(e.Site={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(){function n(e,n,i){this.publicTemplates=[],this.userTemplates=[],this.publicTemplateStoriesFetcher=new t.StoryListFetcher({getStoryList:n,onSuccess:this.onPublicTemplatesSuccess,onSuccessContext:this,onError:this.onPublicTemplatesError,onErrorContext:this,performanceMetricsPrefix:"GetTemplateStories_",storyTypes:t.StoryListFetchTypes.template,url:i.getTemplateStoriesUrl()}),this.userTemplateStoriesFetcher=new t.StoryListFetcher({getStoryList:n,onSuccess:this.onUserTemplatesSuccess,onSuccessContext:this,onError:this.onUserTemplatesError,onErrorContext:this,performanceMetricsPrefix:"GetUserTemplateStories_",storyTypes:t.StoryListFetchTypes.template,url:i.getUserTemplateStoriesUrl()}),this.args=e}return n.prototype.onPublicTemplatesError=function(e){this.waitingForPublicTemplatesFetcher=!1,this.args.onError&&this.args.onError.call(this.args.context,e),StoryLog.StructuredTraceTag(596460687,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"TemplateStoriesListFetcher.onPublicTemplatesError",{error:e}),this.tryToReturnResults()},n.prototype.onUserTemplatesError=function(e){this.waitingForUserTemplatesFetcher=!1,this.args.onError&&this.args.onError.call(this.args.context,e),StoryLog.StructuredTraceTag(596460688,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"TemplateStoriesListFetcher.onUserTemplatesError",{error:e}),this.tryToReturnResults()},n.prototype.onPublicTemplatesSuccess=function(e){this.waitingForPublicTemplatesFetcher=!1,this.publicTemplates=e,this.tryToReturnResults()},n.prototype.onUserTemplatesSuccess=function(e){this.waitingForUserTemplatesFetcher=!1,this.userTemplates=e,this.tryToReturnResults()},n.prototype.tryToReturnResults=function(){this.waitingForPublicTemplatesFetcher||this.waitingForUserTemplatesFetcher||this.args.onSuccess.call(this.args.context,this.publicTemplates?this.userTemplates.concat(this.publicTemplates):this.userTemplates)},n.prototype.getNextStories=function(e){if(this.waitingForUserTemplatesFetcher||this.waitingForPublicTemplatesFetcher)return!1;var t=!1;return this.publicTemplateStoriesFetcher.canFetchMore()&&(this.waitingForPublicTemplatesFetcher=!0,t=this.publicTemplateStoriesFetcher.getNextStories(e)||t),this.userTemplateStoriesFetcher.canFetchMore()&&(this.waitingForUserTemplatesFetcher=!0,t=this.userTemplateStoriesFetcher.getNextStories(e)||t),t},n.prototype.isLoading=function(e){return this.publicTemplateStoriesFetcher.isLoading(e)||this.userTemplateStoriesFetcher.isLoading(e)},n.prototype.canFetchMore=function(){return this.publicTemplateStoriesFetcher.canFetchMore()||this.userTemplateStoriesFetcher.canFetchMore()},n.prototype.injectResponse=function(t){throw e.RethrowLogger.createError("Not implemented")},n}();t.TemplateStoriesListFetcher=n}(t.Model||(t.Model={}))}(e.Site||(e.Site={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(){function n(){}return n.prototype.createPrefetchingMyStoriesFetcher=function(i){return new t.PrefetchingMyStoriesListFetcher(i,n._getStoryListFunc,e.Common.UrlHelper.getInstance())},n.prototype.createSharedStoriesFetcher=function(i){return new t.SharedStoriesListFetcher(i,n._getStoryListFunc,e.Common.UrlHelper.getInstance())},n.prototype.createFeaturedStoriesFetcher=function(i){return new t.FeaturedStoriesListFetcher(i,n._getStoryListFunc,e.Common.UrlHelper.getInstance())},n.prototype.createViewedStoriesFetcher=function(e){return new t.ViewedStoriesListFetcher(e,n._getViewedStoryListFunc)},n.prototype.createTemplateStoriesFetcher=function(i){return new t.TemplateStoriesListFetcher(i,n._getStoryListFunc,e.Common.UrlHelper.getInstance())},n.prototype.createAuthorAnalyticsFetcher=function(e){return new t.AuthorAnalyticsFetcher(e)},n._getStoryListFunc=StoryListRequests.getStoryList,n._getViewedStoryListFunc=ViewedStoryListRequests.getViewedStoryList,n}();t.StoryListFetcherFactory=n}(t.Model||(t.Model={}))}(e.Site||(e.Site={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,{onError:t.onError,onErrorContext:t.context,performanceMetricsPrefix:"GetMyViewedStories_",onSuccess:t.onSuccess,onSuccessContext:t.context,pageSize:t.pageSize})||this;return i.getStoryList=n,i.sortCriteria=t.sortCriteria,i}return __extends(t,e),t.prototype.fetchMoreStories=function(e){this._args.pageSize&&e&&TDB.raiseRecoverableError("We shouldn't have both parameters provided when fetching more stories",TDB.LogLevel.warning),this.getStoryList({continuationToken:this._continuationToken,pageSize:this._args.pageSize?this._args.pageSize:e,onComplete:this.onRequestComplete,onError:this.onRequestError,context:this,sortCriteria:null!=this.sortCriteria?this.sortCriteria.getValue():void 0})},t.prototype.onRequestComplete=function(e){var t=this;this._continuationToken=e.continuationToken,this._fetchNoMore=null==this._continuationToken,TDB.applyUpdate(function(){t._callPending.setValue(!1)}),null!=e.performanceMetrics&&this.recordPerformanceMetrics(e.performanceMetrics),this._args.onSuccessContext&&this._args.onSuccess&&this._args.onSuccess.call(this._args.onSuccessContext,e.stories)},t}(e.StoryListFetcherBase);e.ViewedStoriesListFetcher=t}(e.Model||(e.Model={}))}(e.Site||(e.Site={}))}(StoryApp||(StoryApp={}));var HomeControllerInit;!function(e){var t=StoryApp.View.ViewElements,n=StoryApp.Site.Model,i=StoryApp.Common,o=function(){function e(){}return e.getInstance=function(){return e._setupHelper||(e._setupHelper=new e),e._setupHelper},e.setInstance=function(t){e._setupHelper=t},e.prototype.setupForInitialize=function(e){return Task.fromResult({})},e.prototype.createMyStoriesView=function(o){var r=e.appBarButtonsToCreate(),s=e.overflowMenuButtonsToCreate(),a=new i.SharingManager(new i.SharingManagerApi,StoryAudience.Unknown,StoryAudience.Unknown,!1,i.StoryPasswordScope.Everybody);return new t.MyStoriesPageVE(o,{shouldDelayFetch:!1,storyListFetcherFactory:new n.StoryListFetcherFactory,appBarButtonsToCreate:r,overflowMenuButtonsToCreate:s,resourceFactory:StoryApp.Preload.resourceFactory,sharingManager:a})},e.appBarButtonsToCreate=function(){return[t.AppBarButtonLabel.Home,t.AppBarButtonLabel.DeveloperCdn,t.AppBarButtonLabel.InternalFeatures,t.AppBarButtonLabel.CreateNew,t.AppBarButtonLabel.TutorialVideos,t.AppBarButtonLabel.Overflow]},e.overflowMenuButtonsToCreate=function(){return[t.OverflowButtonLabel.InternalFeatures,t.OverflowButtonLabel.PremiumFeatures,t.OverflowButtonLabel.CreateNew,t.OverflowButtonLabel.Feedback,t.OverflowButtonLabel.Help,t.OverflowButtonLabel.User,t.OverflowButtonLabel.SignOut,t.OverflowButtonLabel.MyStories]},e}();e.HomeSetupHelper=o}(HomeControllerInit||(HomeControllerInit={}));var HomeControllerInit;!function(e){function t(){var e=new l.GlobalExceptionHandler;return e.register(),e}function n(){StoryLog.BufferedTraceTag(596444886,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"HomeControllerInit::MyStoriesInit");var e=l.NavigationContext.StoryPageDestroy?l.NavigationContext.StoryPageDestroy():Task.fromResult(!0);StoryLog.BufferedTraceTag(596444887,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"HomeControllerInit::MyStoriesInit StoryPageDestroy "+(l.NavigationContext.StoryPageDestroy?"exists":"does not exist"));var t=new DeferredTask;return e.then(function(){StoryLog.BufferedTraceTag(596444888,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"HomeControllerInit::MyStoriesInit storyDestoryTask.then"),o().then(function(){HomeMain.destroyLandingPage().then(function(){i().then(function(){return t.resolve()})})})}),StoryLog.BufferedTraceTag(596444889,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"HomeCOntrollerInit::MyStoriesInit end (for now)"),t}function i(){l.NavigationContext.CurrentType=l.NavigationContextType.MySways,e.createSetupHelpers();var n=new DeferredTask,i=$("#tdbMyStoriesContent");if(1==i.length){i.show(),UX.LoadingBarrier.hide();var o=t(),r=l.PageCompartmentManager.getInstance().createNewPageCompartment();StoryLog.BufferedTraceTag(596444890,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"HomeControllerInit::MyStoriesInitCore",{pageId:r}),e.HomeSetupHelper.getInstance().setupForInitialize(o).then(function(){StoryLog.BufferedTraceTag(596444891,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"HomeControllerInit::MyStoriesInitCore - setup done",{pageId:r});var t,o=u.PageRootScenario[u.PageRootScenario.MyStories],s={createView:function(n){return t=e.HomeSetupHelper.getInstance().createMyStoriesView(n)},parentElement:i[0],scenario:o,creationPolicy:new c.Common.CreationPolicy,pageId:r};u.PageRootVE.createAndAttach(s),l.MessageBus.getInstance().fireMessage(l.MessageType.MySwaysPageReady),ActionLogger.RecordClientAction(new ClientAction.PageLoadActionData(o,document.referrer,null,null));var a=StoryPerformance.PerformanceManager.getInstance();if(a.isPerformanceSupported()){var d=a.buildTTFVPerformanceReport("MyStories","my");a.clearAll(),StoryLog.StructuredTraceTag(19248128,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStories performance report",d),StoryApp.Utilities.weblog("performance",JSON.stringify(d))}n.resolve(),StoryLog.BufferedTraceTag(596444892,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"HomeControllerInit::MyStoriesInitCore - finished",{pageId:r})})}else n.resolve();return n}function o(){if(CommonSettings.AuthoringFromLandingPageContextEnabled&&l.NavigationContext.CurrentType===l.NavigationContextType.MySways){var e=new DeferredTask;return StoryApp.View.Common.DialogManager.getInstance().closeCurrentDialog(),TDB.ViewElementUpdater.clean(),StoryApp.Utilities.resetResizeCallbacks(),StoryApp.Common.Environment.clearInstance(),platform.setImmediate(function(){PlatformPolyFill.Timing.clearIntervals(),PlatformPolyFill.Timing.clearTimeouts(),l.MessageBus.getInstance().fireMessage(l.MessageType.MySwaysPageDispose),e.resolve(!0)}),$("#tdbMyStoriesContent").hide(),l.NavigationContext.CurrentType=l.NavigationContextType.None,e}return Task.fromResult(!0)}function r(){e.HomeSetupHelper.setInstance(new e.HomeSetupHelper)}function s(){document.title=Resources.ReportAViolationHeader;var e=$("#tdbReportAViolationContent");if(1==e.length){t();var n,i=l.PageCompartmentManager.getInstance().createNewPageCompartment(),o=u.PageRootScenario[u.PageRootScenario.ReportAViolation],r={createView:function(e){return n=new u.ReportAViolationPageVE(e,{resourceFactory:StoryApp.Preload.resourceFactory})},parentElement:e[0],scenario:o,creationPolicy:new c.Common.CreationPolicy,pageId:i};u.PageRootVE.createAndAttach(r),ActionLogger.RecordClientAction(new ClientAction.PageLoadActionData(o,document.referrer,null,null))}}function a(){document.title=Resources.ReportAViolationHeader;var e=$("#tdbReportCompleteContent");if(1==e.length){t();var n,i=l.PageCompartmentManager.getInstance().createNewPageCompartment(),o=u.PageRootScenario[u.PageRootScenario.ReportComplete],r={createView:function(e){return n=new u.ReportCompletePageVE(e,{resourceFactory:StoryApp.Preload.resourceFactory})},parentElement:e[0],scenario:o,creationPolicy:new c.Common.CreationPolicy,pageId:i};u.PageRootVE.createAndAttach(r),ActionLogger.RecordClientAction(new ClientAction.PageLoadActionData(o,document.referrer,null,null))}}var l=StoryApp.Common,c=StoryApp.View,u=c.ViewElements;e.CommonInit=t,e.MyStoriesInit=n,e.MyStoriesDestroy=o,e.createSetupHelpers=r,e.ReportAViolationInit=s,e.ReportCompleteInit=a}(HomeControllerInit||(HomeControllerInit={}));var AWAInit;!function(e){function t(e,t){var n={coreData:{appId:"sway.com"},callback:{jsllEventCallback:function(){return StoryLog.StructuredTraceTag(596453335,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"JSLL event logged",{Page:t})}}};e.init(n)}e.initializeAWA=t}(AWAInit||(AWAInit={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(e){function i(t){return e.call(this,t,{features:TDB.ControlSetFeatures.TabDisabled|TDB.ControlSetFeatures.PreserveFocusContext})||this}return __extends(i,e),i.prototype.createNew=function(e){return ActionLogger.RecordClientAction(new ClientAction.SimpleClientActionData(ClientAction.ActionType.CreateNewTile,Diag.ULSCat.msoulscat_Story_Site)),n.UserStories.getInstance().submitCreateStoryAsync(!1),TDB.EventPropagation.Bypass},i.prototype.createNewButtonArgs=function(){var e={buttonId:ClientAction.ButtonId.Tile_CreateNew,click:this.createNew,context:this,cssClass:{value:"createNewButton"},description:{value:Resources.CreateFromNew},enabled:n.Environment.getInstance().getClientOnline(),fontIconName:{value:FontIcons.CreateFromNewIcon},fontIconSizeClass:FontIcons.CreateFromNewIconSize,textClass:"segoeUISemilight createSourceText",text:{value:Resources.CreateFromNew},tooltip:{value:Resources.CreateNewTooltip},role:Aria.Roles.Option};return new TDB.ChildArgs(t.GlyphButtonVE,e)},i}(TDB.ControlSet);t.CreateNewTileVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,t)||this;return i.args=n,i}return __extends(t,e),t.prototype.nameTextArgs=function(e){var t=this.args.editor.displayName?this.args.editor.displayName:this.args.editor.emailAddress;return this.args.isOwner?ResourceManager.ResolveString(Resources.EditorListDialogOwnerEntry,[t]):t},t}(TDB.ViewElement);e.EditorsListDialogEntryVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e,n){var i=t.call(this,e)||this;return i.owner=n.editorListResponse.owner,i.editors=n.editorListResponse.editors,i._editorsListId=n.editorListId,i._storyTitle=n.storyTitle||"",i}return __extends(n,t),n.prototype.getDescriptionText=function(){var e=this._storyTitle&&""!=this._storyTitle?this._storyTitle:Resources.UntitledStoryTitle;return ResourceManager.ResolveString(Resources.AuthorsListDescription,[e])},n.prototype.descriptionTextArgs=function(){return this.getDescriptionText()},n.prototype.descriptionAttrArgs=function(){var e={};return e[Aria.Attributes.Label]=this.getDescriptionText(),e.id=this._editorsListId,e},n.prototype.authorsListAttrArgs=function(){var e={};return e[Aria.Attributes.Labelledby]=this._editorsListId,e[Aria.Attributes.Role]=Aria.Roles.Dialog,e},n.prototype.editorsArgs=function(){var t=[],n={isOwner:!0,editor:this.owner};t.push(new TDB.ChildArgs(e.EditorsListDialogEntryVE,n));for(var i=0;i<this.editors.length;i++){var o={editor:this.editors[i]};t.push(new TDB.ChildArgs(e.EditorsListDialogEntryVE,o))}return t},n}(TDB.ViewElement);e.EditorsListDialogVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n,i=e.Common;!function(e){e[e.Duplicate=0]="Duplicate",e[e.Play=1]="Play",e[e.Share=2]="Share",e[e.Delete=3]="Delete",e[e.Download=4]="Download"}(n=t.MenuTileButtons||(t.MenuTileButtons={}));var o=function(e){function o(t,i){var o=e.call(this,t,{features:TDB.ControlSetFeatures.Isolated|TDB.ControlSetFeatures.HorizontalList|TDB.ControlSetFeatures.VerticalList})||this;return o.args=i,o.createSubMenuTiles(),o.downloadUrl=TDB.watchableTag(596125139,o,null),o.buttonsToShow=i.buttonsToShow||[n.Duplicate,n.Play,n.Share,n.Delete,n.Download],o}return __extends(o,e),o.prototype.createSubMenuTiles=function(){this.subMenuTile=new t.SubMenuTileVE(this,this.args),this.addResource(this.subMenuTile)},o.prototype.playButtonClicked=function(e){this.subMenuTile.setSubMenuType(t.SubMenuType.None);var n=this.parent.getSwayVersion()>=2;return i.AppBarAction.getInstance().GoToPlay(this.args.viewModel.getLookupId(),n),this.hideWithoutRestoringFocus(),TDB.EventPropagation.Bypass},o.prototype.shareButtonClicked=function(e){var n=this,o=i.UrlHelper.getInstance().trackedShareLinkUrl(this.args.viewModel.getLookupId(),i.SharingReferrers.Link,i.SharingButtonLocations.MySways);return t.StoryShareAction.shareViewLink(o,ClientAction.ButtonId.StoryTile_ShareLink,this.args.sharingManager),TDB.applyUpdate(function(){n.args.hideAllMenuAndRestoreFocus.call(n.args.context)}),TDB.EventPropagation.Bypass},o.prototype.deleteButtonClicked=function(e){return BRSDialog.showIfAuthoringDisabled()?TDB.EventPropagation.Bubble:(this.subMenuTile.setSubMenuType(t.SubMenuType.Delete),this.subMenuTile.show(),this.hideWithoutRestoringFocus(),TDB.EventPropagation.Bypass)},o.prototype.duplicateButtonClicked=function(e){var n=this;return BRSDialog.showIfAuthoringDisabled()?TDB.EventPropagation.Bubble:(TDB.applyUpdate(function(){n.args.hideAllMenuAndRestoreFocus.call(n.args.context);var e=n.args.viewModel.getTitle()?n.args.viewModel.getTitle():"";t.DuplicateStoryDialog.createAndShow(n.args.viewModel.getLookupId(),e,void 0,function(e){n.args.duplicateStory.call(n.args.context,e)})}),TDB.EventPropagation.Bypass)},o.prototype.downloadButtonClicked=function(e){var t=this,n=i.UrlHelper.getInstance().getDownloadUrl(this.args.viewModel.getUrl());return TDB.applyUpdate(function(){t.downloadUrl.setValue(n),t.args.hideAllMenuAndRestoreFocus.call(t.args.context)}),TDB.EventPropagation.Bypass},o.prototype.maskImageStyleArgs=function(e){return{backgroundImage:"url('"+CommonSettings.ContentBaseUrl+"TileGradientMask.png')"}},o.prototype.subMenuTileArgs=function(){return this.subMenuTile},o.prototype.playArgs=function(){var e={buttonId:ClientAction.ButtonId.TileMenu_Play,click:this.playButtonClicked,context:this,cssClass:{value:"menuTileButton"},description:{value:Resources.Play},tooltip:{value:Resources.MySwaysTileOptionsPlayButtonTooltip},enabled:i.Environment.getInstance().getClientOnline(),fontIconName:{value:FontIcons.TilePlayIcon},fontIconSizeClass:FontIcons.TilePlayIconSizeMySwaysPage,hasPopup:!1};return new t.GlyphButtonVE(this,e)},o.prototype.shareArgs=function(){if(!this.args.viewModel.isShareButtonBlocked()){var e={buttonId:ClientAction.ButtonId.StoryTile_ShareLink,click:this.shareButtonClicked,context:this,cssClass:{value:"menuTileButton"},tooltip:{value:Resources.ShareByLinkButtonDescriptionV2},description:{value:Resources.ShareByLinkButtonDescriptionV2},fontIconName:{value:FontIcons.LinkIcon},fontIconSizeClass:FontIcons.ShareIconSizeMySwaysPage,hasPopup:!0};return new TDB.ChildArgs(t.GlyphButtonVE,e)}},o.prototype.deleteArgs=function(){var e=this.args.viewModel instanceof t.ViewedStoryTileModel?FontIcons.RemoveViewedStoryIcon:FontIcons.DeleteIcon,n=this.args.viewModel instanceof t.ViewedStoryTileModel?Resources.RemoveViewedTileButtonDescription:Resources.DeleteMenuTileButtonDescription,o=this.args.viewModel instanceof t.ViewedStoryTileModel?Resources.RemoveViewedTileButtonDescription:Resources.MySwaysTileOptionsDeleteButtonTooltip,r={buttonId:ClientAction.ButtonId.TileMenu_Delete,click:this.deleteButtonClicked,context:this,cssClass:{value:"menuTileButton"},description:{value:n},tooltip:{value:o},enabled:i.Environment.getInstance().getClientOnline(),hasPopup:!0,fontIconName:{value:e},fontIconSizeClass:FontIcons.DeleteIconSizeMySwaysPage};return new t.GlyphButtonVE(this,r)},o.prototype.duplicateArgs=function(){var e={buttonId:ClientAction.ButtonId.TileMenu_Duplicate,click:this.duplicateButtonClicked,context:this,cssClass:{value:"menuTileButton"},description:{value:Resources.DuplicateMenuTileButtonDescription},tooltip:{value:Resources.AppBarDuplicateStoryButtonDescription},enabled:i.Environment.getInstance().getClientOnline(),fontIconName:{value:FontIcons.StoryTileDuplicateIcon},fontIconSizeClass:FontIcons.StoryTileDuplicateIconSizeMySwaysPage};return new t.GlyphButtonVE(this,e)},o.prototype.downloadArgs=function(){var e={buttonId:ClientAction.ButtonId.TileMenu_Download,click:this.downloadButtonClicked,clipClass:{value:Glyphs.DownloadIconClip},context:this,cssClass:{value:"menuTileButton"},description:{value:Resources.DownloadStory},enabled:i.Environment.getInstance().getClientOnline(),glyphClass:{value:Glyphs.DownloadIconGlyph}};return new t.GlyphButtonVE(this,e)},o.prototype.showPlayArgs=function(){return CommonSettings.AuthorConsumptionPlayEnabled&&-1!==this.buttonsToShow.indexOf(n.Play)},o.prototype.showDuplicateArgs=function(){return this.args.viewModel.isDuplicationAllowed()&&-1!==this.buttonsToShow.indexOf(n.Duplicate)},o.prototype.showShareArgs=function(){return-1!==this.buttonsToShow.indexOf(n.Share)},o.prototype.showDeleteArgs=function(){return this.args.viewModel.shouldShowDeleteButton()&&-1!==this.buttonsToShow.indexOf(n.Delete)},o.prototype.showDownloadArgs=function(){return CommonSettings.EnableStoryDownload&&-1!==this.buttonsToShow.indexOf(n.Download)},o.prototype.downloadContainerAutoDownloadInitArgs=function(){return{url:this.downloadUrl}},o.prototype.menuTileContainerFadeVisibleInitArgs=function(){return{onVisible:this.onPopupVisible}},o.prototype.menuTileContainerFadeVisibleArgs=function(e){return{visible:this.isVisible(e)}},o.prototype.onExiting=function(){this.subMenuTile.isVisible()||this.parent.hideAllMenuAndRestoreFocus(),e.prototype.onExiting.call(this)},o.prototype.hideAllMenuAndRestoreFocus=function(){this.hideSubMenu(),this.hide(),this.parent.enter()},o.prototype.hideSubMenu=function(){this.subMenuTile&&(this.subMenuTile.setSubMenuType(t.SubMenuType.None),this.subMenuTile.hide())},o.prototype.mouseDown=function(e){return TDB.EventPropagation.PreventDefault},o.prototype.onRestoreFocus=function(e){return!!e||(this.parent.enter(),!1)},o.prototype.menuTileContainerAttrArgs=function(){var e={};return e[Aria.Attributes.Label]=Resources.EllipsisButtonDescription,e},o}(t.PopupBaseVE);t.MenuTileVEBase=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(n){var i=e.Common,o=function(o){function r(e){return o.call(this,e,{features:TDB.ControlSetFeatures.TabDisabled|TDB.ControlSetFeatures.PreserveFocusContext})||this}return __extends(r,o),r.prototype.uploadButtonArgs=function(){var e={buttonId:ClientAction.ButtonId.Tile_UploadExistingStory,click:this.uploadButtonClicked,context:this,cssClass:{value:"createFromDocButton"},description:{value:Resources.UploadButtonDescription},fontIconName:{value:FontIcons.CreateFromDocIcon},fontIconSizeClass:FontIcons.CreateFromDocIconSize,textClass:"segoeUISemilight createSourceText",text:{value:Resources.UploadButtonDescription},role:Aria.Roles.Option};return new TDB.ChildArgs(n.GlyphButtonVE,e)},r.prototype.uploadButtonClicked=function(e){return BRSDialog.showIfAuthoringDisabled()?TDB.EventPropagation.Bubble:(i.UserStories.getInstance().submitImportStoryRequest(),TDB.EventPropagation.Bypass)},r.prototype.uploadFilePickerAutoUploadInitArgs=function(){return{filesReadyForUpload:this.filesReadyForUpload}},r.prototype.filesReadyForUpload=function(e){this.uploadFiles(e,i.UrlHelper.getInstance().storyUploadUrl())},r.prototype.uploadFilePickerCssArgs=function(e){var t={};return t.createNewFilePicker=!0,t},r.prototype.uploadFiles=function(e,t){if(StoryLog.TraceTag(596125140,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"ImportStoryTileVE : upload story : User uploading "+e.length+" files"),void 0==this.fileUploader){var n={context:this,onInvalidFile:this.onInvalidFile,onUploadComplete:this.onUploadComplete,onUploadError:this.onUploadError};this.fileUploader=new FileUploader.FileUploader(this,n)}this.fileUploader.upload(e,t,268435456)},r.prototype.onInvalidFile=function(e,t){t==FileUploader.FileStatus.FileTooLargeError?ErrorDialog.ShowErrorDialog(Resources.NyiDialogTitle,ResourceManager.ResolveString(Resources.UploadFileTooLarge,[e.name,CommonSettings.MaxHttpRequestLength/1048576]),"File Upload Failed: Too large"):t==FileUploader.FileStatus.EmptyFileError&&ErrorDialog.ShowErrorDialog(Resources.NyiDialogTitle,Resources.UploadErrorEmptyFile,"File Upload Failed: Empty file")},r.prototype.onUploadComplete=function(e,t){this.parent.ensureTileIsAddedToMyStories(new n.StoryTileModel(t))},r.prototype.onUploadError=function(n,i,o){var r={title:Resources.UploadStoryErrorDialogTitle,description:Resources.UploadStoryErrorDialogTitle,messages:[ResourceManager.ResolveString(Resources.UploadFailed,[o.name]),n,i],dialogLogMessage:"Upload Failed",dialogType:e.View.ViewElements.DialogType.Error,buttonsArgs:[{caption:{value:Resources.ButtonOK},isDefault:!0,dismissOnAction:!0}]};t.Common.DialogManager.createAndShow(r)},r.prototype.mouseClicked=function(e){return TDB.EventPropagation.Bypass},r}(TDB.ControlSet);n.ImportStoryTileVEBase=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(n){var i=e.Common,o=function(o){function r(e){var t=o.call(this,e,{features:TDB.ControlSetFeatures.TabDisabled|TDB.ControlSetFeatures.PreserveFocusContext})||this;return t.uploadDeferred=void 0,t}return __extends(r,o),r.prototype.uploadButtonArgs=function(){var e={buttonId:ClientAction.ButtonId.Tile_TransformDocument,click:this.uploadButtonClicked,context:this,cssClass:{value:"createFromDocButton"},description:{value:Resources.TransformButtonDescription},fontIconName:{value:FontIcons.CreateFromDocIcon},fontIconSizeClass:FontIcons.CreateFromDocIconSize,textClass:"segoeUISemilight createSourceText",text:{value:Resources.TransformButtonDescription},role:Aria.Roles.Option};return new TDB.ChildArgs(n.GlyphButtonVE,e)},r.prototype.uploadButtonClicked=function(e){return BRSDialog.showIfAuthoringDisabled()?TDB.EventPropagation.Bubble:(i.UserStories.getInstance().submitTransformDocumentRequest(),TDB.EventPropagation.Bypass)},r.prototype.transformFilePickerAutoUploadInitArgs=function(){return{filesReadyForUpload:this.transformFiles}},r.prototype.transformFilePickerAttrArgs=function(e){return{accept:DocumentIngestion.DocumentIngestionAPI.getSupportedFileFormatFilter()}},r.prototype.transformFiles=function(e){this.uploadFiles(e,i.UrlHelper.getInstance().transformDocumentUrl())},r.prototype.transformFilesAndGetPollingUrlAsync=function(e){var t=$.Deferred();return this.uploadFiles(e,i.UrlHelper.getInstance().transformDocumentUrl(),t),t.promise()},r.prototype.transformFilePickerCssArgs=function(e){var t={};return t.createNewFilePicker=!0,t},r.prototype.uploadFiles=function(e,t,n){if(StoryLog.TraceTag(595943883,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"TransformDocumentTileVE : transform story : User uploading "+e.length+" files"),this.uploadDeferred=n,void 0==this.fileUploader){var i={context:this,onInvalidFile:this.onInvalidFile,onUploadComplete:this.onUploadComplete,onUploadError:this.onUploadError};this.fileUploader=new FileUploader.FileUploader(this,i)}this.fileUploader.upload(e,t,268435456)},r.prototype.onInvalidFile=function(e,t){t==FileUploader.FileStatus.FileTooLargeError?ErrorDialog.ShowErrorDialog(Resources.NyiDialogTitle,ResourceManager.ResolveString(Resources.UploadFileTooLarge,[e.name,CommonSettings.MaxHttpRequestLength/1048576]),"File Upload Failed: Too large"):t==FileUploader.FileStatus.EmptyFileError&&ErrorDialog.ShowErrorDialog(Resources.NyiDialogTitle,Resources.UploadErrorEmptyFile,"File Upload Failed: Empty file")},r.prototype.onUploadComplete=function(t,n){void 0!==this.uploadDeferred?this.uploadDeferred.resolve(n.url):e.Utilities.assignWindowLocation(n.url)},r.prototype.onUploadError=function(n,i,o){if(void 0===this.uploadDeferred){var r={title:Resources.TransformDocumentErrorDialogTitle,description:Resources.TransformDocumentErrorDialogTitle,messages:[ResourceManager.ResolveString(Resources.UploadFailed,[o.name]),n,i],dialogLogMessage:"Transform Failed",dialogType:e.View.ViewElements.DialogType.Error,buttonsArgs:[{caption:{value:Resources.ButtonOK},isDefault:!0,dismissOnAction:!0}]};t.Common.DialogManager.createAndShow(r)}else this.uploadDeferred.reject()},r.prototype.mouseClicked=function(e){return TDB.EventPropagation.Bypass},r}(TDB.ControlSet);n.TransformDocumentTileVEBase=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t;!function(e){e[e.None=0]="None",e[e.Delete=1]="Delete"}(t=e.SubMenuType||(e.SubMenuType={}));var n=function(n){function i(e,i){var o=n.call(this,e,{features:TDB.ControlSetFeatures.Isolated|TDB.ControlSetFeatures.HorizontalList|TDB.ControlSetFeatures.VerticalList})||this;return o.args=i,o.model=i.viewModel,o.titleWatcher=TDB.watchable(o,o.model.getTitle()),o.subMenuType=t.None,o.isDeleteMenuVisible=TDB.watchableTag(596125026,o,!1),o}return __extends(i,n),i.prototype.createConfirmDeleteButton=function(){var t=this.args.viewModel instanceof e.ViewedStoryTileModel?Resources.ConfirmRemoveText:Resources.ConfirmDeleteText,n=this.args.viewModel instanceof e.ViewedStoryTileModel?Resources.ConfirmRemoveTooltip:void 0,i={buttonId:ClientAction.ButtonId.SubTileMenu_ConfirmDelete,click:this.confirmDeleteButtonClicked,context:this,cssClass:{value:"confirmDeleteButton"},text:{value:t},description:{value:t},tooltip:{value:n}};this.confirmDeleteButton=new e.TextButtonVE(this,i)},i.prototype.confirmDeleteButtonClicked=function(e){return this.args.onDeleteButtonConfirmed.call(this.args.context,this.model),TDB.EventPropagation.Bypass},i.prototype.subMenuTileContainerFadeVisibleInitArgs=function(){return{onVisible:this.onPopupVisible}},i.prototype.subMenuTileContainerFadeVisibleArgs=function(e){return{visible:this.isVisible(e)}},i.prototype.ifDeleteMenuArgs=function(e){var t=e.watchValue(this.isDeleteMenuVisible);return t||(this.confirmDeleteButton=null),t},i.prototype.confirmDeleteButtonArgs=function(){return this.createConfirmDeleteButton(),this.confirmDeleteButton},i.prototype.setSubMenuType=function(e){var n,i=this;switch(e){case t.Delete:n=!0,this.subMenuType=t.Delete;break;default:n=!1,this.subMenuType=t.None}TDB.applyUpdate(function(){i.isDeleteMenuVisible.setValue(n)})},i.prototype.onExiting=function(){n.prototype.onExiting.call(this),this.args.hideAllMenuAndRestoreFocus.call(this.args.context)},i.prototype.mouseClicked=function(e){return this.args.hideSubMenuAndShowMenu.call(this.args.context),TDB.EventPropagation.PreventDefault},i.prototype.subMenuTileContainerAttrArgs=function(){var e={};return e[Aria.Attributes.Label]=Resources.Share,e},i.prototype.escape=function(){this.onExiting()},i}(e.PopupBaseVE);e.SubMenuTileVEBase=n}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(n){function i(e,t,i,o){var r=n.call(this,e,t,i,o)||this;return r._model=t,r}return __extends(i,n),i.prototype.viewCountEnabledArgs=function(e){return MyStoriesSettings.ViewCountEnabled},i.prototype.modifiedDateTextArgs=function(e){return this._model.getLastModifiedDisplayString()||""},i.prototype.viewCountIconArgs=function(){var e={fontIconName:{value:FontIcons.TileViewCount},fontIconSizeClass:FontIcons.TileViewCountSize,fontIconWrapperClass:{value:"viewCountFontIconWrapper"}};return new TDB.ChildArgs(t.FontIconVE,e)},i.prototype.viewCountTextArgs=function(e){var t=this._model.getViewCount(e);return t<0?Resources.ViewCountServerPending:0===t&&this._model.isCreatedBeforeViewCountingStarted()?Resources.ViewCountNoData:t.toString()},i.prototype.viewCountAttrArgs=function(t){var n,i=this._model.getViewCount(t);n=this._model.isCreatedBeforeViewCountingStarted()?0===i?Resources.ViewCountNotAvailableAriaLabelAndTooltip:e.Utilities.formatString(Resources.ViewCountCouldBeLargerAriaLabelAndTooltip,[i.toString(),MyStoriesSettings.ViewCountShipDate]):e.Utilities.formatString(Resources.ViewCountAriaLabelAndTooltip,[i.toString()]);var o={};return o[Aria.Attributes.Title]=n,o[Aria.Attributes.Label]=n,o},i.prototype.getTileType=function(){return"StoryTileBase"},i}(t.StoryTileBaseVEBase);t.StoryTileVEBase=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(i){function o(e,t){var n=i.call(this,e,t.viewModel,t.onTileClick,t.callbackContext)||this;return n.args=t,n.styleExtensions=TDB.watchableTag(596125082,n,{}),n}return __extends(o,i),o.prototype.onEnterOrSpace=function(e){return this.isTileDissabled()?TDB.EventPropagation.PreventDefault:(this.logOpenStoryTileAction(),this.args.onTileClick&&this.args.callbackContext&&this.args.onTileClick.call(this.args.callbackContext,this._model),t.StoryTileVEBase.navigateToStory(this._model,!0,this.shouldForceNavigate(e)))},o.prototype.getTileType=function(){return"MyStoryTile"},o.prototype.shouldForceNavigate=function(e){return 2===this._model.getSwayVersion()||i.prototype.shouldForceNavigate.call(this,e)},o.prototype.onDeleteButtonConfirmed=function(e){this.disableTile(!0),this.args.onDeleteButtonConfirmed.call(this.args.callbackContext,e)},o.prototype.addStory=function(e){this.args.addStory.call(this.args.callbackContext,e)},o.prototype.duplicateStory=function(e){this.args.duplicateStory.call(this.args.callbackContext,e)},o.prototype.ellipsisButtonClicked=function(e){return this._menuTile.show(),i.prototype.setDetailsVisible.call(this,!1),TDB.EventPropagation.Bypass},o.prototype.coAuthorsButtonClicked=function(e){var i=this;return t.EditorListDialog.createAndShow({lookupId:this._model.getLookupId(),storyTitle:this._model.getTitle(),isOwner:this._model.getIsOwned(),onRemoveEditor:function(e){BRSDialog.showIfAuthoringDisabled()||i.args.onDeleteButtonConfirmed.call(i.args.callbackContext,i._model)},onAddEditor:function(e){var o;o=i._model.getEditId()?n.UrlHelper.getInstance().shareLinkUrl(i._model.getEditId()):i._model.getEditUrl(),t.StoryShareAction.shareEditLink(o,e,i.args.sharingManager,function(e){i._model.setEditUrl(e)})}}),TDB.EventPropagation.Bypass},o.prototype.ellipsisArgs=function(){var e={buttonId:ClientAction.ButtonId.Tile_Ellipses,click:this.ellipsisButtonClicked,context:this,cssClass:{value:"storyTileTopButton"},description:{value:Resources.MySwaysTileOverflowButtonShortDescription},tooltip:{value:Resources.MySwaysTileOverflowButtonTooltip},enabled:n.Environment.getInstance().getClientOnline(),fontIconName:{value:FontIcons.StoryOverflowIcon},fontIconSizeClass:FontIcons.StoryOverflowIconSize,hasPopup:!0};return new TDB.ChildArgs(t.GlyphButtonVE,e)},o.prototype.coAuthorsArgs=function(){if(this._model.getEditorCount()>0){var e={buttonId:ClientAction.ButtonId.Tile_AddAuthor,click:this.coAuthorsButtonClicked,context:this,cssClass:{value:"storyTileTopButton"},description:{value:Resources.CoAuthorButtonDescription},enabled:n.Environment.getInstance().getClientOnline(),fontIconName:{value:FontIcons.StoryTileCoAuthorsIcon},fontIconSizeClass:FontIcons.StoryTileCoAuthorsIconSize};return new TDB.ChildArgs(t.GlyphButtonVE,e)}},o.prototype.menuTileArgs=function(){var e={viewModel:this._model,context:this,onDeleteButtonConfirmed:this.onDeleteButtonConfirmed,addStory:this.addStory,duplicateStory:this.duplicateStory,hideAllMenuAndRestoreFocus:this.hideAllMenuAndRestoreFocus,hideSubMenuAndShowMenu:this.hideSubMenuAndShowMenu,sharingManager:this.args.sharingManager};return new TDB.ChildArgs(t.MenuTileVE,e)},o.prototype.updateMenuTile=function(e){!n.Environment.getInstance().getClientOnlineWatcher().getWatchedValue(e)&&this._menuTile&&this._menuTile.isEntered(e)&&(this._menuTile.hideAllMenuAndRestoreFocus(),i.prototype.setDetailsVisible.call(this,!0,TDB.Justification.FocusManagement))},o.prototype.disableTile=function(e){this.hideAllMenuAndRestoreFocus(),i.prototype.disableTile.call(this,e)},o.prototype.thumbnailEventsInitArgs=function(){return{error:this.thumbnailOnError}},o.prototype.thumbnailOnError=function(e){var t=this;return TDB.applyUpdate(function(){t.styleExtensions.setValue({display:"none"})}),!1},o.prototype.thumbnailStyleArgs=function(e){return Obj.extend(i.prototype.thumbnailStyleArgs.call(this,e),e.watchValue(this.styleExtensions))},o.prototype.tileContainerAttrArgs=function(t){var n={};n[Aria.Attributes.Title]=void 0,n[Aria.Attributes.Label]=void 0;var i=this.getTitle(),o=this._model.getLastModifiedDisplayString(),r=this._model.getViewCount(t);if(i&&o){var s=void 0;s=MyStoriesSettings.ViewCountEnabled?this._model.isCreatedBeforeViewCountingStarted()?0===r?e.Utilities.formatString(Resources.TileTitleEditDateViewCountNotAvailableAriaLabelAndTooltip,[i,o]):e.Utilities.formatString(Resources.TileTitleEditDateViewCountCouldBeLargerAriaLabelAndTooltip,[i,o,r.toString(),MyStoriesSettings.ViewCountShipDate]):e.Utilities.formatString(Resources.TileTitleEditDateViewCountAriaLabelAndTooltip,[i,o,r.toString()]):e.Utilities.formatString(Resources.TileTitleEditDateAriaLabelAndTooltip,[i,o]),n[Aria.Attributes.Title]=s,n[Aria.Attributes.Label]=i}else i&&(n[Aria.Attributes.Title]=i);return n},o}(t.StoryTileVEBase);t.MyStoriesPageTileVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(){function t(e){this._storyTiles=TDB.watchableTag(596125060,this,[]),this.tileComparer=e}return t.prototype.setComparer=function(e){this.tileComparer=e},t.prototype.getTiles=function(e){return this._storyTiles.getWatchedValue(e)},t.prototype.addTile=function(e){this.addTiles([e])},t.prototype.addTiles=function(t){for(var n=this,i=this._storyTiles.getValue(),o={},r=0;r<t.length;r++)o[t[r].getLookupId()]=!0;for(r=0;r<i.length;r++){var s=i[r].getLookupId();if(o[s]){i.splice(r,1),r--;var a={LookupId:s};StoryLog.StructuredTraceTag(596125061,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Duplicate story LookupId detected loading a list of Sways; hiding all but the first instance of that tile.",a)}}var l=e.Utilities.mergeSortedLists(i,t,this.tileComparer);TDB.applyUpdate(function(){return n._storyTiles.setValue(l)},TDB.Justification.SynchronousBrowserEvent)},t.prototype.insertAtIndex=function(e,t){var n=this,i=this._storyTiles.getValue();TDB.applyUpdate(function(){i.splice(t,0,e),n._storyTiles.notify()})},t.prototype.containsTile=function(e){return ArrayExtensions.contains(this._storyTiles.getValue(),e)},t.prototype.removeTile=function(e){var t=this,n=this.getTileIndex(e);n>=0&&TDB.applyUpdate(function(){t._storyTiles.getValue().splice(n,1),t._storyTiles.notify()})},t.prototype.getTileIndex=function(e){for(var t=this._storyTiles.getValue(),n=t.length,i=0;i<n;i++)if(t[i].getLookupId()===e)return i;return-1},t.prototype.getAndRemoveTile=function(e){var t=this,n=this.getTileIndex(e);if(n>=0){var i=this._storyTiles.getValue(),o=i[n];return TDB.applyUpdate(function(){i.splice(n,1),t._storyTiles.notify()}),o}return null},t.prototype.clear=function(){var e=this;TDB.applyUpdate(function(){e._storyTiles.getValue().length=0,e._storyTiles.notify()})},t.prototype.count=function(){return this._storyTiles.getValue().length},t}();t.StoryList=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(n){var i=t.call(this,n)||this;return i.featuredStoryLoader=new e.FeaturedStoryLoader,i}return __extends(n,t),n.prototype.featuredStoriesArgs=function(t){var n=this;return this.featuredStoryLoader.getFeaturedStories(t).map(function(t){var i={tile:t,carouselArgs:{columnClass:TDB.watchableTag(596125138,n,"mobileFeaturedStory")}};return new TDB.ChildArgs(e.FeaturedStoryVE,i)})},n}(TDB.FocusableViewElement);e.MobileFeaturedVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=e.View.ViewElements,o=function(o){function r(e,i){var s=o.call(this,e,TDB.ControlSetFeatures.AutoEnter|TDB.ControlSetFeatures.Isolated|TDB.ControlSetFeatures.PreserveFocusContext)||this;s.args=i,s._freDialog=null,s.whatsNewHelper=null,s._windowWidth=i.windowWidth,s._windowHeight=i.windowHeight,s._carouselOffset=TDB.watchableTag(596125087,s,0),s._numColumns=TDB.watchableTag(596125088,s,5),s.coldStartFromTitleOverride=TDB.watchableTag(596125089,s,MyStoriesSettings.IsColdStartFromTitleEnabled),s.office365ButtonHasBeenClicked=TDB.watchableTag(596125090,s,!1),s.isRecycleBinEmpty=TDB.statefulWatcherTag(596125091,s,s,s.checkIfRecycleBinEmpty),s.isAnyStorySelected=TDB.statefulWatcherTag(596125120,s,s,s.checkIfAnyStorySelected),s.textForClearSelectionRecycleBinMenu=TDB.watcherTag(596125121,s,s,s.textForRecycleBinMenu),s.textForClearSelectionOverflowMenu=TDB.watcherTag(596125122,s,s,s.textForRecycleBinOverflowMenu),s.sortCriteriaWrapperClassName=TDB.watchableTag(596125123,s,r.defaultSortCriteriaWrapperClass),s.sortingTypeWrapperClassName=TDB.watchableTag(596125124,s,r.defaultSortingTypeWrapperClass),s.shouldShowMySwaysSection=TDB.watchableTag(596125125,s,!1);var a={delayFetch:i.shouldDelayFetch,fetcherFactory:s.args.storyListFetcherFactory,windowWidthWatcher:s._windowWidth,sharingManager:s.args.sharingManager,parent:s};s.myStoriesList=new t.MyStoriesPageListV2ViewModel(s,a),MyStoriesPageTitleControler.MyStoriesPageTitleOverflowAction.storyList=s.myStoriesList,CommonSettings.FRESplashScreenShown||StoryLog.StructuredActivityTag(596125126,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"SimplifiedMySwaysTrigger","Possible exposure to Simplified My Sways experiment",null,{}),s.showFirstRunNewUserDialog()?CommonSettings.WhatsNewDialogVersion>0&&StoryLog.TraceTag(596125127,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"We should not show What's new and FRE dialogs at the same time."):s.showWhatsNewDialogIfRequired(n.WhatsNewPlatform.Web),s._popularityMetricsGenerator=void 0;try{n.UserState.getInstance().isUserOnFlight(FlightList.PopularityMetricsExperiment1)||n.UserState.getInstance().isUserOnFlight(FlightList.PopularityMetricsExperiment3)?s._popularityMetricsGenerator=new n.PopularityMetricsGenerator(n.PopularityMetric.MadeSways,"MyStories"):(n.UserState.getInstance().isUserOnFlight(FlightList.PopularityMetricsExperiment2)||n.UserState.getInstance().isUserOnFlight(FlightList.PopularityMetricsExperiment4))&&(s._popularityMetricsGenerator=new n.PopularityMetricsGenerator(n.PopularityMetric.OnlineAuthors,"MyStories"))}catch(e){StoryLog.StructuredTraceTag(596125128,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"Failed to create popularity metrics generator, probably due to wrong BRS value for data.",{Exception:e})}return s.createMyStoriesPageTitleOverflowViewModel(),s}return __extends(r,o),r.prototype.createMyStoriesPageTitleOverflowViewModel=function(){var e={userState:n.UserState.getInstance(),myStoryNewList:this.myStoriesList,sortingType:this.myStoriesList.getSortingTypeWatchable(),overflowButtonCssClass:"myStoriesPageTitleOverflowButton",resourceFactory:this.args.resourceFactory};this.myStoriesPageTitleOverflowViewModel=new t.MyStoriesPageTitleOverflowViewModel(e)},r.prototype.showMySwaysSection=function(){var e=this;TDB.applyUpdate(function(){e.shouldShowMySwaysSection.setValue(!0)},TDB.Justification.SynchronousBrowserEvent)},r.prototype.shouldShowMySwaysSectionArgs=function(e){return!MyStoriesSettings.HideMySwaysSectionWhenEmptyEdited||this.shouldShowMySwaysSection.getWatchedValue(e)},r.prototype.showFirstRunNewUserDialog=function(){var t=this,n=CommonSettings.IsFirstRun&&CommonSettings.FRESplashScreenEnabled&&!0!==CommonSettings.FRESplashScreenShown;return n&&(CommonSettings.FRESplashScreenShown=!0,e.Utilities.setTimeoutIfSpecified(CommonSettings.JAWSDialogDelay,this,function(){t._freDialog=t.createFirstRunNewUserDialog()})),n},r.prototype.createFirstRunNewUserDialog=function(){var e=this,n={windowWidth:this._windowWidth,windowHeight:this._windowHeight,onClose:function(){e.myStoriesList.getNextStories()}};return t.FRECarouselDialog.createAndShow(n)},r.prototype.overrideColdStartFromTitle=function(e){var t=this;TDB.applyUpdate(function(){t.coldStartFromTitleOverride.setValue(e)})},r.prototype.handleShortcutKey=function(e){var t=this.getShortcutElements(TDB.ShortcutIdentifier.createShortcutIdentifierFromEvent(e));return t.length>0?this.executeShortcutElements(t,e):TDB.EventPropagation.Bubble},r.prototype.isRecycleBinViewArgs=function(e){return this.myStoriesList.isRecycleBinView(e)},r.prototype.isAnythingSelectedArgs=function(e){return this.myStoriesList.countSelectedSways(e)>0},r.prototype.showCreateNewTileArgs=function(){return r.isAutoringAllowed()},r.prototype.createNew=function(e){return ActionLogger.RecordClientAction(new ClientAction.SimpleClientActionData(ClientAction.ActionType.CreateNewTile,Diag.ULSCat.msoulscat_Story_Site)),n.UserStories.getInstance().submitCreateStoryAsync(!1),TDB.EventPropagation.Bypass},r.prototype.myStoriesPageListV2=function(){return this.myStoriesList},r.prototype.getMyStoriesPageFeaturedList=function(){return this.myStoriesPageFeaturedList},r.prototype.getMyStoriesPageTemplateList=function(){return this.myStoriesPageTemplateList},r.prototype.makeRestoreStoriesDialog=function(t,n,i){var o={service:new Delete.DeleteServerInterface,dialogManager:e.View.Common.DialogManager.getInstance(),restoreAll:t,storyInfos:n,callbackContext:this.myStoriesList,onRestoreSuccessAssumed:t?this.myStoriesList.restoreAllSuccessAssumed:this.myStoriesList.restoreSuccessAssumed,onOperationComplete:i,onRestoreSuccessConfirmed:this.myStoriesList.restoreSuccessConfirmed,onRestoreErrorConfirmed:this.myStoriesList.restoreError};return new e.View.ViewElements.RestoreStoriesDialog(o)},r.prototype.restoreSelectedStories=function(e){var t=this.myStoriesList.getSelectedStoriesInfos();this.makeRestoreStoriesDialog(!1,t,e).start()},r.prototype._restoreClick=function(e){return this.restoreSelectedStories(null),TDB.EventPropagation.Bypass},r.prototype.makeDeleteStoriesDialog=function(t,n,i){var o={service:new Delete.DeleteServerInterface,dialogManager:e.View.Common.DialogManager.getInstance(),deleteAll:t,storyInfos:n,callbackContext:this.myStoriesList,onDeleteSuccessAssumed:t?this.myStoriesList.deleteAllStoriesSuccessAssumed:this.myStoriesList.deleteStoriesSuccessAssumed,onOperationComplete:i,onDeleteSuccessConfirmed:this.myStoriesList.deleteStoriesSuccessConfirmed,onDeleteErrorConfirmed:this.myStoriesList.deleteStoriesError};return new e.View.ViewElements.DeleteStoriesDialog(o)},r.prototype.deleteSelectedStories=function(e){var t=this.myStoriesList.getSelectedStoriesInfos(),n=this.makeDeleteStoriesDialog(!1,t,e);return n.start(),n},r.prototype._deleteClick=function(e){return this.deleteSelectedStories(null),TDB.EventPropagation.Bypass},r.prototype.restoreAllStories=function(e){var t=this.myStoriesList.getAllRecycleBinStoriesInfos(!1);t.length>0&&this.makeRestoreStoriesDialog(!0,t,e).start()},r.prototype._restoreAllClick=function(e){return this.restoreAllStories(null),TDB.EventPropagation.Bypass},r.prototype.deleteAllStories=function(e){var t=this.myStoriesList.getAllRecycleBinStoriesInfos(!1);if(t.length>0){var n=this.makeDeleteStoriesDialog(!0,t,e);return n.start(),n}return null},r.prototype._emptyRecycleBinClick=function(e){return this.deleteAllStories(null),TDB.EventPropagation.Bypass},r.prototype.clearSelection=function(){this.myStoriesList.clearSelection()},r.prototype._clearSelectionClick=function(e){return this.clearSelection(),TDB.EventPropagation.Bypass},r.prototype.getFREDialogCarousel=function(){return null!==this._freDialog?this._freDialog.getFRECarousel():void 0},r.prototype.showWhatsNewDialogIfRequired=function(e,t){this.whatsNewHelper=n.WhatsNewHelper.showWhatsNewDialogWithDelay(n.WhatsNewPage.MySways,e,t)},r.prototype.getWhatsNewDialog=function(){return this.whatsNewHelper?this.whatsNewHelper.getCurrentDialog():null},r.prototype.hasSway=function(e){return this.myStoriesList.hasSway(e)},r.prototype.isRecycleBinEmptyArgs=function(e){return 0===this.myStoriesList.countSwaysInRecycleBin(e)},r.prototype.isRecycleBinNonEmptyArgs=function(e){return!this.isRecycleBinEmptyArgs(e)},r.prototype.shouldShowSecondaryRecycleBinMessageArgs=function(){return n.Environment.getInstance().areInternalFeaturesEnabled()&&CommonSettings.IsTenantUser},r.prototype.ensureTileIsAddedToMyStories=function(e){this.myStoriesList.ensureTileIsAddedToMyStories(e)},r.prototype.recycleBinMenuArgs=function(){var e={userState:n.UserState.getInstance(),currentStory:null,callbackContext:this,restoreSelectedCallback:this._restoreClick,restoreAllCallback:this._restoreAllClick,deleteSelectedCallback:this._deleteClick,deleteAllCallback:this._emptyRecycleBinClick,clearSelectionCallback:this._clearSelectionClick,isAnyStorySelected:{watchable:this.isAnyStorySelected},clearSelectionButtonText:{watchable:this.textForClearSelectionRecycleBinMenu},isRecycleBinEmpty:{watchable:this.isRecycleBinEmpty},resourceFactory:this.args.resourceFactory,clearSelectionOverflowButtonText:{watchable:this.textForClearSelectionOverflowMenu}};return new TDB.ChildArgs(t.RecycleBinMenuVE,e)},r.prototype.displayAnalyticsUpsellArgs=function(e){return this.myStoriesList.getSortingType(e)===t.MyStoriesSorting.Analytics&&CommonSettings.CurrentUserType===UserType.MSA&&!CommonSettings.IsPaidUser},r.prototype.office365FeatureTitleTextArgs=function(){return Resources.Office365FeatureLabel},r.prototype.office365FeatureDescriptionTextArgs=function(e){return this.office365ButtonHasBeenClicked.getWatchedValue(e)?Resources.Office365SaleLabel:Resources.Office365FeatureDescription},r.prototype.office365ButtonArgs=function(e){if(this.office365ButtonHasBeenClicked.getWatchedValue(e)){var i={buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_Office365Refresh,text:{value:Resources.RefreshSway},url:n.UrlHelper.getInstance().mySwaysUrl(),context:this,cssClass:{value:"analyticsOffice365UpsellButton ButtonVE"},textCssClass:{value:"analyticsOffice365UpsellButtonText"},nativeKeyboardHandling:!0,shortcutProcessor:null};return new TDB.ChildArgs(t.LinkButtonVE,i)}var o={buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_Office365LearnMore,text:{value:Resources.Office365LearnMoreLabel},url:n.UrlHelper.getInstance().getOffice365UpsellUrl(),context:this,cssClass:{value:"analyticsOffice365UpsellButton ButtonVE"},textCssClass:{value:"analyticsOffice365UpsellButtonText"},tooltip:{value:Resources.Office365LearnMoreDescription},nativeKeyboardHandling:!0,shortcutProcessor:null,target:"_tab",click:this.office365ButtonClick};return new TDB.ChildArgs(t.LinkButtonVE,o)},r.prototype.office365ButtonClick=function(e){var t=this;return TDB.applyUpdate(function(){t.office365ButtonHasBeenClicked.setValue(!0)}),TDB.EventPropagation.Bubble},r.prototype.textForRecycleBinOverflowMenu=function(e){return ResourceManager.ResolveString(Resources.ClearSelectionAction,[this.myStoriesList.countSelectedSways(e)])},r.prototype.textForRecycleBinMenu=function(e){var t=this.myStoriesList.countSelectedSways(e);return this.getTextForRecycleBinMenu(t)},r.prototype.getTextForRecycleBinMenu=function(e){return e>1?ResourceManager.ResolveString(Resources.ClearSelectedTilesAction,[e]):ResourceManager.ResolveString(Resources.ClearSelectedTilesActionSingular,[e])},r.prototype.checkIfRecycleBinEmpty=function(e,t){return e||(e=!1),!(this.myStoriesList.countSwaysInRecycleBin(t)>0)},r.prototype.checkIfAnyStorySelected=function(e,t){return e||(e=!1),this.myStoriesList.countSelectedSways(t)>0},r.prototype.autoDeleteMessageTextArgs=function(e){return ResourceManager.ResolveString(Resources.RecycleBinAutoDeleteMessage,[MyStoriesSettings.RecycleBinAutoDeletePeriod])},r.prototype.showPopularityMetricArgs=function(){return CommonSettings.PopularityMetricsExperimentEnabled&&(CommonSettings.PopularityMetricsExperimentTranslated||"en-us"===CommonSettings.UserLocaleString)&&void 0!=this._popularityMetricsGenerator&&this._popularityMetricsGenerator.aboveTheThreshold()},r.prototype.showSortTypeDropdownArgs=function(e){return MyStoriesSettings.SiteMySwaysSortingEnabled},r.prototype.showSortCriteriaDropdownArgs=function(e){var n=this.myStoriesList.getSortingType(e)===t.MyStoriesSorting.Analytics&&(this.displayAnalyticsUpsellArgs(e)||0==this.myStoriesList.countAnalyticsSways(e)||CommonSettings.AuthorAnalyticsShowOfflineUX),i=this.myStoriesList.countActiveTabSways(e);return MyStoriesSettings.SiteMySwaysSortingEnabled&&!n&&i>1},r.prototype.getBannerImageNameBus=function(e){return e<=t.NewHomePageContentVE.screenWidth_360||"Mobile"===CommonSettings.ClientDevice?Icons.mySwaysTopImageBusAbs_360:e<=t.NewHomePageContentVE.screenWidth_480?Icons.mySwaysTopImageBusAbs_480:e<=t.NewHomePageContentVE.screenWidth_768?Icons.mySwaysTopImageBusAbs_768:e<=t.NewHomePageContentVE.screenWidth_1080?Icons.mySwaysTopImageBusAbs_1080:e<=t.NewHomePageContentVE.screenWidth_1366?Icons.mySwaysTopImageBusAbs_1366:e<=t.NewHomePageContentVE.screenWidth_1920?Icons.mySwaysTopImageBusAbs_1920:Icons.mySwaysTopImageBusAbs_3000},r.prototype.getBannerImageNameEdu=function(e){return e<=t.NewHomePageContentVE.screenWidth_360||"Mobile"===CommonSettings.ClientDevice?Icons.mySwaysTopImageEduAbs_360:e<=t.NewHomePageContentVE.screenWidth_480?Icons.mySwaysTopImageEduAbs_480:e<=t.NewHomePageContentVE.screenWidth_768?Icons.mySwaysTopImageEduAbs_768:e<=t.NewHomePageContentVE.screenWidth_1080?Icons.mySwaysTopImageEduAbs_1080:e<=t.NewHomePageContentVE.screenWidth_1366?Icons.mySwaysTopImageEduAbs_1366:e<=t.NewHomePageContentVE.screenWidth_1920?Icons.mySwaysTopImageEduAbs_1920:Icons.mySwaysTopImageEduAbs_3000},r.prototype.getBannerImageNameMsa=function(e){return e<=t.NewHomePageContentVE.screenWidth_360||"Mobile"===CommonSettings.ClientDevice?Icons.mySwaysTopImageMsaAbs_360:e<=t.NewHomePageContentVE.screenWidth_480?Icons.mySwaysTopImageMsaAbs_480:e<=t.NewHomePageContentVE.screenWidth_768?Icons.mySwaysTopImageMsaAbs_768:e<=t.NewHomePageContentVE.screenWidth_1080?Icons.mySwaysTopImageMsaAbs_1080:e<=t.NewHomePageContentVE.screenWidth_1366?Icons.mySwaysTopImageMsaAbs_1366:e<=t.NewHomePageContentVE.screenWidth_1920?Icons.mySwaysTopImageMsaAbs_1920:Icons.mySwaysTopImageMsaAbs_3000},r.prototype.myStoriesBannerImgStyleArgs=function(e){var t,n=this._windowWidth.getWatchedValue(e);switch(CommonSettings.CurrentUserType){case UserType.AAD_BUS:t=this.getBannerImageNameBus(n);break;case UserType.AAD_EDU:t=this.getBannerImageNameEdu(n);break;case UserType.MSA:t=this.getBannerImageNameMsa(n);break;default:t=this.getBannerImageNameBus(n)}return{backgroundImage:"url("+CommonSettings.ContentBaseUrl+t+")"}},r.prototype.myStoriesBannerTextTextArgs=function(){return Resources.TopBannerMessageMySwaysPage},r.prototype.storyListV2Args=function(){return new TDB.ChildArgs(t.MyStoriesPageListV2VE,this.myStoriesList)},r.prototype.myStoriesListTitleBarClassNameArgs=function(e){return MyStoriesSettings.SiteMySwaysSortingEnabled||this.myStoriesPageTitleOverflowViewModel.menuItemsVisible.getWatchedValue(e)?this.myStoriesList.isRecycleBinView(e)?"myStoriesTitleBarRecycleBinView":"myStoriesTitleBar":"myStoriesTitleBarActiveViewLabel"},r.prototype.storyTileListWrapperClassNameArgs=function(e){return MyStoriesSettings.SiteMySwaysSortingEnabled?"storyTileListWrapper":this.myStoriesPageTitleOverflowViewModel.menuItemsVisible.getWatchedValue(e)?"storyTileListWrapper":"storyTileListWrapperActiveViewLabelVisible"},r.prototype.myStoriesTitleOverflowMenuArgs=function(){var e=this;return new TDB.ChildArgs(t.MyStoriesPageTitleOverflowVE,this.myStoriesPageTitleOverflowViewModel,function(t){e.myStoriesPageTitleOverflowViewModel.setEnterFunctionProvider(t)})},r.prototype.createTilesCarouselArgs=function(){var e;e=CommonSettings.IsFirstRun?t.CreateTilesCarouselOptions.CreateNew:t.CreateTilesCarouselOptions.All;var n={windowWidth:this._windowWidth,callbackContext:this,ensureTileIsAddedToMyStoriesCallback:this.ensureTileIsAddedToMyStories,coldStartFromTitleOverride:this.coldStartFromTitleOverride,elementsToConsider:e};return new TDB.ChildArgs(t.CreateTilesCarouselVE,n)},r.prototype.contentClassNameArgs=function(){return r.mySwaysPageCssClass},r.prototype.popularityMetricMessagePrefixTextArgs=function(e){return this._popularityMetricsGenerator.getMetricMessagePrefix()},r.prototype.popularityMetricNumberTextArgs=function(e){return this._popularityMetricsGenerator.getMetricNumber().toString()},r.prototype.popularityMetricMessageTextArgs=function(e){return this._popularityMetricsGenerator.getMetricMessageText()},r.prototype.popularityMetricIconArgs=function(){return this._popularityMetricsGenerator.getMetricIcon()},r.prototype.onMyStoriesPageListEmpty=function(){this.myStoriesPageTitleOverflowViewModel.enter()},r.prototype.featuredStoriesArgs=function(){if(MyStoriesSettings.SiteFeaturedStoriesOnMySwaysPageV2Enabled){var e={fetcherFactory:this.args.storyListFetcherFactory,windowWidth:this._windowWidth};return new TDB.ChildArgs(t.MyStoriesPageFeaturedListVE,e)}},r.prototype.templateStoriesArgs=function(){if(CommonSettings.TemplateStoriesEnabled){var e={fetcherFactory:this.args.storyListFetcherFactory,windowWidth:this._windowWidth};return new TDB.ChildArgs(t.MyStoriesPageTemplateListVE,e)}},r.prototype.myStoriesBannerWrapperClassNameArgs=function(e){return r.isAutoringAllowed()?r.myStoriesBannerWrapper_Desktop:r.myStoriesBannerWrapper_Mobile},r.prototype.myStoriesBannerTextClassNameArgs=function(e){return r.isAutoringAllowed()?r.myStoriesBannerText_Desktop:r.myStoriesBannerText_Mobile},r.prototype.myStoriesBannerImgClassNameArgs=function(e){return r.isAutoringAllowed()?r.myStoriesBannerImg_Desktop:r.myStoriesBannerImg_Mobile},r.isAutoringAllowed=function(){return CommonSettings.IsEnabled&&n.Environment.getInstance().shouldShowAuthoringEntrypoints()},r.prototype.displaySeeMoreButtonArgs=function(e){return this.myStoriesPageListV2().displaySeeMoreButton(e)},r.prototype.seeMoreButtonArgs=function(){var e={buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SeeMore,text:{value:Resources.SeeMoreSwaysButtonTitle},context:this,cssClass:{value:"seeMoreOrLessSwaysButton"},click:this.seeMoreSways,textClass:"seeMoreOrLessSwaysButtonText segoeUISemilight",tooltip:{value:Resources.SeeMoreSwaysButtonTooltip},shortcutProcessor:null};return new TDB.ChildArgs(t.TextButtonVE,e)},r.prototype.displaySeeLessButtonArgs=function(e){return this.myStoriesPageListV2().displaySeeLessButton(e)},r.prototype.seeLessButtonArgs=function(){var e={buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SeeLess,text:{value:Resources.SeeLessSwaysButtonTitle},context:this,cssClass:{value:"seeMoreOrLessSwaysButton"},click:this.seeLessSways,textClass:"seeMoreOrLessSwaysButtonText segoeUISemilight",tooltip:{value:Resources.SeeLessSwaysButtonTooltip},shortcutProcessor:null};return new TDB.ChildArgs(t.TextButtonVE,e)},r.prototype.seeMoreSways=function(e){return this.myStoriesPageListV2().increaseNumberOfStoriesToShow(),TDB.EventPropagation.Bypass},r.prototype.seeLessSways=function(e){return this.myStoriesPageListV2().decreaseNumberOfStoriesToShow(),TDB.EventPropagation.Bypass},r.prototype.seeMoreFeaturedSwaysButtonArgs=function(){if(CommonSettings.CurrentUserType===UserType.AAD_EDU){var e=void 0;if(CommonSettings.SiteUseAlternateUserTypeSpecificStrings)switch(CommonSettings.CurrentUserType){case UserType.AAD_EDU:e=Resources.EduSeeMoreFeaturedSwaysButtonTitle;break;default:e=Resources.SeeMoreFeaturedSwaysButtonTitle,StoryLog.StructuredTraceTag(596125129,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"Unexpected SiteUseAlternateUserTypeSpecificStrings BRS value.",{})}else e=Resources.SeeMoreFeaturedSwaysButtonTitle;var n={url:t.MyStoriesPageFeaturedListVE.getSeeMoreFeaturedStoriesUrl(),buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SeeMoreFeaturedSways,text:{value:e},context:this,cssClass:{value:"seeMoreOrLessSwaysButton"},click:this.seeMoreFeaturedSways,textCssClass:{value:"seeMoreOrLessSwaysButtonText segoeUISemilight"}};return new TDB.ChildArgs(t.LinkButtonVE,n)}},r.prototype.seeMoreFeaturedSways=function(e){return window.open(t.MyStoriesPageFeaturedListVE.getSeeMoreFeaturedStoriesUrl(),"_blank"),TDB.EventPropagation.PreventDefault},r.prototype.featuredStoriesEnabledArgs=function(e){return MyStoriesSettings.SiteFeaturedStoriesOnMySwaysPageV2Enabled&&this.myStoriesList.getSortingType(e)!=t.MyStoriesSorting.Analytics},r.prototype.templateStoriesEnabledArgs=function(e){return CommonSettings.TemplateStoriesEnabled&&r.isAutoringAllowed()&&this.myStoriesList.getSortingType(e)!==t.MyStoriesSorting.Analytics},r.prototype.getSelectedSortCriteria=function(e){return this.myStoriesList.sortCriteria.getWatchedValue(e)},r.prototype.getSelectedSortingType=function(e){return this.myStoriesList.getSortingType(e)},r.prototype.sortCriteriaDropdownListArgs=function(e){var n=this,o={wrapperClassName:{watchable:this.sortCriteriaWrapperClassName},dropdownButtonArgs:this.getSelectedSortCriteriaOptionArgs(),listItemType:t.SortCriteriaOptionVE,listItemsArgs:{compute:new TDB.ComputedOptionArgs(this,function(e){return n.getSortCriteriaOptions(e)})},hideOnExit:!0,dropdownTelemetryId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SortCriteria_Dropdown,ulsCategory:Diag.ULSCat.msoulscat_Story_Storyline};return new TDB.ChildArgs(i.DropdownListVE,o)},r.prototype.sortingTypeDropdownListArgs=function(e){var n=this,o={wrapperClassName:{watchable:this.sortingTypeWrapperClassName},dropdownButtonArgs:this.getSelectedSortingTypeOptionArgs(),listItemType:t.SortingTypeOptionVE,listItemsArgs:{compute:new TDB.ComputedOptionArgs(this,function(e){return n.getSortingTypeOptions(e)})},hideOnExit:!0,dropdownTelemetryId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SortingType_Dropdown,ulsCategory:Diag.ULSCat.msoulscat_Story_Storyline};return new TDB.ChildArgs(i.DropdownListVE,o)},r.prototype.getSelectedSortCriteriaOptionArgs=function(){var e=this;return{context:this,isSelected:{value:!1},criteria:{compute:new TDB.ComputedOptionArgs(this,function(t){return e.getSelectedSortCriteria(t)})},buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SortCriteria_DropdownOption,onAction:this.onSelectedSortCriteriaAction,sortingType:this.myStoriesList.getSortingTypeWatchable(),description:{compute:new TDB.ComputedOptionArgs(this,function(n){return t.SortCriteriaOptionVE.getDescription(e.myStoriesList.getSortingType(n),e.getSelectedSortCriteria(n))})}}},r.prototype.getSelectedSortingTypeOptionArgs=function(){var e=this;return{context:this,isSelected:{value:!1},sortingType:{compute:new TDB.ComputedOptionArgs(this,function(t){return e.getSelectedSortingType(t)})},buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SortingType_DropdownOption,onAction:this.onSelectedSortingTypeAction}},r.prototype.onSelectedSortCriteriaAction=function(e,t,n){var i=this;return this.sortCriteriaDropdownList&&this.sortCriteriaDropdownList.getDropdownVisibility()&&(TDB.applyUpdate(function(){return i.sortCriteriaWrapperClassName.setValue(i.getSortCriteriaWrapperClassName())}),StoryLog.StructuredTraceTag(596125130,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageContentHolderVE: onSelectedSortCriteriaAction() : selected sort criteria",this.myStoriesList.createSortRelatedLogData())),!1},r.prototype.onSelectedSortingTypeAction=function(e,t,n){var i=this;return this.sortingTypeDropdownList&&this.sortingTypeDropdownList.getDropdownVisibility()&&TDB.applyUpdate(function(){return i.sortingTypeWrapperClassName.setValue(i.getSortingTypeWrapperClassName())}),!1},r.prototype.getSortCriteriaWrapperClassName=function(){var e=this._windowHeight.getValue(),n=this.sortCriteriaWrapperPositionBinding.getPosition().bottom+r.maxDropdownPopupHeight<e;return t.MyStoriesPageContentHolderVE.defaultSortCriteriaWrapperClass.concat(" SortCriteriaWrapperDropdown",n?"Below":"Above")},r.prototype.getSortingTypeWrapperClassName=function(){var e=this._windowHeight.getValue(),n=this.sortingTypeWrapperPositionBinding.getPosition().bottom+r.maxDropdownPopupHeight<e;return t.MyStoriesPageContentHolderVE.defaultSortingTypeWrapperClass.concat(" SortingTypeWrapperDropdown",n?"Below":"Above")},r.prototype.getSortCriteriaOptions=function(e){var n=this,i=[],o=(t.SortCriteria.Date,{context:this,isSelected:{compute:new TDB.ComputedOptionArgs(this,function(e){return n.isSortCriteriaAlreadySelected(t.SortCriteria.Date,e)})},onAction:this.sortCriteriaHasChanged,criteria:{value:t.SortCriteria.Date},enabled:{compute:new TDB.ComputedOptionArgs(this,function(e){return!0})},buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SortCriteria_DropdownOption,description:{value:t.SortCriteriaOptionVEBase.getDescription(this.myStoriesList.getSortingType(e),t.SortCriteria.Date)},sortingType:this.myStoriesList.getSortingTypeWatchable()});return i.push(o),t.SortCriteria.Title,o={context:this,isSelected:{compute:new TDB.ComputedOptionArgs(this,function(e){return n.isSortCriteriaAlreadySelected(t.SortCriteria.Title,e)})},onAction:this.sortCriteriaHasChanged,criteria:{value:t.SortCriteria.Title},enabled:{compute:new TDB.ComputedOptionArgs(this,function(e){return!0})},buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SortCriteria_DropdownOption,description:{value:t.SortCriteriaOptionVEBase.getDescription(this.myStoriesList.getSortingType(e),t.SortCriteria.Title)},sortingType:this.myStoriesList.getSortingTypeWatchable()},i.push(o),i},r.prototype.getSortingTypeOptions=function(e){var t=this,n=[],o={context:this,isSelected:{compute:new TDB.ComputedOptionArgs(this,function(e){return t.isSortingTypeAlreadySelected(i.MyStoriesSorting.MyStories,e)})},onAction:this.changeSortingTypeOnAction,sortingType:{value:i.MyStoriesSorting.MyStories},enabled:{compute:new TDB.ComputedOptionArgs(this,function(e){return!0})},buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SortingType_DropdownOption,description:{value:Resources.EditedSwaysTooltip}};n.push(o);var r=parseInt(CommonSettings.AnonUserId,36)%100;return(CommonSettings.AuthorAnalyticsPageEnabled||CommonSettings.AuthorAnalyticsPageEnabledRolloutPercentage>r)&&(o={context:this,isSelected:{compute:new TDB.ComputedOptionArgs(this,function(e){return t.isSortingTypeAlreadySelected(i.MyStoriesSorting.Analytics,e)})},onAction:this.changeSortingTypeOnAction,sortingType:{value:i.MyStoriesSorting.Analytics},enabled:{compute:new TDB.ComputedOptionArgs(this,function(e){return!0})},buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SortingType_DropdownOption,description:{value:Resources.AnalyticsTitleDescription}},n.push(o)),o={context:this,isSelected:{compute:new TDB.ComputedOptionArgs(this,function(e){return t.isSortingTypeAlreadySelected(i.MyStoriesSorting.ViewedStories,e)})},onAction:this.changeSortingTypeOnAction,sortingType:{value:i.MyStoriesSorting.ViewedStories},enabled:{compute:new TDB.ComputedOptionArgs(this,function(e){return!0})},buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SortingType_DropdownOption,description:{value:Resources.ViewedSwaysTooltip}},n.push(o),o={context:this,isSelected:{compute:new TDB.ComputedOptionArgs(this,function(e){return t.isSortingTypeAlreadySelected(i.MyStoriesSorting.RecycleBin,e)})},onAction:this.changeSortingTypeOnAction,sortingType:{value:i.MyStoriesSorting.RecycleBin},enabled:{compute:new TDB.ComputedOptionArgs(this,function(e){return!0})},buttonId:ClientAction.ButtonId.MyStories_MySwaysPageV2_SortingType_DropdownOption,description:{value:Resources.DeletedSwaysTooltip}},n.push(o),n},r.prototype.sortCriteriaHasChanged=function(e,t,n){return this.setSortCriteria(n),!1},r.prototype.setSortCriteria=function(e){var t=this;this.isSortCriteriaAlreadySelected(e)||(TDB.applyUpdate(function(){t.myStoriesList.sortCriteria.setValue(e)}),this.myStoriesList.reset(),this.myStoriesList.checkShouldWeLoadMore())},r.prototype.changeSortingTypeOnAction=function(e,t,n){if(!this.isSortingTypeAlreadySelected(n))switch(n){case i.MyStoriesSorting.MyStories:MyStoriesPageTitleControler.MyStoriesPageTitleOverflowAction.ShowMyStories(),this.myStoriesList.mySwaysEntryClicked();break;case i.MyStoriesSorting.RecycleBin:MyStoriesPageTitleControler.MyStoriesPageTitleOverflowAction.ShowRecycleBinStories(),this.myStoriesList.recycleBinEntryClicked();break;case i.MyStoriesSorting.ViewedStories:MyStoriesPageTitleControler.MyStoriesPageTitleOverflowAction.ShowViewedStories(),this.myStoriesList.viewedEntryClicked();break;case i.MyStoriesSorting.Analytics:MyStoriesPageTitleControler.MyStoriesPageTitleOverflowAction.ShowStoryAnalytics(),this.myStoriesList.analyticsEntryClicked();break;default:StoryLog.TraceTag(596125131,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Unexpected MyStoriesSorting option")}return!1},r.prototype.isSortCriteriaAlreadySelected=function(e,t){return this.myStoriesList.sortCriteria.getWatchedValue(t)==e},r.prototype.isSortingTypeAlreadySelected=function(e,t){return this.myStoriesList.getSortingType(t)==e},r.mySwaysPageCssClass="homeContentMySwaysPageV2",r.myStoriesBannerWrapper_Desktop="myStoriesBannerWrapper_Desktop",r.myStoriesBannerWrapper_Mobile="myStoriesBannerWrapper_Mobile",r.myStoriesBannerText_Desktop="myStoriesBannerText_Desktop",r.myStoriesBannerText_Mobile="myStoriesBannerText_Mobile",r.myStoriesBannerImg_Desktop="myStoriesBannerImg_Desktop",r.myStoriesBannerImg_Mobile="myStoriesBannerImg_Mobile",r.maxDropdownPopupHeight=160,r.defaultSortCriteriaWrapperClass="SortCriteriaWrapper",r.defaultSortingTypeWrapperClass="SortingTypeWrapper",r}(t.RegionViewElement);t.MyStoriesPageContentHolderVEBase=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(n){function i(e,t){var i=n.call(this,e)||this;return i.model=t,i}return __extends(i,n),i.prototype.ensureTileIsAddedToMyStories=function(e){this.model.ensureTileIsAddedToMyStories(e)},i.prototype.myStoriesSwaysTileWrapperClassNameArgs=function(e){var n=this.model;return n.watchNumberOfStoriesToShow(e),n.getMyStoriesList().getTiles().length+n.getMyEditableStoriesList().getTiles().length==0&&n.shouldSpinnerBeVisible(e)?"myStoriesSwaysTileWrapperHidden":n.getSortingType(e)===t.MyStoriesSorting.Analytics?"myStoriesAnalyticsSwaysTileWrapper":"myStoriesSwaysTileWrapper"},i.prototype.myStoriesSwaysTileWrapperStyleArgs=function(e){var n={},i=this.model,o=i.getAnalyticsStoriesList();return i.getSortingType(e)===t.MyStoriesSorting.Analytics&&o&&0===o.getTiles(e).length&&!i.shouldSpinnerBeVisible(e)?n.opacity="0.25":n.opacity="1",n},i.prototype.myStoriesSwaysTileWrapperAttrArgs=function(e){var n={};switch(n[Aria.Attributes.Label]=void 0,n[Aria.Attributes.Role]=Aria.Roles.Listbox,this.model.getSortingType(e)){case t.MyStoriesSorting.MyStories:n[Aria.Attributes.Label]=Resources.EditedSwaysListName;break;case t.MyStoriesSorting.RecycleBin:n[Aria.Attributes.Label]=Resources.DeletedSwaysListName;break;case t.MyStoriesSorting.ViewedStories:n[Aria.Attributes.Label]=Resources.ViewedSwaysListName;break;case t.MyStoriesSorting.Analytics:n[Aria.Attributes.Label]=Resources.MyAnalyticsTitleLabel,n[Aria.Attributes.Role]=void 0;break;default:TDB.raiseRecoverableError("MyStoriesPageListV2VE: myStoriesSwaysTileWrapperAttrArgs : Unhandled sorting type",TDB.LogLevel.info)}return n},i.prototype.storiesArgs=function(e){var t=this.model;return t.getStoryTiles(e).map(function(e){return t.createMyStoryTile(e)})},i.prototype.updateWidth=function(e){return this.model.updateWidth(e)},i.prototype.isCurrentListEmptyMessageArgs=function(e){return this.model.isCurrentListEmptyMessageArgs(e)},i.prototype.emptyListMessageTextArgs=function(e){return this.model.emptyListMessageTextArgs(e)},i.prototype.emptyListMessageClassNameArgs=function(e){return this.model.getSortingType(e)===t.MyStoriesSorting.Analytics?"emptyAnalyticsMessage myStoriesSwaysTileWrapper segoeUISemilight":"emptyRecycleBinMessage segoeUISemilight"},i.prototype.loadingSpinnerAttrArgs=function(e){var t={};return t.src=CommonSettings.ContentBaseUrl+"LoadingBlackSpinner.gif",t},i.prototype.isCurrentListLoadingArgs=function(e){return this.model.shouldSpinnerBeVisible(e)},i.prototype.listLoadingPlaceholderStyleArgs=function(n){var i,o=this.model;if(o.shouldSpinnerBeVisible(n))if(0!==o.getStoryTiles(n).length)i=t.MyStoriesPageListV2ViewModel.rowHeight;else{var r=o.getNumberOfStoriesExpectedToShow(n);i=t.MyStoriesPageListV2ViewModel.rowHeight*Math.ceil(r/o.maximumTilesInARow(n))}else i=0;return{height:e.Utilities.toPxStr(i)}},i.prototype.sectionLoadErrorArgs=function(e){return this.model.sectionLoadErrorArgs(e)},i}(t.GridViewPanelVE);t.MyStoriesPageListV2VEBase=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n,i=e.Common;!function(e){e[e.MyStories=0]="MyStories",e[e.RecycleBin=1]="RecycleBin",e[e.ViewedStories=2]="ViewedStories",e[e.Analytics=3]="Analytics"}(n=t.MyStoriesSorting||(t.MyStoriesSorting={}));var o;!function(e){e[e.Active=0]="Active",e[e.Recycled=1]="Recycled",e[e.Deleted=2]="Deleted"}(o=t.DeleteStoryState||(t.DeleteStoryState={}));var r=function(r){function s(o,a){var l=r.call(this,o)||this;l.args=a,l._combinedStoryTiles=TDB.statefulWatcherTag(596457694,l,l,l.getCombinedStoryTiles),l._numberOfStoriesToShowChanged=TDB.notifierTag(596457695,l),l.spinnerChanged=TDB.notifierTag(596457696,l),l._updatedSeeMoreLessButtonsVisibility=TDB.notifierTag(596457697,l),l._recycleBinStoriesCount=TDB.statefulWatcherTag(596457698,l,l,l.getRecycleBinStoriesCount),l.sortingType=TDB.watchableTag(596457699,l,n.MyStories),l.shouldEditedSpinnerBeVisible=TDB.watchableTag(596459520,l,!1),l.shouldViewedSpinnerBeVisible=TDB.watchableTag(596459521,l,!1),l.shouldDeletedSpinnerBeVisible=TDB.watchableTag(596459522,l,!1),l.shouldAnalyticsSpinnerBeVisible=TDB.watchableTag(596459523,l,!1),l._showLessPressed=!1,l.placeholderSizeInRows=2,l.initializeErrorFlags(),l._combinedStoryComparer=s.compareTilesOnDateForSorting,l._myStoriesList=new t.StoryList(s.compareTilesOnDateForSorting),l._myEditableStoriesList=new t.StoryList(s.compareTilesOnDateForSorting),l._myRecycleBinStoriesList=new t.StoryList(s.compareOnRecycledDate),l.storiesPresumedDeleted=[],l.viewedStoriesPresumedRemoved=[],l.isCombinedListMergedProperly=!0,l.sortCriteria=TDB.watchableTag(596459524,l,t.SortCriteria.Date),l.isNotificationDisplayed=i.Environment.getInstance().shouldShowAuthoringEntrypoints(),MyStoriesSettings.SiteViewedStoriesOnMySwaysPageV2Enabled&&(l._myViewedStoriesList=new t.StoryList(s.compareTilesOnDateForSorting)),l.analyticsStoriesList=new t.StoryList(s.compareTilesOnDateForSorting);var c=e.Utilities.query.has(e.Common.UrlHelper.URLParamPageSize)?Number(e.Utilities.query.fetch(e.Common.UrlHelper.URLParamPageSize)):void 0;return l._myStoriesFetcher=l.args.fetcherFactory.createPrefetchingMyStoriesFetcher({context:l,onSuccess:l.onMyStoriesSuccess,onError:l.onMyStoriesError,onEnded:l.onMyStoriesEnded,pageSize:c,sortCriteria:l.sortCriteria}),l._myEditableStoriesFetcher=l.args.fetcherFactory.createSharedStoriesFetcher({context:l,onSuccess:l.onMyEditableStoriesSuccess,onError:l.onMyEditableStoriesError,pageSize:c,sortCriteria:l.sortCriteria}),l.myStoriesAuthorAnalyticsFetcher=l.args.fetcherFactory.createAuthorAnalyticsFetcher({context:l,onSuccess:l.onAuthorAnalyticsSuccess,onError:l.onAuthorAnalyticsError,sortCriteria:l.sortCriteria,pageSize:c,analyticsUrl:i.UrlHelper.getInstance().myStoriesAnalyticsUrl(),viewCountUrl:i.UrlHelper.getInstance().myStoriesViewCountUrl()}),l.editableStoriesAuthorAnalyticsFetcher=l.args.fetcherFactory.createAuthorAnalyticsFetcher({context:l,onSuccess:l.onAuthorAnalyticsSuccess,onError:l.onAuthorAnalyticsError,sortCriteria:l.sortCriteria,pageSize:c,analyticsUrl:i.UrlHelper.getInstance().editableStoriesAnalyticsUrl(),viewCountUrl:i.UrlHelper.getInstance().editableStoriesViewCountUrl()}),MyStoriesSettings.SiteViewedStoriesOnMySwaysPageV2Enabled&&l.createViewedStoriesFetcher(),l._windowWidth=TDB.watcherTag(596459525,l,l,l.updateWidth),l.args.delayFetch||l.getNextStories(),l}return __extends(s,r),s.prototype.initializeErrorFlags=function(){this.errorFlagEditedStories=TDB.watchableTag(596459526,this,!1),this.errorFlagCoAuthoredStories=TDB.watchableTag(596459527,this,!1),this.errorFlagViewedStories=TDB.watchableTag(596459528,this,!1),this.errorFlagDeletedStories=TDB.watchableTag(596459529,this,!1),this.errorFlagAnalyticsStories=TDB.watchableTag(596456145,this,!1)},s.prototype.createViewedStoriesFetcher=function(){this._myViewedStoriesFetcher=this.args.fetcherFactory.createViewedStoriesFetcher({context:this,onSuccess:this.onMyViewedStoriesSuccess,onError:this.onMyViewedStoriesError,sortCriteria:this.sortCriteria})},s.prototype.setSelected=function(e,t){var n=this._combinedStoryTiles.getValue();TDB.applyUpdate(function(){n[e].setSelected(t)})},s.prototype.getMyStoriesList=function(){return this._myStoriesList},s.prototype.getRecycleBinStoriesList=function(){return this._myRecycleBinStoriesList},s.prototype.getMyEditableStoriesList=function(){return this._myEditableStoriesList},s.prototype.getMyViewedStoriesList=function(){return this._myViewedStoriesList},s.prototype.getAnalyticsStoriesList=function(){return this.analyticsStoriesList},s.prototype.getMyStoriesListFetcher=function(){return this._myStoriesFetcher},s.prototype.getMyEditableStoriesListFetcher=function(){return this._myEditableStoriesFetcher},s.prototype.getMyViewedStoriesListFetcher=function(){return this._myViewedStoriesFetcher},s.prototype.getMyStoriesAnalyticsFetcher=function(){return this.myStoriesAuthorAnalyticsFetcher},s.prototype.getEditableStoriesAnalyticsFetcher=function(){return this.editableStoriesAuthorAnalyticsFetcher},s.prototype.watchNumberOfStoriesToShow=function(e){e&&e.watch(this._numberOfStoriesToShowChanged)},s.prototype.watchSpinner=function(e){e&&e.watch(this.spinnerChanged)},s.prototype.getNumberOfStoriesExpectedToShow=function(e){switch(this.getSortingType(e)){case n.MyStories:return this.numberOfMyStoriesExpectedToShow;case n.ViewedStories:return this.numberOfViewedStoriesExpectedToShow;case n.RecycleBin:return this.numberOfRecycledStoriesExpectedToShow;case n.Analytics:return this.numberOfAnalyticsStoriesExpectedToShow;default:return 0}},s.prototype.getRemovedTileIndex=function(){return this.removedTileIndex},s.prototype.getRecycleBinStoriesCount=function(e,t){return e||(e=0),this._myStoriesFetcher.isLoading(t)?e:this._myRecycleBinStoriesList.getTiles(t).length},s.prototype.updateComparers=function(){var e=this.sortCriteria.getValue(),n=s.compareTilesOnDateForSorting,i=s.compareOnRecycledDate;switch(e){case t.SortCriteria.Date:n=s.compareTilesOnDateForSorting,i=s.compareOnRecycledDate;break;case t.SortCriteria.Title:n=s.compareTilesOnTitle,i=s.compareTilesOnTitle}this._myViewedStoriesList.setComparer(n),this._myStoriesList.setComparer(n),this._myEditableStoriesList.setComparer(n),this._myRecycleBinStoriesList.setComparer(i),this.analyticsStoriesList.setComparer(n),this._combinedStoryComparer=n},s.prototype.getCombinedStoryTiles=function(e,t){if(e||(e=[]),this.areAnyListsLoading(t))return e;t?t.watch(this._numberOfStoriesToShowChanged):StoryLog.TraceTag(596459530,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageListV2ViewModel: getCombinedStoryTiles(): Our watcher should be defined");var i=this.sortingType.getWatchedValue(t);if(i===n.RecycleBin)return this._showLessPressed=!1,this._myRecycleBinStoriesList.getTiles(t).slice(0,this.numberOfRecycledStoriesToShow);if(i===n.ViewedStories)return this._showLessPressed=!1,this._myViewedStoriesList.getTiles(t).slice(0,this.numberOfViewedStoriesToShow);if(i===n.Analytics){if(CommonSettings.AuthorAnalyticsShowOfflineUX)return[];this._showLessPressed=!1;var o=this.analyticsStoriesList.getTiles(t).slice(0,this.numberOfAnalyticsStoriesToShow),r=0===this.myStoriesAuthorAnalyticsFetcher.getNumberOfAnalyticsRowsReturned()&&0===this.editableStoriesAuthorAnalyticsFetcher.getNumberOfAnalyticsRowsReturned();return 0===o.length&&!this.shouldSpinnerBeVisible(t)&&r?[this.sampleAnalyticsTile()]:o}if(this._showLessPressed)return this._showLessPressed=!1,this._combinedStoryTiles.getValue().slice(0,this._currentNumberOfStoriesToShow);var a=s.createCombinedList(this._myStoriesList.getTiles(t),this._myStoriesFetcher,this._myEditableStoriesList.getTiles(t),this._myEditableStoriesFetcher,this.numberOfMyStoriesToShow,this._combinedStoryComparer);return a.length<this.numberOfMyStoriesToShow&&this._myStoriesList.getTiles(t).length+this._myEditableStoriesList.getTiles(t).length>=this.numberOfMyStoriesToShow&&(this.isCombinedListMergedProperly=!1,this.checkShouldWeLoadMore()),this.updateSeeMoreSeeLessVisibility(),a.slice(0,this.numberOfMyStoriesToShow)},s.prototype.sampleAnalyticsTile=function(){var e=new AnalyticsStoryTile;return e.title=Resources.AnalyticsSampleTitle,e.totalViews=80,e.averageTimeSpent=18e4,e.percentageRead=.75,e.glancedReads=3,e.quickReads=25,e.deepReads=52,e.lastModified="2017-08-02T15:42:49.9033570Z",e.thumbnail="https://sway.com/s/universe_cheatsheet/images/M30HePJAAJ4dlI?quality=480&isThumbnail=True",new t.AnalyticsStoryTileModel(e)},s.createCombinedList=function(e,t,n,i,o,r){for(var s=[],a=0,l=e.length,c=0,u=n.length,d=0;a<l&&c<u;){var h=e[a],p=n[c];if(r(h,p)?(s.push(h),a++):(s.push(p),c++),++d>=o)return s}return a===l&&(s=s.concat(n.slice(c))),c===u&&(s=s.concat(e.slice(a))),s},s.prototype.recycleBinEntryClicked=function(){this.checkShouldWeLoadMore()},s.prototype.viewedEntryClicked=function(){this.checkShouldWeLoadMore()},s.prototype.mySwaysEntryClicked=function(){this.checkShouldWeLoadMore()},s.prototype.analyticsEntryClicked=function(){this.checkShouldWeLoadMore()},s.prototype.shouldWeLoadMore=function(e,t){return t>e},s.prototype.createSortRelatedLogData=function(){return{storyTilesCount:this._combinedStoryTiles.getValue().length.toString(),sortType:this.sortingType.getValue().toString(),sortCriteria:this.sortCriteria.getValue().toString(),seeMoreButtonVisible:this.seeMoreButtonVisible?"true":"false",rowWidth:this.maximumTilesInARow().toString()}},s.prototype.getStoryTiles=function(e){return this._combinedStoryTiles.getWatchedValue(e)},s.prototype.logStoryTileClick=function(e){var t=this._combinedStoryTiles.getValue(),n=this.createSortRelatedLogData();n.lookupId=e.getLookupId();var i=e.getLookupId(),o=t.indexOf(t.firstOrDefault(function(e){return e.getLookupId()===i}));n.indexInList=o.toString(),StoryLog.StructuredTraceTag(596459531,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageListV2ViewModel: logStoryTileClick",n)},s.prototype.createMyStoryTile=function(e){if(this._myRecycleBinStoriesList.containsTile(e)){var n={callbackContext:this,viewModel:e,onDeleteButtonConfirmed:this.onDeleteButtonConfirmed,addStory:this.addToMyStories,duplicateStory:this.addToMyStories,sharingManager:this.args.sharingManager};return new TDB.ChildArgs(t.MyStoriesPageRecycleBinTileVE,n)}if(e instanceof t.ViewedStoryTileModel){var i={callbackContext:this,viewModel:e,addStory:this.addToViewedStories,duplicateStory:this.addToMyStories,onDeleteButtonConfirmed:this.onRemoveViewedTileConfirmed,sharingManager:this.args.sharingManager,onTileClick:this.logStoryTileClick};return new TDB.ChildArgs(t.MyStoriesPageViewedTileVE,i)}if(e instanceof t.AnalyticsStoryTileModel){var o={callbackContext:this,viewModel:e,addStory:this.addToAnalyticsStories,duplicateStory:this.addToMyStories,sharingManager:this.args.sharingManager};return new TDB.ChildArgs(t.MyStoriesPageAnalyticsTileVE,o)}var r={callbackContext:this,viewModel:e,onDeleteButtonConfirmed:this.onDeleteButtonConfirmed,addStory:this.addToMyStories,duplicateStory:this.addToMyStories,sharingManager:this.args.sharingManager,onTileClick:this.logStoryTileClick};return new TDB.ChildArgs(t.MyStoriesPageTileVE,r)},s.prototype.getNextStories=function(){if(!this.areAnyListsLoading())switch(this.sortingType.getValue()){case n.MyStories:var e=!1;e=this.getNextMyStories(),e=this.getNextSharedWithMeStories()||e,this.setShouldSpinnerBeVisible(e,n.MyStories);break;case n.RecycleBin:this.setShouldSpinnerBeVisible(this.getNextRecycledStories(),n.RecycleBin);break;case n.ViewedStories:this.setShouldSpinnerBeVisible(this.getNextViewedStories(this.numberOfViewedStoriesToFetch),n.ViewedStories);break;case n.Analytics:var t=!1;t=this.getNextMyAnalyticsStories(this.numberOfAnalyticsStoriesToShow),t=this.getNextEditableAnalyticsStories(this.numberOfAnalyticsStoriesToShow)||t,this.setShouldSpinnerBeVisible(t,n.Analytics);break;default:StoryLog.TraceTag(596459532,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"MyStoriesPageListV2ViewModel: getNextStories() : Unhandled sorting type")}},s.prototype.getNextMyStories=function(){return StoryLog.TraceTag(596459533,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageListV2ViewModel: getNextMyStories() : fetching next batch of my stories"),this._myStoriesFetcher.getNextMyStories()},s.prototype.getNextRecycledStories=function(){return StoryLog.TraceTag(596459534,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageListV2ViewModel: getNextRecycledStories() : fetching next batch of recycled stories"),this._myStoriesFetcher.getNextRecycledStories()},s.prototype.getNextSharedWithMeStories=function(){return StoryLog.TraceTag(596459535,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageListV2ViewModel: getNextSharedWithMeStories() : fetching next batch of stories where user is co-author"),this._myEditableStoriesFetcher.getNextStories()},s.prototype.getNextViewedStories=function(e){return StoryLog.TraceTag(596459536,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageListV2ViewModel: getNextViewedStories() : fetching next batch of viewed stories"),this._myViewedStoriesFetcher.getNextStories(e)},s.prototype.getNextMyAnalyticsStories=function(e){return StoryLog.TraceTag(596459537,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageListV2ViewModel: getNextMyAnalyticsStories() : fetching next batch of analytics for my stories"),this.myStoriesAuthorAnalyticsFetcher.getNextStories(e)},s.prototype.getNextEditableAnalyticsStories=function(e){return StoryLog.TraceTag(596456146,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageListV2ViewModel: getNextEditableAnalyticsStories() : fetching next batch of analytics for editable stories"),this.editableStoriesAuthorAnalyticsFetcher.getNextStories(e)},s.prototype.areAnyListsLoading=function(e){var t=this._myStoriesFetcher.isLoading(e)||this._myEditableStoriesFetcher.isLoading(e);return MyStoriesSettings.SiteViewedStoriesOnMySwaysPageV2Enabled?t||this._myViewedStoriesFetcher.isLoading(e):t},s.prototype.addToMyStories=function(e){this._myStoriesList.addTile(e)},s.prototype.addToViewedStories=function(e){this._myViewedStoriesList.addTile(e)},s.prototype.addToAnalyticsStories=function(e){this.analyticsStoriesList.addTile(e)},s.prototype.ensureTileIsAddedToMyStories=function(e){this._myStoriesList.removeTile(e.getLookupId()),this._myEditableStoriesList.removeTile(e.getLookupId()),this._myRecycleBinStoriesList.removeTile(e.getLookupId()),this.addToMyStories(e)},s.prototype.moveTileToRecycleBin=function(e,t,n){var i=this._myStoriesList.getAndRemoveTile(e);null!=i&&(i.setMoveToRecycleBinTime(t,n),this._myRecycleBinStoriesList.addTile(i),this.updateNumberOfStoriesToShow(),this.checkShouldWeLoadMore())},s.prototype.moveTileToMySways=function(e){var t=this._myRecycleBinStoriesList.getAndRemoveTile(e);null!=t&&this._myStoriesList.addTile(t)},s.prototype.removeTileFromRecycleBin=function(e){this._myRecycleBinStoriesList.getAndRemoveTile(e)},s.prototype.getSelectedStoriesInfos=function(){return this.getSelectedTiles(null).map(function(e){return{lookupId:e.getLookupId(),storyTitle:e.getTitleForDisplay()}})},s.prototype.getFirstSelectedTileTitle=function(){var e=this.getSelectedTiles(null);return e.length>=1?e[0].getTitle():""},s.prototype.removeDeletedStories=function(e){for(var t=0,n=0,i=this.storiesPresumedDeleted.length;n<i;n++)ArrayExtensions.contains(e,this.storiesPresumedDeleted[n].getLookupId())||(this.storiesPresumedDeleted[t]=this.storiesPresumedDeleted[n],t++);this.storiesPresumedDeleted.splice(t)},s.prototype.restoreSuccessConfirmed=function(e){this.blockStories(e,!1)},s.prototype.restoreError=function(e,t){this.blockStories(e,!1);for(var n=0,i=t.length;n<i;n++)this.moveTile(t[n],o.Active,o.Recycled);this.blockStories(t,!1)},s.prototype.getAllRecycleBinStoriesInfos=function(e){for(var t=this._myRecycleBinStoriesList.getTiles(null),n=[],i=0,o=t.length;i<o;i++)!e&&t[i].isBlocked()||n.push({lookupId:t[i].getLookupId(),storyTitle:t[i].getTitle()});return n},s.prototype.restoreSuccessAssumed=function(e){this.blockStories(e,!0);for(var t=0,n=e.length;t<n;t++)this.moveTile(e[t],o.Recycled,o.Active);this.updateNumberOfStoriesToShow(),this.updateView()},s.prototype.updateNumberOfStoriesToShow=function(){switch(this.sortingType.getValue()){case n.MyStories:this._myStoriesList.getTiles().length+this._myEditableStoriesList.getTiles().length===this._currentNumberOfStoriesToShow&&(this.numberOfMyStoriesToShow=this._currentNumberOfStoriesToShow);break;case n.RecycleBin:this._recycleBinStoriesCount.getValue()===this._currentNumberOfStoriesToShow&&(this.numberOfRecycledStoriesToShow=this._currentNumberOfStoriesToShow);break;case n.ViewedStories:this._myViewedStoriesList.getTiles().length===this._currentNumberOfStoriesToShow&&(this.numberOfViewedStoriesToShow=this._currentNumberOfStoriesToShow);break;case n.Analytics:this.analyticsStoriesList.getTiles().length===this._currentNumberOfStoriesToShow&&(this.numberOfAnalyticsStoriesToShow=this._currentNumberOfStoriesToShow);break;default:return void StoryLog.TraceTag(596459538,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"MyStoriesPageListV2ViewModel: updateNumberOfStoriesToShow : Unhandled sorting type")}this.updateSeeMoreSeeLessVisibility()},s.prototype.updateSeeMoreSeeLessVisibility=function(){var e=this;TDB.applyUpdate(function(){e._updatedSeeMoreLessButtonsVisibility.notify()},TDB.Justification.SynchronousBrowserEvent)},s.prototype.deleteStoriesSuccessConfirmed=function(e){this.removeDeletedStories(e)},s.prototype.deleteStoriesError=function(e,t){this.removeDeletedStories(e);for(var n=0,i=t.length;n<i;n++)this.moveTile(t[n],o.Deleted,o.Recycled)},s.prototype.restoreAllSuccessAssumed=function(e){this.restoreSuccessAssumed(e)},s.prototype.deleteStoriesSuccessAssumed=function(e){for(var t=0,n=e.length;t<n;t++)this.moveTile(e[t],o.Recycled,o.Deleted);this.updateNumberOfStoriesToShow(),this.updateView()},s.prototype.deleteAllStoriesSuccessAssumed=function(e){this.deleteStoriesSuccessAssumed(e)},s.prototype.updateView=function(){var e=this;0===this.getAllRecycleBinStoriesInfos(!0).length&&TDB.applyUpdate(function(){e.setSortingType(n.MyStories),e.checkShouldWeLoadMore(),e.args.parent?e.args.parent.enter():StoryLog.TraceTag(596459539,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageListV2ViewModel: updateView(): Our parent should be defined")})},s.prototype.setSortingType=function(e){var t=this;TDB.applyUpdate(function(){t.sortingType.getValue()===n.RecycleBin&&e!==n.RecycleBin&&t.clearSelection(),t.sortingType.setValue(e)})},s.prototype.clearSelection=function(){var e=this;TDB.applyUpdate(function(){e._combinedStoryTiles.getValue().forEach(function(e){e.isSelected()&&e.setSelected(!1)})})},s.prototype.removeMeFromAuthorsAndNotifyOnComplete=function(e,t){var n=this;new RemoveEditorDialog(e.getLookupId(),"").show().done(function(e){n.onRemoveEditorSuccess(e.lookupId),null!=t&&t("RemovedAuthorSuccessfully")}).fail(function(e){null!=t&&t("FailedRemovingFromAuthors")})},s.prototype.moveSwayFromEditedView=function(e,t){var n=this._combinedStoryTiles.getValue();n[e].getIsOwned()?this.deleteStoryAndNotifyOnComplete(n[e],t):this.removeMeFromAuthorsAndNotifyOnComplete(n[e],t)},s.prototype.deleteStoryAndNotifyOnComplete=function(n,i){var o={service:new Delete.DeleteServerInterface,dialogManager:e.View.Common.DialogManager.getInstance(),lookupId:n.getLookupId(),storyTitle:n.getTitle(),callbackContext:this,onDeleteSuccessAssumed:this.onDeleteSuccessAssumed,successCallback:this.onDeleteSuccessConfirmed,errorCallback:this.onDeleteError,onOperationComplete:i};new t.MoveToRecycleBinDialog(o).start()},s.prototype.onDeleteSuccessConfirmed=function(e,t,n){this.blockStories([e],!1),this.setTileDeleteTime(e,t,n)},s.prototype.onDeleteButtonConfirmed=function(e){e.getIsOwned()?(this.removedTileIndex=this._combinedStoryTiles.getValue().indexOf(e),this.deleteStoryAndNotifyOnComplete(e,null)):this.removeMeFromAuthorsAndNotifyOnComplete(e,null)},s.prototype.onRemoveViewedTileConfirmed=function(e){this.removedTileIndex=this._combinedStoryTiles.getValue().indexOf(e),this.makeRemoveViewedStoryDialog(e).start()},s.prototype.makeRemoveViewedStoryDialog=function(t){var n={service:new RemoveViewedStories.RemoveViewedSwayServerInterface,dialogManager:e.View.Common.DialogManager.getInstance(),storyTile:t,context:this,onRemoveViewedSuccessAssumed:this.onRemoveViewedSuccessAssumed,onRemoveViewedSuccessConfirmed:this.onRemoveViewedStorySuccess,onRemoveViewedErrorConfirmed:this.onRemoveViewedStoryError};return new e.View.ViewElements.RemoveViewedSwayDialog(n)},s.prototype.onRemoveViewedSuccessAssumed=function(e){this.viewedStoriesPresumedRemoved.push(e),this._myViewedStoriesList.removeTile(e.getLookupId())},s.prototype.onRemoveViewedStorySuccess=function(e){this.viewedStoriesPresumedRemoved.removefirst(e)},s.prototype.onRemoveViewedStoryError=function(e){this.viewedStoriesPresumedRemoved.removefirst(e),this._myViewedStoriesList.addTile(e)},s.prototype.onRemoveEditorSuccess=function(e){this._myStoriesList.removeTile(e),this._myEditableStoriesList.removeTile(e)},s.prototype.onDeleteSuccessAssumed=function(e){this.blockStories([e],!0),this.setTileDeleteTime(e,"",""),this.moveTile(e,o.Active,o.Recycled),this.checkShouldWeLoadMore()},s.prototype.blockStories=function(e,t){for(var n=0,i=function(t){return t.getLookupId()==e[n]},o=e.length;n<o;n++){var r=this._myStoriesList.getTiles().firstOrDefault(i);r||(r=this._myRecycleBinStoriesList.getTiles().firstOrDefault(i)),r||(r=this._myEditableStoriesList.getTiles().firstOrDefault(i)),r&&r.setBlocked(t)}},s.prototype.onDeleteError=function(e){this.moveTile(e,o.Recycled,o.Active),this.blockStories([e],!1)},s.prototype.showContactMeIfApplicable=function(n){var i=n.length;if(e.Utilities.query.has(e.Common.UrlHelper.URLParamContactMeInfluential)||MyStoriesSettings.ContactMeInfluentialUser)new t.ContactMeDialog(t.NotificationBarViewModel.getNotificationBar(this.args.parent),t.ContactMeTriggerType.influential,i).showNotification();else{var o=MyStoriesSettings.ContactMeMinimumStories;if(e.Utilities.query.has(e.Common.UrlHelper.URLParamContactMe)||o&&i>=o)new t.ContactMeDialog(t.NotificationBarViewModel.getNotificationBar(this.args.parent),t.ContactMeTriggerType.enthusiast,i).showNotification();else{var r=MyStoriesSettings.ContactMeNetNewUser;if(e.Utilities.query.has(e.Common.UrlHelper.URLParamContactMeNetNew)||r)for(var s=0,a=n;s<a.length;s++){var l=a[s];if(l.getTitle()&&l.getThumbnail())return void new t.ContactMeDialog(t.NotificationBarViewModel.getNotificationBar(this.args.parent),t.ContactMeTriggerType.netNew,i).showNotification()}}}},s.prototype.onMyStoriesSuccess=function(e){var t=this.addTilesReturnedFromMyStoriesRequest(e);this.sendMyStoriesAnalyticsRequest(t),e.myStories?this._myEditableStoriesFetcher.isLoading()||this.setShouldSpinnerBeVisible(!1,n.MyStories):this.setShouldSpinnerBeVisible(!1,n.RecycleBin),this.checkShouldWeLoadMore()},s.prototype.onMyStoriesEnded=function(){this.areAnyListsLoading()||(this.setShouldSpinnerBeVisible(!1,n.MyStories),this.setShouldSpinnerBeVisible(!1,n.RecycleBin))},s.prototype.addTilesReturnedFromMyStoriesRequest=function(e){var n=[];if(e.myStories){this.args.parent.showMySwaysSection();var i=t.StoryTileModel.createStoryTileModels(e.myStories);n=n.concat(i),this._myStoriesList.addTiles(i),s.logSuccessfullResponse("My Stories",i.length,this.getMyStoriesListFetcher().canFetchMore()),this.showContactMeIfApplicable(i)}if(e.recycledStories){var o=t.StoryTileModel.createStoryTileModels(e.recycledStories);n=n.concat(o),this._myRecycleBinStoriesList.addTiles(o),s.logSuccessfullResponse("Recycled Stories",o.length,this.getMyStoriesListFetcher().canFetchMoreRecycled())}return n},s.prototype.sendMyStoriesAnalyticsRequest=function(e){var t=this;e&&0!==e.length&&MyStoriesSettings.ViewCountEnabled&&this.myStoriesAuthorAnalyticsFetcher.getViewCounts(function(n){return t.onOdaViewCountSuccess(e,n)},this.onOdaViewCountError)},s.prototype.onOdaViewCountSuccess=function(e,t){t.viewCounts.forEach(function(t){var n=e.firstOrDefault(function(e){return e.getLookupId()===t.lookupId});n&&n.setViewCount(t.viewCount)})},s.prototype.onOdaViewCountError=function(e){StoryLog.TraceTag(596459540,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"MyStoriesPageListV2ViewModel: onOdaViewCountError() :"+e)},s.prototype.onMyStoriesAnalyticsError=function(e,t,n){StoryLog.TraceTag(596459541,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"MyStoriesPageListV2ViewModel: onMyStoriesAnalyticsError() :"+JSON.stringify(e))},s.compareTilesOnDateForSorting=function(e,t){return new Date(e.getDateForSorting())>new Date(t.getDateForSorting())},s.compareTilesOnTitle=function(e,t){var n=e&&e.getTitle()?e.getTitle().trim():Resources.UntitledStoryTitle,i=t&&t.getTitle()?t.getTitle().trim():Resources.UntitledStoryTitle;return n===i?s.compareTilesOnDateForSorting(e,t):n.localeCompare(i,CommonSettings.UserLocaleString)<0},s.compareOnRecycledDate=function(e,t){return null!=t.getMovedToRecycleBinTime()&&(null==e.getMovedToRecycleBinTime()||e.getMovedToRecycleBinTime()>t.getMovedToRecycleBinTime())},s.prototype.onMyStoriesError=function(e,t){var i=this;this._myEditableStoriesFetcher.isLoading()||this.setShouldSpinnerBeVisible(!1,n.MyStories),TDB.applyUpdate(function(){i.errorFlagEditedStories.setValue(!0),i.errorFlagDeletedStories.setValue(!0)}),this.args.parent.showMySwaysSection(),this.setShouldSpinnerBeVisible(!1,n.RecycleBin),StoryLog.TraceTag(596459542,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"MyStoriesPageListV2ViewModel: onMyStoriesError() :"+e+" jqXHR: "+JSON.stringify(t))},s.prototype.onMyEditableStoriesSuccess=function(e){if(e){var t=this.addTilesReturnedFromEditableStoriesRequest(e);this.sendEditableStoriesAnalyticsRequest(t)}this._myStoriesFetcher.isLoading()||this.setShouldSpinnerBeVisible(!1,n.MyStories),this.checkShouldWeLoadMore()},s.prototype.onMyEditableStoriesError=function(e,t){var i=this;this._myStoriesFetcher.isLoading()||(this.setShouldSpinnerBeVisible(!1,n.MyStories),this.args.parent.showMySwaysSection()),TDB.applyUpdate(function(){i.errorFlagCoAuthoredStories.setValue(!0)}),StoryLog.TraceTag(596459543,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"MyStoriesPageListV2ViewModel: onMyEditableStoriesError() :"+e+" jqXHR: "+JSON.stringify(t))},s.prototype.onAuthorAnalyticsSuccess=function(e){if(e){var i=t.AnalyticsStoryTileModel.createStoryTileModels(e);this.analyticsStoriesList.addTiles(i);var o={};o.NumberOfTilesRecieved=i.length.toString(),StoryLog.StructuredTraceTag(596456133,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"Analytics successfully loaded",o)}this.myStoriesAuthorAnalyticsFetcher.isLoading()||this.editableStoriesAuthorAnalyticsFetcher.isLoading()||this.setShouldSpinnerBeVisible(!1,n.Analytics),this.checkShouldWeLoadMore()},s.prototype.onAuthorAnalyticsError=function(e,t){var i=this;this.myStoriesAuthorAnalyticsFetcher.isLoading()||this.editableStoriesAuthorAnalyticsFetcher.isLoading()||(this.setShouldSpinnerBeVisible(!1,n.Analytics),TDB.applyUpdate(function(){i.errorFlagAnalyticsStories.setValue(!0)})),StoryLog.TraceTag(596459544,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"MyStoriesPageListV2ViewModel: onAuthorAnalyticsError() :"+e+" jqXHR: "+JSON.stringify(t))},s.prototype.addTilesReturnedFromEditableStoriesRequest=function(e){e&&e.length>0&&this.args.parent.showMySwaysSection();var n=t.StoryTileModel.createStoryTileModels(e);return this._myEditableStoriesList.addTiles(n),s.logSuccessfullResponse("Co-authored Stories",n.length,this.getMyEditableStoriesListFetcher().canFetchMore()),n},s.prototype.sendEditableStoriesAnalyticsRequest=function(e){var t=this;e&&0!==e.length&&MyStoriesSettings.ViewCountEnabled&&this.editableStoriesAuthorAnalyticsFetcher.getViewCounts(function(n){return t.onOdaViewCountSuccess(e,n)},this.onOdaViewCountError)},s.prototype.onEditableStoriesAnalyticsError=function(e,t,n){StoryLog.TraceTag(596459545,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"MyStoriesPageListV2ViewModel: onEditableStoriesAnalyticsError() :"+JSON.stringify(e))},s.prototype.onMyViewedStoriesSuccess=function(e){if(e){this.numberOfRowsLoaded=s.numberOfRowsLoaded(e.length,this._currentNumberOfStoriesToShow/2);var i=t.ViewedStoryTileModel.createStoryTileModels(e);this._myViewedStoriesList.addTiles(i),s.logSuccessfullResponse("Viewed Stories",i.length,this.getMyViewedStoriesListFetcher().canFetchMore())}this.setShouldSpinnerBeVisible(!1,n.ViewedStories),this.checkShouldWeLoadMore()},s.numberOfRowsLoaded=function(e,t){return 0===e?0:e<=t?1:e<=2*t?2:e<=3*t?3:4},s.prototype.onMyViewedStoriesError=function(e,t){var i=this;this.setShouldSpinnerBeVisible(!1,n.ViewedStories),TDB.applyUpdate(function(){i.errorFlagViewedStories.setValue(!0)}),StoryLog.TraceTag(596459546,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"MyStoriesPageListV2ViewModel: onMyViewedStoriesError() :"+e+" jqXHR: "+JSON.stringify(t))},s.logSuccessfullResponse=function(e,t,n){var i={};i.SuccessfullyLoadedList=e,i.NumberOfTilesRecieved=t.toString(),i.CanFetchMore=n?"T":"F",StoryLog.StructuredTraceTag(596459547,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"Stories successfully loaded",i)},s.prototype.checkShouldWeLoadMore=function(){switch(this.sortingType.getValue()){case n.MyStories:!this.shouldWeFetchMoreOwnedAndCoauthoredStories()&&this.isCombinedListMergedProperly||(this.isCombinedListMergedProperly=!0,this.getNextStories());break;case n.RecycleBin:this.shouldWeLoadMore(this._myRecycleBinStoriesList.getTiles().length,this.numberOfRecycledStoriesToShow)&&this.getNextStories();break;case n.ViewedStories:this.shouldWeLoadMore(this._myViewedStoriesList.getTiles().length,this.numberOfViewedStoriesToShow)&&this.getNextStories();break;case n.Analytics:this.shouldWeLoadMore(this.analyticsStoriesList.getTiles().length,this.numberOfAnalyticsStoriesToShow)&&this.getNextStories();break;default:return void StoryLog.TraceTag(596459548,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"MyStoriesPageListV2ViewModel: checkShouldWeLoadMore : Unhandled sorting type")}this.checkAndShowMobileNotification(),this.notifyNumberOfStoriesChanged()},s.prototype.shouldWeFetchMoreOwnedAndCoauthoredStories=function(){return this._myStoriesList.getTiles().length<this.numberOfMyStoriesToShow&&this._myStoriesFetcher.canFetchMore()||this._myEditableStoriesList.getTiles().length<this.numberOfMyStoriesToShow&&this._myEditableStoriesFetcher.canFetchMore()},s.prototype.checkAndShowMobileNotification=function(){if(this.shouldShowMobileNotification()){this.isNotificationDisplayed=!0;var e=Resources.NewAuthorMobileNotificationBarText,n=this.args.notificationBar;n||(n=t.NotificationBarViewModel.getNotificationBar(this.args.parent)),n&&n.getNotification()&&n.getNotification().isVisible()||n.addNotification({messages:[{text:e}],notificationSource:t.NotificationSource.MyStoriesPageMobileNotification,notificationType:t.NotificationType.Info})}},s.prototype.shouldShowMobileNotification=function(){return!(this.isNotificationDisplayed||this.getMyStoriesList().getTiles().length>0||this.getMyEditableStoriesList().getTiles().length>0||this.areAnyListsLoading()||i.Environment.getInstance().shouldShowAuthoringEntrypoints())},s.prototype.isRecycleBinView=function(e){return this.sortingType.getWatchedValue(e)===n.RecycleBin},s.prototype.getSortingType=function(e){return this.sortingType.getWatchedValue(e)},s.prototype.getSortingTypeWatchable=function(){return this.sortingType},s.prototype.hasInitialSetLoaded=function(e){return this._combinedStoryTiles.getWatchedValue(e).length>0||this.hasSetLoaded(e)},s.prototype.hasSetLoaded=function(e){return!this._myStoriesFetcher.isLoading(e)&&!this._myEditableStoriesFetcher.isLoading(e)},s.prototype.hasMySways=function(e){return this._myStoriesList.getTiles(e).length>0},s.prototype.hasEditableSways=function(e){return this._myEditableStoriesList.getTiles(e).length>0},s.prototype.hasRecycledSways=function(e){return this._myRecycleBinStoriesList.getTiles(e).length>0},s.prototype.hasViewedSways=function(e){return this._myViewedStoriesList.getTiles(e).length>0},s.prototype.hasAnalyticsSways=function(e){return this.analyticsStoriesList.getTiles(e).length>0},s.prototype.hasSway=function(e){return this._combinedStoryTiles.getValue().some(function(t){return t.getLookupId()===e})},s.prototype.getSelectedTiles=function(e){return this._combinedStoryTiles.getWatchedValue(e).filter(function(t){return t.isSelected(e)})},s.prototype.countSelectedSways=function(e){var t=0;return this._combinedStoryTiles.getWatchedValue(e).forEach(function(n){n.isSelected(e)&&t++}),t},s.prototype.countSwaysInRecycleBin=function(e){return this._recycleBinStoriesCount.getWatchedValue(e)},s.prototype.countMySways=function(e){return this._myStoriesList.getTiles(e).length},s.prototype.countEditableSways=function(e){return this._myEditableStoriesList.getTiles(e).length},s.prototype.countViewedSways=function(e){return this._myViewedStoriesList.getTiles(e).length},s.prototype.countAnalyticsSways=function(e){return this.analyticsStoriesList.getTiles(e).length},s.prototype.countActiveTabSways=function(e){var t=0;switch(this.getSortingType(e)){case n.MyStories:t=this.countMySways(e)+this.countEditableSways(e);break;case n.RecycleBin:t=this.countSwaysInRecycleBin(e);break;case n.ViewedStories:t=this.countViewedSways(e);break;case n.Analytics:t=this.countAnalyticsSways(e);break;default:TDB.raiseRecoverableError("MyStoriesPageListV2VE: isCurrentListEmptyMessageArgs : Unhandled sorting type",TDB.LogLevel.error)}return t},s.prototype.updateWidth=function(e){var t=this.args.windowWidthWatcher.getWatchedValue(e);return this.shouldWeInitializeNumbersAgain?this.initializeNumbersAgain(t):(this._currentNumberOfStoriesToShow=this.initialNumberOfStoriesToShow(t),this.numberOfViewedStoriesToFetch=this.initialNumberOfStoriesToShow(t)),this.checkShouldWeLoadMore(),t},s.prototype.maximumTilesInARow=function(e){var t=this.args.windowWidthWatcher.getWatchedValue(e);return t>s.storiesNumberTreshold_12?6:t>s.storiesNumberTreshold_10?5:t>s.storiesNumberTreshold_8?4:t>s.storiesNumberTreshold_6?3:t>s.storiesNumberTreshold_4?2:1},s.prototype.shouldWeInitializeNumbersAgain=function(){var e=0===this._combinedStoryTiles.getValue().length||this.numberOfMyStoriesToShow===s.showNumberOfTiles_0||this.numberOfRecycledStoriesToShow===s.showNumberOfTiles_0;return MyStoriesSettings.SiteViewedStoriesOnMySwaysPageV2Enabled?this.numberOfViewedStoriesToShow===s.showNumberOfTiles_0||e:this.numberOfAnalyticsStoriesToShow===s.showNumberOfTiles_0||e},s.prototype.initializeNumbersAgain=function(e){var t=this.initialNumberOfStoriesToShow(e);this.notifyNumberOfStoriesChanged(),this.initializeAllNumberOfStoriesToLoad(t),this.initializeOurStoryMultipliers(),this.numberOfRowsLoaded=1,this.numberOfViewedStoriesToFetch=this._currentNumberOfStoriesToShow},s.prototype.notifyNumberOfStoriesChanged=function(){var e=this;TDB.applyUpdate(function(){e._numberOfStoriesToShowChanged.notify()},TDB.Justification.SynchronousBrowserEvent)},s.prototype.initializeAllNumberOfStoriesToLoad=function(e){this._currentNumberOfStoriesToShow=e,this.numberOfMyStoriesToShow=e,this.numberOfRecycledStoriesToShow=e,this.numberOfMyStoriesExpectedToShow=e,this.numberOfRecycledStoriesExpectedToShow=e,MyStoriesSettings.SiteViewedStoriesOnMySwaysPageV2Enabled&&(this.numberOfViewedStoriesToShow=e,this.numberOfViewedStoriesToFetch=e,this.numberOfViewedStoriesExpectedToShow=e),this.numberOfAnalyticsStoriesToShow=e,this.numberOfAnalyticsStoriesExpectedToShow=e},s.prototype.initializeOurStoryMultipliers=function(){this.myStoriesMultiplier=1,this.recycleBinStoriesMultiplier=1,MyStoriesSettings.SiteViewedStoriesOnMySwaysPageV2Enabled&&(this.viewedStoriesMultiplier=1),this.analyticsStoriesMultiplier=1},s.prototype.initialNumberOfStoriesToShow=function(e){s.showNumberOfTiles_0;return 0==e?s.showNumberOfTiles_0:e>s.storiesNumberTreshold_12?s.showNumberOfTiles_12:e>s.storiesNumberTreshold_10?s.showNumberOfTiles_10:e>s.storiesNumberTreshold_8?s.showNumberOfTiles_8:e>s.storiesNumberTreshold_6?s.showNumberOfTiles_6:e>s.storiesNumberTreshold_4?s.showNumberOfTiles_4:s.showNumberOfTiles_2},s.prototype.increaseNumberOfStoriesToShow=function(){switch(this.sortingType.getValue()){case n.MyStories:this.numberOfMyStoriesToShow=this.numberOfMyStoriesToShow+this._currentNumberOfStoriesToShow*this.myStoriesMultiplier,this.myStoriesMultiplier=2;break;case n.RecycleBin:this.numberOfRecycledStoriesToShow=this.numberOfRecycledStoriesToShow+this._currentNumberOfStoriesToShow*this.recycleBinStoriesMultiplier,this.recycleBinStoriesMultiplier=2;break;case n.ViewedStories:this.numberOfViewedStoriesToShow=this.numberOfViewedStoriesToShow+this._currentNumberOfStoriesToShow*this.viewedStoriesMultiplier,this.numberOfViewedStoriesToFetch=this._currentNumberOfStoriesToShow*this.viewedStoriesMultiplier,this.placeholderSizeInRows=2*this.viewedStoriesMultiplier,this.viewedStoriesMultiplier=2;break;case n.Analytics:this.numberOfAnalyticsStoriesToShow=this.numberOfAnalyticsStoriesToShow+this._currentNumberOfStoriesToShow*this.analyticsStoriesMultiplier,this.analyticsStoriesMultiplier=2;break;default:StoryLog.TraceTag(596459549,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"MyStoriesPageListV2ViewModel: increaseNumberOfStoriesToShow : Unhandled sorting type")}this._showLessPressed=!1,this.checkShouldWeLoadMore()},s.prototype.decreaseNumberOfStoriesToShow=function(){switch(this._showLessPressed=!0,this.sortingType.getValue()){case n.MyStories:this.numberOfMyStoriesToShow=this._currentNumberOfStoriesToShow,this.myStoriesMultiplier=1;break;case n.RecycleBin:this.numberOfRecycledStoriesToShow=this._currentNumberOfStoriesToShow,this.recycleBinStoriesMultiplier=1;break;case n.ViewedStories:this.numberOfViewedStoriesToShow=this._currentNumberOfStoriesToShow,this.viewedStoriesMultiplier=1;break;case n.Analytics:this.numberOfAnalyticsStoriesToShow=this._currentNumberOfStoriesToShow,this.analyticsStoriesMultiplier=1;break;default:StoryLog.TraceTag(596459550,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"MyStoriesPageListV2ViewModel: decreaseNumberOfStoriesToShow : Unhandled sorting type")}this.notifyNumberOfStoriesChanged()},s.prototype.displaySeeMoreButton=function(e){var t=this.hasMySways(e)||this.hasEditableSways(e)||this.hasRecycledSways(e);if(MyStoriesSettings.SiteViewedStoriesOnMySwaysPageV2Enabled&&(t=t||this.hasViewedSways(e)),t=t||this.hasAnalyticsSways(e),e?(e.watch(this._numberOfStoriesToShowChanged),e.watch(this._updatedSeeMoreLessButtonsVisibility)):StoryLog.TraceTag(596459551,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageListV2ViewModel: displaySeeMoreButton(): Our watcher should be defined"),!t)return this.seeMoreButtonVisible=!1,t;var i=!1;this._windowWidth.getWatchedValue(e),this.countMySways(e),this.countEditableSways(e),this.countSwaysInRecycleBin(e),this.countAnalyticsSways(e);switch(MyStoriesSettings.SiteViewedStoriesOnMySwaysPageV2Enabled&&this.countViewedSways(e),this.sortingType.getWatchedValue(e)){case n.MyStories:i=this._myStoriesList.getTiles(e).length+this._myEditableStoriesList.getTiles(e).length>this.numberOfMyStoriesToShow||this._myStoriesFetcher.canFetchMore()||this._myEditableStoriesFetcher.canFetchMore();break;case n.RecycleBin:i=this.hasRecycledSways(e)&&(this._myRecycleBinStoriesList.getTiles(e).length>this.numberOfRecycledStoriesToShow||this._myStoriesFetcher.canFetchMoreRecycled());break;case n.ViewedStories:i=this.hasViewedSways(e)&&(this._myViewedStoriesList.getTiles(e).length>this.numberOfViewedStoriesToShow||this._myViewedStoriesFetcher.canFetchMore());break;case n.Analytics:i=this.hasAnalyticsSways(e)&&(this.analyticsStoriesList.getTiles(e).length>this.numberOfAnalyticsStoriesToShow||this.myStoriesAuthorAnalyticsFetcher.canFetchMore()||this.editableStoriesAuthorAnalyticsFetcher.canFetchMore());break;default:StoryLog.TraceTag(596459552,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"MyStoriesPageListV2ViewModel: displaySeeMoreButtonArgs : Unhandled sorting type")}return this.seeMoreButtonVisible=i,i},s.prototype.displaySeeLessButton=function(e){this.countMySways(e),this.countEditableSways(e),this.countSwaysInRecycleBin(e),this.countAnalyticsSways(e);MyStoriesSettings.SiteViewedStoriesOnMySwaysPageV2Enabled&&this.countViewedSways(e),this.sortingType.getWatchedValue(e),e?(e.watch(this._numberOfStoriesToShowChanged),e.watch(this._updatedSeeMoreLessButtonsVisibility)):StoryLog.TraceTag(596459553,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.info,"MyStoriesPageListV2ViewModel: displaySeeLessButton(): Our watcher should be defined");var t=!1,i=!1,o=!1,r=!1;switch(this.sortingType.getWatchedValue(e)){case n.MyStories:t=this.numberOfMyStoriesToShow>=this._myStoriesList.getTiles(e).length+this._myEditableStoriesList.getTiles(e).length,o=this.numberOfMyStoriesToShow>this._currentNumberOfStoriesToShow,i=this._myEditableStoriesFetcher.canFetchMore()||this._myStoriesFetcher.canFetchMore(),r=this._myStoriesList.getTiles(e).length+this._myEditableStoriesList.getTiles(e).length<=this._currentNumberOfStoriesToShow;break;case n.RecycleBin:t=this.numberOfRecycledStoriesToShow>=this._myRecycleBinStoriesList.getTiles(e).length,o=this.numberOfRecycledStoriesToShow>this._currentNumberOfStoriesToShow,i=this._myStoriesFetcher.canFetchMoreRecycled(),r=this._myRecycleBinStoriesList.getTiles(e).length<=this._currentNumberOfStoriesToShow;break;case n.ViewedStories:t=this.numberOfViewedStoriesToShow>=this._myViewedStoriesList.getTiles(e).length,o=this.numberOfViewedStoriesToShow>this._currentNumberOfStoriesToShow,i=this._myViewedStoriesFetcher.canFetchMore(),r=this._myViewedStoriesList.getTiles(e).length<=this._currentNumberOfStoriesToShow;break;case n.Analytics:t=this.numberOfAnalyticsStoriesToShow>=this.analyticsStoriesList.getTiles(e).length,o=this.numberOfAnalyticsStoriesToShow>this._currentNumberOfStoriesToShow,i=this.myStoriesAuthorAnalyticsFetcher.canFetchMore()||this.editableStoriesAuthorAnalyticsFetcher.canFetchMore(),r=this.analyticsStoriesList.getTiles(e).length<=this._currentNumberOfStoriesToShow;break;default:return StoryLog.TraceTag(596459554,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"MyStoriesPageListV2ViewModel: displaySeeLessButtonArgs : Unhandled sorting type"),!1}return t&&o&&!i&&!r},s.prototype.emptyListMessageTextArgs=function(e){Resources.EmptyRecycleBinMessage;switch(this.sortingType.getWatchedValue(e)){case n.MyStories:return Resources.EmptyEditedTabMessage;case n.RecycleBin:return Resources.EmptyRecycleBinMessage;case n.ViewedStories:return Resources.EmptyViewedTabMessage;case n.Analytics:return CommonSettings.AuthorAnalyticsShowOfflineUX?Resources.AnalyticsOfflineWarning:Resources.AnalyticsEmptyList;default:return TDB.raiseRecoverableError("MyStoriesPageListV2ViewModel: emptyListMessageTextArgs : Unhandled sorting type",TDB.LogLevel.error),""}},s.getMessageForStoriesList=function(e,t){return e?Resources.StoriesFetchingErrorMessage:t},s.prototype.isCurrentListEmptyMessageArgs=function(e){return!this.didCurrentTabFailFetching(e)&&this.isCurrentListEmpty(e)},s.prototype.isCurrentListEmpty=function(e){switch(this.watchSpinner(),this.getSortingType(e)){case n.MyStories:if(this.getMyStoriesListFetcher().isLoading(e)||this.getMyEditableStoriesListFetcher().isLoading(e))return!1;break;case n.RecycleBin:if(this.getMyStoriesListFetcher().isLoading(e))return!1;break;case n.ViewedStories:if(this.getMyViewedStoriesListFetcher().isLoading(e))return!1;break;case n.Analytics:if(CommonSettings.AuthorAnalyticsShowOfflineUX)return!0;if(this.getMyStoriesAnalyticsFetcher().isLoading(e)||this.getEditableStoriesAnalyticsFetcher().isLoading(e))return!1}var t,i=this.countSwaysInRecycleBin(e),o=this.shouldSpinnerBeVisible(e),r=!1,s=this.countMySways(e)+this.countEditableSways(e);switch(MyStoriesSettings.SiteViewedStoriesOnMySwaysPageV2Enabled&&(t=this.countViewedSways(e)),this.getSortingType(e)){case n.MyStories:r=0===s&&!this.getMyStoriesListFetcher().canFetchMore()&&!this.getMyEditableStoriesListFetcher().canFetchMore();break;case n.RecycleBin:r=0===i&&!this.getMyStoriesListFetcher().canFetchMoreRecycled();break;case n.ViewedStories:r=0===t&&!this.getMyViewedStoriesListFetcher().canFetchMore();break;case n.Analytics:r=0===this.countAnalyticsSways(e)&&!this.getMyStoriesAnalyticsFetcher().canFetchMore()&&!this.getEditableStoriesAnalyticsFetcher().canFetchMore()&&CommonSettings.IsPaidUser;break;default:return TDB.raiseRecoverableError("MyStoriesPageListV2VE: isCurrentListEmptyMessageArgs : Unhandled sorting type",TDB.LogLevel.error),!1}return r&&!o},s.getCurrentlyRemovedTileIndex=function(e,t){if(e&&t)for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},s.prototype.setTileDeleteTime=function(e,t,n){var i=this._myRecycleBinStoriesList.getTiles().firstOrDefault(function(t){return t.getLookupId()===e});i&&i.setMoveToRecycleBinTime(t,n)},s.prototype.moveTile=function(e,t,n){var i;switch(t){case o.Active:i=this._myStoriesList.getAndRemoveTile(e);break;case o.Recycled:i=this._myRecycleBinStoriesList.getAndRemoveTile(e);break;case o.Deleted:i=this.storiesPresumedDeleted.firstOrDefault(function(t){return t.getLookupId()===e});break;default:TDB.raiseRecoverableError("Unknown story list",TDB.LogLevel.info)}if(i)switch(i.setSelected(!1),n){case o.Active:this._myStoriesList.addTile(i);break;case o.Recycled:this._myRecycleBinStoriesList.addTile(i);break;case o.Deleted:this.storiesPresumedDeleted.push(i);break;default:TDB.raiseRecoverableError("Unknown story list",TDB.LogLevel.info)}else TDB.raiseRecoverableError("Story not found",TDB.LogLevel.info)},s.prototype.shouldSpinnerBeVisible=function(e){var t=!1;switch(this.sortingType.getWatchedValue(e)){case n.MyStories:t=this.shouldEditedSpinnerBeVisible.getWatchedValue(e);break;case n.RecycleBin:t=this.shouldDeletedSpinnerBeVisible.getWatchedValue(e);break;case n.ViewedStories:t=this.shouldViewedSpinnerBeVisible.getWatchedValue(e);break;case n.Analytics:t=this.shouldAnalyticsSpinnerBeVisible.getWatchedValue(e);break;default:TDB.raiseRecoverableError("MyStoriesPageListV2ViewModel: shouldSpinnerBeVisible: Unhandled sorting type",TDB.LogLevel.error)}return t},s.prototype.setShouldSpinnerBeVisible=function(e,t){var i=this;TDB.applyUpdate(function(){switch(t){case n.MyStories:i.shouldEditedSpinnerBeVisible.setValue(e);break;case n.RecycleBin:i.shouldDeletedSpinnerBeVisible.setValue(e);break;case n.ViewedStories:i.shouldViewedSpinnerBeVisible.setValue(e);break;case n.Analytics:i.shouldAnalyticsSpinnerBeVisible.setValue(e);break;default:TDB.raiseRecoverableError("MyStoriesPageListV2ViewModel: setShouldSpinnerBeVisible: Unhandled sorting type",TDB.LogLevel.error)}i.spinnerChanged.notify()},TDB.Justification.SynchronousBrowserEvent)},s.prototype.getStoryTileTitle=function(e){var t=this.getStoryTiles(null);return e>=t.length?(StoryLog.TraceTag(596459555,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"MyStoriesPageListV2ViewModel: getStoryTileTitle() : Requested tile index greater or equal to array length"),""):t[e].getTitle()?t[e].getTitle():Resources.UntitledStoryTitle},s.prototype.getStoryTileDateForSorting=function(e){var t=this.getStoryTiles(null);return e>=t.length?(StoryLog.TraceTag(596459584,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"MyStoriesPageListV2ViewModel: getStoryTileTitle() : Requested tile index greater or equal to array length"),""):t[e].getDateForSorting()},s.prototype.reset=function(){var e=this;this.numberOfMyStoriesExpectedToShow=Math.min(this._myStoriesList.count()+this._myEditableStoriesList.count(),this.numberOfMyStoriesToShow),this.numberOfRecycledStoriesExpectedToShow=Math.min(this._myRecycleBinStoriesList.count(),this.numberOfRecycledStoriesToShow),this.numberOfViewedStoriesExpectedToShow=Math.min(this._myViewedStoriesList.count(),this.numberOfViewedStoriesToShow),this.numberOfAnalyticsStoriesExpectedToShow=Math.min(this.analyticsStoriesList.count(),this.numberOfAnalyticsStoriesToShow),this.updateComparers(),this._myStoriesList.clear(),this._myRecycleBinStoriesList.clear(),this._myEditableStoriesList.clear(),this._myViewedStoriesList.clear(),this.analyticsStoriesList.clear(),TDB.applyUpdate(function(){e._combinedStoryTiles.notify()}),this._myStoriesFetcher.reset(),this._myViewedStoriesFetcher.reset(),this._myEditableStoriesFetcher.reset(),this.myStoriesAuthorAnalyticsFetcher.reset(),this.editableStoriesAuthorAnalyticsFetcher.reset()},s.prototype.didCurrentTabFailFetching=function(e){switch(this.getSortingType(e)){case n.MyStories:return this.errorFlagEditedStories.getWatchedValue(e)||this.errorFlagCoAuthoredStories.getWatchedValue(e);case n.ViewedStories:return this.errorFlagViewedStories.getWatchedValue(e);case n.RecycleBin:return this.errorFlagDeletedStories.getWatchedValue(e);case n.Analytics:return this.errorFlagAnalyticsStories.getWatchedValue(e)}return!1},s.prototype.sectionLoadErrorArgs=function(e){return this.didCurrentTabFailFetching(e)?new TDB.ChildArgsNoModel(t.MyStoriesPageSectionErrorVE):void 0},s.storiesNumberTreshold_12=1720,s.storiesNumberTreshold_10=1450,s.storiesNumberTreshold_8=1192,s.storiesNumberTreshold_6=934,s.storiesNumberTreshold_4=676,s.storiesNumberTreshold_2=418,s.showNumberOfTiles_12=12,s.showNumberOfTiles_10=10,s.showNumberOfTiles_8=8,s.showNumberOfTiles_6=6,s.showNumberOfTiles_4=4,s.showNumberOfTiles_2=2,s.showNumberOfTiles_0=0,s.rowHeight=149,s}(Disposable);t.MyStoriesPageListV2ViewModel=r}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(n,i){var o=t.call(this,n,i.viewModel,i.onTileClick,i.callbackContext)||this;return o.args=i,o._tileContainerWidth=92,o._tileContainerHeight=92,o.styleExtensions=TDB.watchableTag(596125137,o,{}),e.MyStoriesPageAnalyticsTileVE.numberOfReadRatioDigitsToShow=Math.max(e.MyStoriesPageAnalyticsTileVE.numberOfReadRatioDigitsToShow,o._model.getGlancedReads().toString().length,o._model.getQuickReads().toString().length,o._model.getDeepReads().toString().length),e.MyStoriesPageAnalyticsTileVE.numberOfViewCountDigitsToShow=Math.max(e.MyStoriesPageAnalyticsTileVE.numberOfViewCountDigitsToShow,o._model.getTotalViews().toString().length),o}return __extends(n,t),n.prototype.onEnterOrSpace=function(e){return TDB.EventPropagation.PreventDefault},n.prototype.getLookupId=function(){return this._model.getLookupId()},n.prototype.getTileType=function(){return"AnalyticsStoryTile"},n.prototype.thumbnailEventsInitArgs=function(){return{error:this.thumbnailOnError}},n.prototype.thumbnailOnError=function(e){var t=this;return TDB.applyUpdate(function(){t.styleExtensions.setValue({display:"none"})}),!1},n.prototype.thumbnailStyleArgs=function(e){var n=t.prototype.thumbnailStyleArgs.call(this,e);return n.display=this._model.getThumbnail()?"":"none",Obj.extend(n,e.watchValue(this.styleExtensions))},n.prototype.modifiedDateTextArgs=function(e){return this._model.getDisplayDate()},n.prototype.viewCountTextArgs=function(){return(Resources.AnalyticsNumberPadding+this._model.getTotalViews()).substr(-1*e.MyStoriesPageAnalyticsTileVE.numberOfViewCountDigitsToShow)},n.prototype.viewCountLabelTextArgs=function(){return Resources.AnalyticsTotalViews},n.prototype.avgTimeSpentTextArgs=function(){return this._model.getAverageTimeRead()>=1?this._model.getAverageTimeRead()+"":Resources.AnalyticsLessThanAMinuteTimeSpent},n.prototype.avgTimeSpentLessThanTextArgs=function(){return this._model.getAverageTimeRead()>=1?"":Resources.AnalyticsLessThanAMinuteLessThanSymbol},n.prototype.avgTimeSpentUnitTextArgs=function(){return Resources.AnalyticsMinuteUnitTimeSpent},n.prototype.avgTimeSpentLabelTextArgs=function(){return Resources.AnalyticsAvgTimeSpent},n.prototype.avgCompletionTextArgs=function(e){return this._model.getAveragePercentageCompletion()+"%"},n.prototype.avgCompletionLabelTextArgs=function(){return Resources.AnalyticsAvgCompletion},n.prototype.glancedReadsTextArgs=function(t){return(Resources.AnalyticsNumberPadding+this._model.getGlancedReads()).substr(-1*e.MyStoriesPageAnalyticsTileVE.numberOfReadRatioDigitsToShow)},n.prototype.glancedReadsLabelTextArgs=function(e){return Resources.AnalyticsReadRatioGlanced},n.prototype.quickReadsTextArgs=function(t){return(Resources.AnalyticsNumberPadding+this._model.getQuickReads()).substr(-1*e.MyStoriesPageAnalyticsTileVE.numberOfReadRatioDigitsToShow)},n.prototype.quickReadsLabelTextArgs=function(e){return Resources.AnalyticsReadRatioQuickRead},n.prototype.deepReadsTextArgs=function(t){return(Resources.AnalyticsNumberPadding+this._model.getDeepReads()).substr(-1*e.MyStoriesPageAnalyticsTileVE.numberOfReadRatioDigitsToShow)},n.prototype.deepReadsLabelTextArgs=function(e){return Resources.AnalyticsReadRatioDeepRead},n.prototype.myStoriesAnalyticsRowAttrArgs=function(e){var t=this.titleTextArgs(e),n=this.viewCountLabelTextArgs()+": "+this.viewCountTextArgs(),i=this.avgCompletionLabelTextArgs()+": "+this.avgCompletionTextArgs(e),o=[t,n,this.avgTimeSpentLabelTextArgs()+": "+this.avgTimeSpentTextArgs(),i,this.glancedReadsTextArgs(e)+": "+this.glancedReadsLabelTextArgs(e),this.quickReadsTextArgs(e)+": "+this.quickReadsLabelTextArgs(e),this.deepReadsTextArgs(e)+": "+this.deepReadsLabelTextArgs(e)].join(", "),r={};return r[Aria.Attributes.Label]=o,r},n.numberOfReadRatioDigitsToShow=2,n.numberOfViewCountDigitsToShow=2,n}(e.StoryTileBaseVEBase);e.MyStoriesPageAnalyticsTileVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(i){function o(e,t){return i.call(this,e,t.viewModel)||this}return __extends(o,i),o.prototype.titleClassNameArgs=function(e){return"segoeUISemilight UnselectableText templateTileTitle"},o.prototype.onLoadingStory=function(t){this.logOpenStoryTileAction();var i=e.Common.Environment.getInstance().canOpenNewTab();return n.UserStories.getInstance().onLoadingStory(this._model.getLookupId(),!1,!0,!1,i)},o.prototype.onEnterOrSpace=function(e){return this.logOpenStoryTileAction(),t.StoryTileVEBase.navigateToStory(this._model,!1,this.shouldForceNavigate(e))},o.prototype.getTileType=function(){return"FeaturedStoryTile"},o.prototype.hideSubMenuAndShowMenu=function(){TDB.raiseRecoverableError("hideSubMenuAndShowMenu() shouldn't be called from MyStoriesFeaturedStoryTileVE")},o.prototype.hideAllMenuAndRestoreFocus=function(){TDB.raiseRecoverableError("HideAllMenuAndRestoreFocus() shouldn't be called from MyStoriesFeaturedStoryTileVE")},o}(t.StoryTileVEBase);t.MyStoriesPageFeaturedTileVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(e){function i(t,n){var i=e.call(this,t,n.viewModel)||this;return i.args=n,i}return __extends(i,e),i.prototype.titleAttrArgs=function(e){var t={};return t.dir=CommonSettings.SiteUiRtl?"rtl":"ltr",t},i.prototype.titleClassNameArgs=function(e){return"segoeUISemilight UnselectableText templateTileTitle"},i.prototype.onLoadingStory=function(e){return this.logOpenStoryTileAction(),n.UserStories.getInstance().onLoadingStory(this._model.getLookupId(),!1,!0,!1,this.shouldForceNavigate(e))},i.prototype.onEnterOrSpace=function(e){return this.logOpenStoryTileAction(),t.StoryTileVEBase.navigateToStory(this._model,!1,this.shouldForceNavigate(e))},i.prototype.getTileType=function(){return"TemplateStoryTile"},i.prototype.ellipsisButtonClicked=function(t){return this._menuTile.show(),e.prototype.setDetailsVisible.call(this,!1),TDB.EventPropagation.Bypass},i.prototype.ellipsisArgs=function(){var e={buttonId:ClientAction.ButtonId.Tile_Ellipses,click:this.ellipsisButtonClicked,context:this,cssClass:{value:"storyTileTopButton"},description:{value:Resources.MySwaysTileOverflowButtonShortDescription},tooltip:{value:Resources.MySwaysTileOverflowButtonTooltip},enabled:n.Environment.getInstance().getClientOnline(),fontIconName:{value:FontIcons.StoryOverflowIcon},fontIconSizeClass:FontIcons.StoryOverflowIconSize,hasPopup:!0};return new TDB.ChildArgs(t.GlyphButtonVE,e)},i.prototype.menuTileArgs=function(){var e={viewModel:this._model,context:this,onDeleteButtonConfirmed:this.onDeleteButtonConfirmed,addStory:null,duplicateStory:null,hideAllMenuAndRestoreFocus:this.hideAllMenuAndRestoreFocus,hideSubMenuAndShowMenu:this.hideSubMenuAndShowMenu,sharingManager:null,buttonsToShow:[t.MenuTileButtons.Delete]};return new TDB.ChildArgs(t.MenuTileVE,e)},i.prototype.onDeleteButtonConfirmed=function(e){this.hideAllMenuAndRestoreFocus(),this.disableTile(!0),this.args.onDeleteButtonConfirmed.call(this.args.callbackContext,e)},i.prototype.updateMenuTile=function(t){!n.Environment.getInstance().getClientOnlineWatcher().getWatchedValue(t)&&this._menuTile&&this._menuTile.isEntered(t)&&(this._menuTile.hideAllMenuAndRestoreFocus(),e.prototype.setDetailsVisible.call(this,!0,TDB.Justification.FocusManagement))},i.prototype.ifUserTemplateArgs=function(){return this._model.isUserTemplate()},i.prototype.ifShouldEmphasizeArgs=function(){var e=new Date(this._model.getLastModified()),t=new Date,n=Math.abs(t.getTime()-e.getTime())/864e5;return this._model.isUserTemplate()&&n<1},i}(t.StoryTileVEBase);t.MyStoriesPageTemplateTileVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(n){var i=e.Common,o=function(e){function o(t,n){var i=e.call(this,t,n)||this;return i.sharingManager=n.sharingManager,i.windowWidth=TDB.watchableTag(596125079,i,0),i.windowHeight=TDB.watchableTag(596125080,i,0),i}return __extends(o,e),o.prototype.homeWrapperWidthWatcherInitArgs=function(){return this.updateWidth},o.prototype.updateWidth=function(e){var t=this;TDB.applyUpdate(function(){t.windowWidth.setValue(e)},TDB.Justification.SynchronousBrowserEvent)},o.prototype.homeWrapperHeightWatcherInitArgs=function(){return this.updateHeight},o.prototype.updateHeight=function(e){var t=this;TDB.applyUpdate(function(){t.windowHeight.setValue(e)},TDB.Justification.SynchronousBrowserEvent)},o.prototype.addAppBarButtonIfIncluded=function(e,t){ArrayExtensions.contains(this.args.appBarButtonsToCreate,e)&&t.push({type:n.AppBarChildType.BuiltIn,label:e})},o.prototype.addOverflowMenuButtonIfIncluded=function(e,t,i){ArrayExtensions.contains(this.args.overflowMenuButtonsToCreate,e)&&t.push({type:n.OverflowMenuChildType.BuiltIn,label:e,category:i})},o.prototype.getAppBarArgs=function(){var e=[],t=[];return this.addAppBarButtonIfIncluded(n.AppBarButtonLabel.Home,e),this.addAppBarButtonIfIncluded(n.AppBarButtonLabel.DeveloperCdn,e),this.addAppBarButtonIfIncluded(n.AppBarButtonLabel.InternalFeatures,e),this.addAppBarButtonIfIncluded(n.AppBarButtonLabel.CreateNew,e),ArrayExtensions.contains(this.args.appBarButtonsToCreate,n.AppBarButtonLabel.TutorialVideos)&&e.push({type:n.AppBarChildType.BuiltIn,label:n.AppBarButtonLabel.TutorialVideos}),this.addOverflowMenuButtonIfIncluded(n.OverflowButtonLabel.InternalFeatures,t,n.OverflowMenuCategory.Settings),this.addOverflowMenuButtonIfIncluded(n.OverflowButtonLabel.PremiumFeatures,t,n.OverflowMenuCategory.Settings),this.addOverflowMenuButtonIfIncluded(n.OverflowButtonLabel.CreateNew,t,n.OverflowMenuCategory.File),this.addOverflowMenuButtonIfIncluded(n.OverflowButtonLabel.Help,t,n.OverflowMenuCategory.Global),this.addOverflowMenuButtonIfIncluded(n.OverflowButtonLabel.User,t,n.OverflowMenuCategory.Global),this.addOverflowMenuButtonIfIncluded(n.OverflowButtonLabel.SignOut,t,n.OverflowMenuCategory.Global),this.args.extraAppBarButtons&&e.push.apply(e,this.args.extraAppBarButtons),{buttons:e,overflowButtons:t,userState:i.UserState.getInstance(),isEditMode:!1,resourceFactory:this.args.resourceFactory}},o.prototype.footerArgs=function(){return new TDB.ChildArgsNoModel(n.SharedPageFooterVE)},o.prototype.blockingProgressArgs=function(){return new TDB.ChildArgs(n.BlockingProgressVE,t.Common.BlockingProgressManager.getInstance())},o.prototype.myStoriesPageContentHolderArgs=function(){var e={windowWidth:this.windowWidth,windowHeight:this.windowHeight,shouldDelayFetch:this.args.shouldDelayFetch,resourceFactory:this.args.resourceFactory,storyListFetcherFactory:this.args.storyListFetcherFactory,sharingManager:this.sharingManager};return new TDB.ChildArgs(n.MyStoriesPageContentHolderVE,e)},o.prototype.getMyStoriesPageContentHolder=function(){return this.myStoriesPageContentHolder},o}(n.PageWithAppBarBaseVE);n.MyStoriesPageVEBase=o}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(n){function i(e){var t=n.call(this,e,TDB.ControlSetFeatures.AutoEnter)||this;return t.reportInfoElementId="reportInfo",t.reportTypeElementId="reportType",t.contentInfrigementSelectionValue="ContentInfringement",t.reportInfo=TDB.watchableTag(596125063,t,t.getReportViolationLabel()),t.contentInfringementLinkVisible=TDB.watchableTag(596125064,t,!1),t.reportStatus=TDB.watchableTag(596125065,t,""),t.showForm=TDB.watchableTag(596125066,t,!0),t}return __extends(i,n),i.prototype.keyDown=function(t){if(t.keyCode===KeyCodeType.TabKey){var i=this.getFocusableElements(),o=e.Utilities.getDocumentActiveElement();return t.shiftKey&&i[0]===o?(i.last().focus(),TDB.EventPropagation.PreventDefault):t.shiftKey||i[i.length-1]!==o?TDB.EventPropagation.Bypass:(i.first().focus(),TDB.EventPropagation.PreventDefault)}return n.prototype.keyDown.call(this,t)},i.prototype.updateActiveChild=function(e,t,n){return e===TDB.OffsetOrigin.Initial&&this.getFocusableElements()[0].focus(),!0},i.prototype.mouseClicked=function(e){return TDB.EventPropagation.Bypass},i.prototype.reportUrlAttrArgs=function(e){return{value:reportUrl}},i.prototype.reportPageHeaderTextArgs=function(e){return Resources.ReportAViolationHeader},i.prototype.reportPageExplanationTextArgs=function(e){return Resources.ReportAViolationExplanation},i.prototype.reportAViolationURLLabelTextArgs=function(e){return Resources.ReportAViolationURLLabel},i.prototype.reportAViolationTypeLabelTextArgs=function(e){return Resources.NewReportAViolationTypeLabel},i.prototype.reportAViolationTypeLabelLinkTextArgs=function(e){return Resources.NewReportAViolationTypeLabelLinkText},i.prototype.reportAViolationTypeQuestionMarkLabelTextArgs=function(e){return Resources.NewReportAViolationTypeLabelQuestionMark},i.prototype.reportPageDefaultTypeTextArgs=function(e){return Resources.ReportAViolationDefaultType},i.prototype.reportPageChildExploitationTypeTextArgs=function(e){return Resources.ReportAViolationChildExploitationType},i.prototype.reportPageContentInfringementTypeTextArgs=function(e){return Resources.NewReportAViolationContentInfringementType},i.prototype.reportPageHarassmentTypeTextArgs=function(e){return Resources.NewReportAViolationHarassmentType},i.prototype.reportPageNudityTypeTextArgs=function(e){return Resources.NewReportAViolationNudityType},i.prototype.reportPageSpamTypeTextArgs=function(e){return Resources.NewReportAViolationVirusType},i.prototype.reportPageOtherTypeTextArgs=function(e){return Resources.NewReportAViolationOtherType},i.prototype.reportAViolationDetailsLabelTextArgs=function(e){return this.reportInfo.getWatchedValue(e)},i.prototype.reportAViolationPrivacyDisclaimerTextArgs=function(e){return Resources.ReportAViolationPrivacyDisclaimer},i.prototype.violationCategoriesEventsInitArgs=function(){return{change:this.onChangeReportTypeSelection}},i.prototype.reportAViolationStatusTextArgs=function(e){return this.reportStatus.getWatchedValue(e)},i.prototype.newReportAViolationContentInfringementDescriptionTextArgs=function(e){return Resources.NewReportAViolationContentInfringementDescription+" "},i.prototype.showReportFormArgs=function(e){return this.showForm.getWatchedValue(e)},i.prototype.showReportStatusArgs=function(e){return!(""===this.reportStatus.getWatchedValue(e))},i.prototype.showContentInfringementLinkArgs=function(e){return this.contentInfringementLinkVisible.getWatchedValue(e)},i.prototype.showReportNotesAndSendButtonArgs=function(e){return!this.contentInfringementLinkVisible.getWatchedValue(e)},i.prototype.reportAViolationContentInfringementUrlLinkButtonArgs=function(){var e={buttonId:ClientAction.ButtonId.ContentInfringementLink,url:CommonSettings.ReportAViolationContentInfringementUrl,text:{value:Resources.NewReportAViolationContentInfringementLinkDescription},target:"_blank",description:{value:this.getContentInfringementURLText()},cssClass:{value:"ravFocusable"},nativeKeyboardHandling:!0};return new TDB.ChildArgs(t.LinkButtonVE,e)},i.prototype.getContentInfringementURLText=function(){return Resources.NewReportAViolationContentInfringementDescription+Resources.NewReportAViolationContentInfringementLinkDescription},i.prototype.sendReportButtonArgs=function(){var e={buttonId:ClientAction.ButtonId.SendReport,click:this.sendReport,context:this,cssClass:{value:"ReportAViolationSendReportButton ravFocusable"},text:{value:Resources.ReportAViolationFormSubmitButtonText}};return new TDB.ChildArgs(t.TextButtonVE,e)},i.prototype.setHeaders=function(e){e.setRequestHeader("X-CorreletionId",reportCorrelationId),e.setRequestHeader(CommonSettings.CanaryHeader,CommonSettings.Canary)},i.prototype.areReportingInputsValid=function(){return""!==this.getSelectedReportType()&&""!==this.getReportNotesFromInput()},i.prototype.getReportNotesFromInput=function(){return document.getElementById(this.reportInfoElementId).value},i.prototype.onErrorReporting=function(e){var t=this,n=Resources.GenericErrorDialogText;TDB.applyUpdate(function(){t.reportStatus.setValue(n),t.showForm.setValue(!1)})},i.prototype.onSuccessReporting=function(){var e=this;TDB.applyUpdate(function(){e.reportStatus.setValue(Resources.ReportCompleteMessage),e.showForm.setValue(!1)})},i.prototype.getReportViolationLabel=function(){return Resources.NewReportAViolationDetailsLabel+Resources.ReportAViolationDetailsCharacterLimit},i.prototype.sendReport=function(t){var n=this;if(!this.areReportingInputsValid())return TDB.EventPropagation.Bypass;var i={ReportNotes:this.getReportNotesFromInput(),AbuseCategory:this.getSelectedReportType()},o=e.Common.UrlHelper.getInstance().getReportViolationApiUrl(this.extractReportingLookupId());return $.ajax(o,this.CreateAjaxSettings(i)).then(function(){return n.onSuccessReporting()},function(e){return n.onErrorReporting(e)}),TDB.EventPropagation.PreventDefault},i.prototype.extractReportingLookupId=function(){var e=reportUrl.split("/");return"embed"==e.last()?e[e.length-2]:e.last()},i.prototype.CreateAjaxSettings=function(t){return{description:"Sway Violation Report",type:"POST",data:JSON.stringify(t),contentType:e.RequestManager.JsonContentType,timeout:CommonSettings.SiteDocumentIngestionAjaxTimeout,beforeSend:this.setHeaders}},i.prototype.getSelectedReportType=function(){var e=document.getElementById(this.reportTypeElementId);return e.options[e.selectedIndex].value},i.prototype.onChangeReportTypeSelection=function(e){var t=this;return this.getSelectedReportType()===this.contentInfrigementSelectionValue?TDB.applyUpdate(function(){t.reportInfo.setValue(""),t.contentInfringementLinkVisible.setValue(!0)}):TDB.applyUpdate(function(){t.reportInfo.setValue(t.getReportViolationLabel()),t.contentInfringementLinkVisible.setValue(!1)}),!1},i.prototype.getFocusableElements=function(){var e=this.findFirstNode();return $(e).find(i.focusableSelector)},i.focusableSelector=".ravFocusable",i}(t.RegionViewElement);t.ReportAViolationPageContentVEBase=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e,n){return t.call(this,e,n)||this}return __extends(n,t),n.prototype.reportAViolationContentArgs=function(){return new TDB.ChildArgsNoModel(e.ReportAViolationPageContentVE)},n.prototype.footerArgs=function(){return new TDB.ChildArgsNoModel(e.SharedPageFooterVE)},n.areEqual=function(e,t){return e.resourceFactory===t.resourceFactory},n}(e.PageWithAppBarBaseVE);e.ReportAViolationPageVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype.reportCompleteMessageTextArgs=function(e){return Resources.ReportCompleteMessage},t.areEqual=function(e,t){return e.resourceFactory===t.resourceFactory},t}(e.PageWithAppBarBaseVE);e.ReportCompletePageVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(n){function i(e){var t=n.call(this,e)||this;return t._nextStartIndex=TDB.watchableTag(596125185,t,-1),t._startIndex=TDB.watchableTag(596125186,t,0),t._windowSize=TDB.watchableTag(596125187,t,3),t._columnClass=TDB.watcherTag(596125188,t,t,t.calculateColumnClass),t}return __extends(i,n),i.prototype.init=function(e){this._args=e},i.prototype.onHideComplete=function(){var e=this._nextStartIndex.getValue();e<0||this.setStartIndex(e)},i.prototype.nextClicked=function(e){return this.moveNext(),ActionLogger.RecordClientAction(new ClientAction.ButtonClickAction(this._args.nextButtonID,Diag.ULSCat.msoulscat_Story_Preview,{CurrentIndex:this.getStartIndex().toString()})),TDB.EventPropagation.Bypass},i.prototype.moveNext=function(){var e=this.getStartIndex()+this.getWindowSize();e>=this._args.numberOfElements.getValue()&&(e=0),this.transitionElements(e)},i.prototype.previousClicked=function(e){return this.movePrevious(),ActionLogger.RecordClientAction(new ClientAction.ButtonClickAction(this._args.previousButtonID,Diag.ULSCat.msoulscat_Story_Preview,{CurrentIndex:this.getStartIndex().toString()})),TDB.EventPropagation.Bypass},i.prototype.movePrevious=function(){var e=this.getStartIndex(),t=this.getWindowSize(),n=e-t;if(n<0){var i=this._args.numberOfElements.getValue()-1;n=i-i%t}this.transitionElements(n)},i.prototype.transitionElements=function(e){var t=this;this.getStartIndex()!==e&&TDB.applyUpdate(function(){t._nextStartIndex.setValue(e)})},i.prototype.nextButtonArgs=function(){var e={buttonId:this._args.nextButtonID,context:this,click:this.nextClicked,cssClass:{value:this._args.nextButtonCssClass},description:{value:this._args.nextButtonDescription},tooltip:{value:this._args.nextButtonTooltip},fontIconName:{value:FontIcons.NextIcon},fontIconSizeClass:FontIcons.NextIconSize,fontIconWrapperClass:{value:"homeFeaturedNextIconWrapper"},telemetryId:this._args.nextButtonUniqueId,text:{value:this._args.nextButtonText},textClass:this._args.nextButtonTextClass};return new TDB.ChildArgs(t.GlyphButtonVE,e)},i.prototype.previousButtonArgs=function(){var e={buttonId:this._args.previousButtonID,click:this.previousClicked,context:this,cssClass:{value:this._args.previousButtonCssClass},description:{value:this._args.previousButtonDescription},tooltip:{value:this._args.previousButtonTooltip},fontIconName:{value:FontIcons.PreviousIcon},fontIconSizeClass:FontIcons.PreviousIconSize,fontIconWrapperClass:{value:"homeFeaturedPreviousIconWrapper"},telemetryId:this._args.previousButtonUniqueId,text:{value:this._args.previousButtonText},textClass:this._args.previousButtonTextClass};return new TDB.ChildArgs(t.GlyphButtonVE,e)},i.prototype.setStartIndex=function(e){var t=this;TDB.applyUpdate(function(){t._startIndex.setValue(e),t._nextStartIndex.setValue(-1)})},i.prototype.getStartIndex=function(e){return this._startIndex.getWatchedValue(e)},i.prototype.setWindowSize=function(e){var t=this;this.setStartIndex(0),TDB.applyUpdate(function(){t._windowSize.setValue(e)})},i.prototype.getWindowSize=function(e){return Math.min(3,this._windowSize.getWatchedValue(e))},i.prototype.calculateColumnClass=function(t){var n=this.getWindowSize(t);switch(n){case 1:return"";case 2:return"homeColumnHalf";case 3:case 4:return"homeColumnThird";default:throw e.RethrowLogger.createError("Unknown window size: "+n)}},i.prototype.locationTextArgs=function(e){var t=this.getStartIndex(e),n=this.getWindowSize(e),i=this._args.numberOfElements.getWatchedValue(e),o=t+1,r=Math.min(t+n,i);return r===o?ResourceManager.ResolveString(this._args.locationTextSingle,[o,i]):ResourceManager.ResolveString(this._args.locationText,[o,r,i])},i.prototype.getElementsVisible=function(e){return-1===this._nextStartIndex.getWatchedValue(e)},i.prototype.getCarouselElementArgs=function(){return{columnClass:this._columnClass,context:this,onHideComplete:this.onHideComplete,getVisible:this.getElementsVisible}},i}(TDB.FocusableViewElement);t.CarouselVE=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,t)||this;return i.previouslyVisible=!1,i._transitionTimeSeconds=.3,i.onHideComplete=function(){i.clearHideTimeout(),i._args.onHideComplete&&i._args.context&&i._args.onHideComplete.apply(i._args.context)},i._args=n,i}return __extends(t,e),t.prototype.getMaxTransitionTimeMs=function(){return 1e3*this._transitionTimeSeconds},t.prototype.columnClassNameArgs=function(e){return e.watchValue(this._args.columnClass)},t.prototype.columnFadeVisibleInitArgs=function(){var e="opacity "+this._transitionTimeSeconds+"s ease";return{visibleInit:!1,transitionIn:e,transitionOut:e,context:this}},t.prototype.clearHideTimeout=function(){void 0!==this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=void 0)},t.prototype.columnFadeVisibleArgs=function(e){var t=this._args.getVisible,n=!t||t.call(this._args.context,e);return n?this.clearHideTimeout():this.previouslyVisible&&(this.hideTimeout=platform.setTimeout(this.onHideComplete,this.getMaxTransitionTimeMs())),this.previouslyVisible=n,{visible:n}},t}(TDB.Control);e.CarouselElementVE=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,t,n.carouselArgs)||this;return i.tile=n.tile,i}return __extends(t,e),t.prototype.titleTextArgs=function(e){return this.tile.title||""},t.prototype.linkAttrArgs=function(e){return{href:this.tile.url,target:"_blank",id:this.tile.title.replace(/\s/g,"")||""}},t.prototype.wrapperStyleArgs=function(e){return{backgroundImage:"url("+this.tile.thumbnail+")"}},t}(e.CarouselElementVE);e.FeaturedStoryVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common.TelemetryConstants,i=function(e){function i(i){var o=e.call(this,i)||this;o.featuredStoryLoader=new t.FeaturedStoryLoader(o.isEducationFeaturedStories());var r,s;if(CommonSettings.SiteUseAlternateUserTypeSpecificStrings)switch(CommonSettings.CurrentUserType){case UserType.AAD_EDU:r="",s="";break;default:StoryLog.StructuredTraceTag(596125146,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"Unexpected SiteUseAlternateUserTypeSpecificStrings BRS value.",{}),r=Resources.FeaturedLocation,s=Resources.FeaturedLocationSingle}else r=Resources.FeaturedLocation,s=Resources.FeaturedLocationSingle;var a={numberOfElements:TDB.watcherTag(596125147,o,o,o.calculateNumberOfFeaturedStories),nextButtonID:ClientAction.ButtonId.FeaturedSway_Next,nextButtonCssClass:"homeFeaturedNext",nextButtonText:Resources.NextFeaturedButtonDescription,nextButtonTextClass:"homeFeaturedHiddenText",nextButtonDescription:Resources.NextFeaturedButtonDescription,nextButtonTooltip:Resources.NextFeaturedButtonDescription,nextButtonUniqueId:n.carouselNextButtonId,previousButtonID:ClientAction.ButtonId.FeaturedSway_Previous,previousButtonCssClass:"homeFeaturedPrevious",previousButtonText:Resources.PreviousFeaturedButtonDescription,previousButtonTextClass:"homeFeaturedHiddenText",previousButtonDescription:Resources.PreviousFeaturedButtonDescription,previousButtonTooltip:Resources.PreviousFeaturedButtonDescription,previousButtonUniqueId:n.carouselPreviousButtonId,locationText:r,locationTextSingle:s};return o.init(a),o}return __extends(i,e),i.prototype.homeFeaturedContentAttrArgs=function(e){var t={};return t[Aria.Attributes.Label]=Resources.FeaturedSwayHeaderMySwaysPage,t[Aria.Attributes.Multiselectable]="false",t},i.prototype.isEducationFeaturedStories=function(){return this.parent instanceof t.EducationFeaturedVE},i.prototype.featuredStoriesArgs=function(e){for(var n=this.getFeaturedTiles(e),i=n.length,o=this.getStartIndex(e),r=this.getWindowSize(e),s=[],a=o;a<Math.min(i,o+r);a++){var l={tile:n[a],carouselArgs:this.getCarouselElementArgs()},c=void 0;if(this.parent instanceof t.EducationFeaturedVE)c=new TDB.ChildArgs(t.EducationFeaturedStoryVE,l);else{if(!(this.parent instanceof t.NewHomePageContentVE||this.parent instanceof t.NewVisualDesignHomePageContentVE))continue;c=new TDB.ChildArgs(t.FeaturedStoryVE,l)}s.push(c)}return s},i.prototype.isValidEducationStory=function(e){return!!this.parent.items[e.id]},i.prototype.getFeaturedTiles=function(e){return this.parent instanceof t.EducationFeaturedVE?this.featuredStoryLoader.getFeaturedStories(e).filter(this.isValidEducationStory,this):this.featuredStoryLoader.getFeaturedStories(e)},i.prototype.calculateNumberOfFeaturedStories=function(e){return this.featuredStoryLoader.getFeaturedStories(e).length},i.prototype.mouseClicked=function(e){return TDB.EventPropagation.Bypass},i.prototype.newHomepageVisualDesignDisabledArgs=function(){return!CommonSettings.NewHomepageVisualDesignEnabled},i}(t.CarouselVE);t.FeaturedStoryCarouselVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=ClientAction.AggregationCounter,n=ClientAction.StatisticalMeasure,i=function(e){function i(){ActionLogger.CreateClientMeasure(n[n.HomePageScrollChange],{position:null,percent:null});var i={counterScrollbarClick:t.HomePageScrollbarClick,counterMouseWheel:t.HomePageMouseWheel,counterMouseDown:t.HomePageMouseDown,counterKeyboard:t.HomePageKeyboard,counterClick:t.HomePageClick,counterTouch:t.HomePageTouch,enabled:!0};return e.call(this,i)||this}return __extends(i,e),i.prototype.recordScrollPosition=function(e,t){ActionLogger.ObserveClientMeasure(n[n.HomePageScrollChange],{position:e,percent:t})},i.prototype.setTelemetryContext=function(t){ActionLogger.SetContext(n[n.HomePageScrollChange],t),e.prototype.setTelemetryContext.call(this,t)},i}(e.UserInteractionTelemetry);e.HomePageInteractionTelemetry=i}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=ClientAction.AggregationCounter,n=ClientAction.StatisticalMeasure,i=function(e){function i(){ActionLogger.CreateClientMeasure(n[n.NewVisualDesignHomePageScrollChange],{position:null,percent:null});var i={counterScrollbarClick:t.NewVisualDesignHomePageScrollbarClick,counterMouseWheel:t.NewVisualDesignHomePageMouseWheel,counterMouseDown:t.NewVisualDesignHomePageMouseDown,counterKeyboard:t.NewVisualDesignHomePageKeyboard,counterClick:t.NewVisualDesignHomePageClick,counterTouch:t.NewVisualDesignHomePageTouch,enabled:!0};return e.call(this,i)||this}return __extends(i,e),i.prototype.recordScrollPosition=function(e,t){ActionLogger.ObserveClientMeasure(n[n.NewVisualDesignHomePageScrollChange],{position:e,percent:t})},i.prototype.setTelemetryContext=function(t){ActionLogger.SetContext(n[n.NewVisualDesignHomePageScrollChange],t),e.prototype.setTelemetryContext.call(this,t)},i}(e.UserInteractionTelemetry);e.NewVisualDesignHomePageInteractionTelemetry=i}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(n){function i(i,o){var r=n.call(this,i,o)||this;return t.DomEventRegister.getInstance().disableTouch(),CommonSettings.SSOEnabled&&e.Identity.getActions().registerSSO(new e.Identity.SSO),r}return __extends(i,n),i.prototype.homeContentArgs=function(){return CommonSettings.NewHomepageVisualDesignEnabled?new TDB.ChildArgs(t.NewVisualDesignHomePageContentVE,this.args):new TDB.ChildArgs(t.NewHomePageContentVE,this.args)},i.areEqual=function(e,t){return e.resourceFactory===t.resourceFactory},i.prototype.universalHeaderArgs=function(){return new TDB.ChildArgsNoModel(t.UniversalHeaderVE)},i.prototype.universalHeaderFooterHomepageEnabledArgs=function(){return CommonSettings.UniversalHeaderFooterHomepageEnabled},i.prototype.universalHeaderFooterHomepageDisabledArgs=function(){return!this.universalHeaderFooterHomepageEnabledArgs()},i}(t.PageWithAppBarBaseVE);t.HomePageVEBase=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common;!function(e){e[e.LoopedOneByOne=0]="LoopedOneByOne",e[e.LoopedOneByOneAnimated=1]="LoopedOneByOneAnimated",e[e.LoopedBatch=2]="LoopedBatch",e[e.LoopedBatchAnimated=3]="LoopedBatchAnimated"}(t.ECarouselMode||(t.ECarouselMode={}));var i=function(e){function i(t,n){var i=e.call(this,t)||this;return i.args=n,i.optionArgsAndTypes=TDB.watchableOption(i,n.optionArgsAndTypes),i.windowSize=TDB.watchableOption(i,i.args.windowSize),i.numColumns=TDB.watchableOption(i,i.args.numColumns),i}return __extends(i,e),i.prototype.nextClicked=function(e){return CommonSettings.SiteUiRtl?this.imagePillarElementList.movePrevious():this.imagePillarElementList.moveNext(),TDB.EventPropagation.Bypass},i.prototype.previousClicked=function(e){return CommonSettings.SiteUiRtl?this.imagePillarElementList.moveNext():this.imagePillarElementList.movePrevious(),TDB.EventPropagation.Bypass},i.prototype.carouselElementArgs=function(){var e={optionArgsAndTypes:this.args.optionArgsAndTypes,logString:this.args.logString,numColumns:this.numColumns,carouselOffset:this.args.carouselOffset,carouselMode:this.args.carouselMode,previousButtonClientActionButtonId:this.args.previousButtonClientActionButtonId,nextButtonClientActionButtonId:this.args.nextButtonClientActionButtonId,carouselElementsWrapperCssClass:this.args.carouselElementsWrapperCssClass,carouselDescription:this.args.carouselDescription,callbackContext:this.args.callbackContext,ensureTileIsAddedToMyStoriesCallback:this.args.ensureTileIsAddedToMyStoriesCallback,accessibleElementsExpander:this.args.accessibleElementsExpander,controlsetFeatures:this.args.controlsetFeatures};return new TDB.ChildArgs(t.CarouselListBaseVE,e)},i.prototype.previousButtonArgs=function(){var e={buttonId:this.args.previousButtonClientActionButtonId,click:this.previousClicked,context:this,cssClass:{value:this.args.imageCarouselPreviousButtonCss||"imageCarouselPreviousButton"},description:{value:this.args.previousButtonDescription},fontIconName:{value:FontIcons.PreviousIcon},fontIconSizeClass:FontIcons.PreviousIconSize,fontIconWrapperClass:{value:this.args.fontIconCss||"imageCarouselPreviousButtonFontIconWrapper"},telemetryId:this.args.previousButtonUniqueId,tooltip:{value:this.args.previousButtonTooltip}};return new TDB.ChildArgs(t.GlyphButtonVE,e)},i.prototype.nextButtonArgs=function(){var e={buttonId:this.args.previousButtonClientActionButtonId,click:this.nextClicked,context:this,cssClass:{value:this.args.imageCarouselNextButtonCss||"imageCarouselNextButton"},description:{value:this.args.nextButtonDescription},fontIconName:{value:FontIcons.NextIcon},fontIconWrapperClass:{value:this.args.fontIconCss||"imageCarouselNextButtonFontIconWrapper"},fontIconSizeClass:FontIcons.NextIconSize,telemetryId:this.args.nextButtonUniqueId,tooltip:{value:this.args.nextButtonTooltip}};return new TDB.ChildArgs(t.GlyphButtonVE,e)},i.prototype.carouselWrapperClassNameArgs=function(e){this.windowSize.getWatchedValue(e),this.args.windowWidth.getWatchedValue(e);var t="";return this.args.currentScreenSizeWatcher&&(t="carouselWrapper_"+this.args.currentScreenSizeWatcher.getWatchedValue(e)),this.args.carouselWrapperCssClass&&(t+=" "+this.args.carouselWrapperCssClass),"carouselWrapper "+t+" "+(this.shouldShowNextPreviousButtonArgs(e)?"nextPreviousButtonsVisible":"nextPreviousButtonsInvisible")},i.prototype.nextWrapperClassNameArgs=function(e){var t=this.windowSize.getWatchedValue(e);return this.args.nextButtonWrapperCssClass||"nextButtonWrapper nextButtonWrapper_"+n.DeviceType[t]},i.prototype.shouldShowNextPreviousButtonArgs=function(e){return e.watchValue(this.numColumns)<this.optionArgsAndTypes.getWatchedValue(e).length},i.prototype.nextWrapperAttrArgs=function(){return{id:this.args.nextButtonUniqueId}},i.prototype.previousWrapperClassNameArgs=function(e){var t=this.windowSize.getWatchedValue(e);return this.args.previousButtonWrapperCssClass||"previousButtonWrapper previousButtonWrapper_"+n.DeviceType[t]},i.prototype.previousWrapperAttrArgs=function(){return{id:this.args.previousButtonUniqueId}},i.prototype.resetStartIndex=function(){this.imagePillarElementList?this.imagePillarElementList.resetStartIndex():TDB.raiseRecoverableError("ImagePillarCarouselVE: resetStartIndex: Carousel list is undefined",TDB.LogLevel.info)},i.prototype.carouselWrapperAttrArgs=function(e){var t={};return t[Aria.Attributes.Role]=Aria.Roles.Group,t[Aria.Attributes.Label]=this.args.carouselDescription,t},i}(TDB.FocusableViewElement);t.ImagePillarCarouselVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e,n){var i=t.call(this,e)||this;return i.args=n,i.args=n,i}return __extends(n,t),n.prototype.imagePillarsWrapperAttrArgs=function(){var e={};return e[Aria.Attributes.Role]=Aria.Roles.Group,e[Aria.Attributes.Label]=this.args.imagePillarsListDescription,e},n.prototype.imagePillarsWrapperClassNameArgs=function(e){return"carouselWrapper imagePillarsWrapper_"+this.args.currentScreenSizeWatcher.getWatchedValue(e)},n.prototype.ImagePillarListItemsArgs=function(){return this.args.optionArgsAndTypes.map(function(t){return new TDB.ChildArgs(e.ImagePillarListItemVE,t)})},n}(TDB.FocusableViewElement);e.ImagePillarListNewVisualDesignVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Preload,i=function(t){function i(e){var n=t.call(this,e,TDB.ControlSetFeatures.None)||this;return n.universalHeaderIdScriptSelector="#universalHeaderScript",n.universalHeaderIdSelector="#universalHeader",n}return __extends(i,t),i.prototype.universalHeaderCopyHtmlArgs=function(){return new n.LoadDriver({actionScheduler:$,events:window,executionStyle:new n.LoadExecutionStyles.ParallelLoadExecutionStyle,factory:n.resourceFactory,preloadUrls:n.initializeUrls(window.UhfUrls||[],3),resourceIdentifierStore:n.resourceIdentifierStore}).loadResources(),this.universalHeaderIdScriptSelector},i.prototype.enter=function(){return this.enterNoFocus()&&this.focusEdgeElement(!0),!0},i.prototype.onExiting=function(){t.prototype.onExiting.call(this),$(".c-uhf-menu").find("button[aria-expanded='true']").click()},i.prototype.focusEdgeElement=function(e){var t=$(this.universalHeaderIdSelector).find("button:visible, a:visible, [role=button]:visible");0!==t.length?e?t.first().focus():t.last().focus():StoryLog.TraceTag(596457556,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"No focusable elements in universal header!")},i.prototype.handleKeyEvent=function(n,i){if(n.keyCode===KeyCodeType.TabKey){var o=TDB.EventPropagation.Bypass;if(i===TDB.ViewElementKeyEventType.KeyDownEvent){var r=$(this.universalHeaderIdSelector).find("button:visible, a:visible, [role=button]:visible").toArray(),s=e.Utilities.getDocumentActiveElement();s!==r.last()||n.shiftKey?s===r.first()&&n.shiftKey&&(this.focusEdgeElement(!1),o=TDB.EventPropagation.PreventDefault):(this.focusEdgeElement(!0),o=TDB.EventPropagation.PreventDefault)}return o}return t.prototype.handleKeyEvent.call(this,n,i)},i.prototype.mouseClicked=function(e){return t.prototype.mouseClicked.call(this,e),TDB.EventPropagation.Bubble},i}(t.RegionViewElement);t.UniversalHeaderVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=ClientAction.StatisticalMeasure,i=e.Common,o=e.Common.TelemetryConstants,r=function(e){function r(n){var o=e.call(this,n,TDB.ControlSetFeatures.AutoEnter|TDB.ControlSetFeatures.Isolated|TDB.ControlSetFeatures.PreserveFocusContext)||this;return o.imagePillarCarouselOptionArgsAndType=[],o.interactionLogger=new t.HomePageInteractionTelemetry,o.windowSize=TDB.watchableTag(596125067,o,i.DeviceType.NotSet),o.windowWidth=TDB.watchableTag(596125068,o,t.NewHomePageContentVE.screenWidth_1920),o.windowHeight=TDB.watchableTag(596125069,o,0),o.numColumns=TDB.watchableTag(596125070,o,5),o.carouselOffset=TDB.watchableTag(596125071,o,0),o.carouselSpaceAvailable=TDB.watchableTag(596125072,o,0),o.screenTypeWatcher=TDB.watchableTag(596125073,o,1920),o.createImagePillars(),o.createPromoPillarsArgs(),o.showFollowText=TDB.watchableTag(596125074,o,!0),o.followTextCssClass=TDB.watcherTag(596125075,o,o,o.calculateFollowUsTextCssClass),o.disableAnimationWhileChevron=!1,o.registerEventHandler(o.interactionLogger),o}return __extends(r,e),r.prototype.initializeHomeContentElement=function(){return this.homeContentDiv=window.document.getElementById(r.homeContentDivId),this.homeContentDiv},r.prototype.wrapperEventsInitArgs=function(){var e=this;return{scroll:function(t){return e.handleScroll()}}},r.prototype.wrapperStyleArgs=function(e){var t=r.getAppBarAndCookieHeight(e),n="calc(100% - "+t+"px)";return CommonSettings.UniversalHeaderFooterHomepageEnabled?{top:"0px","overflow-y":"visible",height:n}:{top:t+"px",height:n}},r.getAppBarAndCookieHeight=function(e){var t=CookieConsent.isCookieConsentNotificationVisible(e)?CookieConsent.watchedConsentBannerHeight(e):0;return r.appBarHeight+t},r.prototype.handleScroll=function(){var e=this.homeContentDiv?this.homeContentDiv:this.initializeHomeContentElement();if(e){var t=e.scrollTop,i=e.scrollHeight-document.body.clientHeight+r.appBarHeight,o=Math.floor(t/i*100);ActionLogger.ObserveClientMeasure(n[n.HomePageScrollChange],{position:t,percent:o})}else StoryLog.TraceTag(596125076,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Home content div is undefined - failed to log scroll on homepage.");return!1},r.prototype.callToActionNonMobileArgs=function(){var e={wrapperCssClass:"homeCallToActionPolished",buttonCssClass:"homeCallToActionButtonPolished",buttonId:ClientAction.ButtonId.GetStartedTop,buttonText:Resources.HomeCallToActionNew,freDialogArgs:{windowWidth:this.windowWidth,windowHeight:this.windowHeight},cssClassSuffix:{compute:new TDB.ComputedOptionArgs(this,this.getCallToActionButtonCssClassSuffix)},telemetryId:o.getStartedTopButtonId};return new TDB.ChildArgs(t.CallToActionButtonVE,e)},r.prototype.bottomButtonArgs=function(){var e={wrapperCssClass:"bottomButtonWrapper",buttonCssClass:"bottomButton",buttonId:ClientAction.ButtonId.GetStartedBottom,buttonText:Resources.HomeCallToActionNew,freDialogArgs:{windowWidth:this.windowWidth,windowHeight:this.windowHeight},cssClassSuffix:{compute:new TDB.ComputedOptionArgs(this,this.getCallToActionButtonCssClassSuffix)},telemetryId:o.getStartedBottomButtonId};return new TDB.ChildArgs(t.CallToActionButtonVE,e)},r.prototype.getCallToActionButtonCssClassSuffix=function(e){return i.DeviceType[this.windowSize.getWatchedValue(e)]||""},r.prototype.shouldShowUserTestimonialsArgs=function(){return CommonSettings.SiteHomepageUserTestimonialsEnabled},r.prototype.createImagePillars=function(){var e=i.UrlHelper.getInstance();this.arePillarsStacked=TDB.watchableTag(596125077,this,!1);var n={image:e.getHomepageContent(Icons.homePageIcon_0),imagePhone:e.getHomepageContent(Icons.homePageIcon_phone_0),contentFirstRow:Resources.ImagePillar0Text,isStacked:{watchable:this.arePillarsStacked},swayID:LandingPageSettings.FeaturedLinks[0]?LandingPageSettings.FeaturedLinks[0]:"",windowSize:this.windowSize,windowWidth:this.windowWidth,buttonId:ClientAction.ButtonId.HowToVideoSwayInTwoMinutes,position:0,numColumns:this.numColumns,carouselSpaceAvailable:this.carouselSpaceAvailable,carouselOffset:this.carouselOffset,telemetryId:o.MiddlePartHorisontalIcon_Reports,currentScreenType:this.screenTypeWatcher};this.imagePillarCarouselOptionArgsAndType.push({optionArgs:n,optionType:t.ImagePillarVE});var r={image:e.getHomepageContent(Icons.homePageIcon_1),imagePhone:e.getHomepageContent(Icons.homePageIcon_phone_1),contentFirstRow:Resources.ImagePillar1Text,isStacked:{watchable:this.arePillarsStacked},swayID:LandingPageSettings.FeaturedLinks[1]?LandingPageSettings.FeaturedLinks[1]:"",windowSize:this.windowSize,windowWidth:this.windowWidth,buttonId:ClientAction.ButtonId.HowToVideoMakeTutorial,position:1,numColumns:this.numColumns,carouselSpaceAvailable:this.carouselSpaceAvailable,carouselOffset:this.carouselOffset,telemetryId:o.MiddlePartHorisontalIcon_Presentations,currentScreenType:this.screenTypeWatcher};this.imagePillarCarouselOptionArgsAndType.push({optionArgs:r,optionType:t.ImagePillarVE});var s={image:e.getHomepageContent(Icons.homePageIcon_2),imagePhone:e.getHomepageContent(Icons.homePageIcon_phone_2),contentFirstRow:Resources.ImagePillar2Text,isStacked:{watchable:this.arePillarsStacked},swayID:LandingPageSettings.FeaturedLinks[2]?LandingPageSettings.FeaturedLinks[2]:"",windowSize:this.windowSize,windowWidth:this.windowWidth,buttonId:ClientAction.ButtonId.HowToVideoBuildPresentation,position:2,numColumns:this.numColumns,carouselSpaceAvailable:this.carouselSpaceAvailable,carouselOffset:this.carouselOffset,telemetryId:o.MiddlePartHorisontalIcon_Newsletters,currentScreenType:this.screenTypeWatcher};this.imagePillarCarouselOptionArgsAndType.push({optionArgs:s,optionType:t.ImagePillarVE});var a={image:e.getHomepageContent(Icons.homePageIcon_3),imagePhone:e.getHomepageContent(Icons.homePageIcon_phone_3),contentFirstRow:Resources.ImagePillar3Text,isStacked:{watchable:this.arePillarsStacked},swayID:LandingPageSettings.FeaturedLinks[3]?LandingPageSettings.FeaturedLinks[3]:"",windowSize:this.windowSize,windowWidth:this.windowWidth,buttonId:ClientAction.ButtonId.HowToVideoCreateNewsletter,position:3,numColumns:this.numColumns,carouselSpaceAvailable:this.carouselSpaceAvailable,carouselOffset:this.carouselOffset,telemetryId:o.MiddlePartHorisontalIcon_PersonalStories,currentScreenType:this.screenTypeWatcher};this.imagePillarCarouselOptionArgsAndType.push({optionArgs:a,optionType:t.ImagePillarVE})},r.prototype.createPromoPillarsArgs=function(){var e=i.UrlHelper.getInstance();this.promoPillarArguments=[{image:e.getHomepageContent(Icons.homePagePromoPillarIcon_0),imageMobile:e.getHomepageContent(Icons.homePagePromoPillarIcon_phone_0),title:Resources.PromoPillar0Title,content:Resources.PromoPillar0Content,imagePosition:"right",isStacked:this.arePillarsStacked,animationFlag:!0,ID:t.NewHomePageContentVE.promoPillarId_0,visible:!1,windowSize:this.windowSize},{image:e.getHomepageContent(Icons.homePagePromoPillarIcon_1),imageMobile:e.getHomepageContent(Icons.homePagePromoPillarIcon_phone_1),title:Resources.PromoPillar1Title,content:Resources.PromoPillar1Content,imagePosition:"left",isStacked:this.arePillarsStacked,animationFlag:!0,ID:t.NewHomePageContentVE.promoPillarId_1,visible:!1,windowSize:this.windowSize},{image:e.getHomepageContent(Icons.homePagePromoPillarIcon_2),imageMobile:e.getHomepageContent(Icons.homePagePromoPillarIcon_phone_2),title:Resources.PromoPillar2Title,content:Resources.PromoPillar2Content,imagePosition:"right",isStacked:this.arePillarsStacked,animationFlag:!0,ID:t.NewHomePageContentVE.promoPillarId_2,visible:!1,windowSize:this.windowSize},{image:e.getHomepageContent(Icons.homePagePromoPillarIcon_3),imageMobile:e.getHomepageContent(Icons.homePagePromoPillarIcon_phone_3),title:Resources.PromoPillar3Title,content:Resources.PromoPillar3Content,imagePosition:"left",isStacked:this.arePillarsStacked,animationFlag:!0,ID:t.NewHomePageContentVE.promoPillarId_3,visible:!1,windowSize:this.windowSize},{image:e.getHomepageContent(Icons.homePagePromoPillarIcon_4),imageMobile:e.getHomepageContent(Icons.homePagePromoPillarIcon_phone_4),title:Resources.PromoPillar4Title,content:Resources.PromoPillar4Content,imagePosition:"right",isStacked:this.arePillarsStacked,animationFlag:!0,ID:t.NewHomePageContentVE.promoPillarId_4,visible:!1,windowSize:this.windowSize}]},r.prototype.imagePillarCarouselArgs=function(){var e={optionArgsAndTypes:{value:this.imagePillarCarouselOptionArgsAndType},logString:"ImagePillarCarousel",pillarsVisible:5,windowSize:{watchable:this.windowSize},windowWidth:this.windowWidth,numColumns:{watchable:this.numColumns},carouselOffset:this.carouselOffset,nextButtonUniqueId:o.howToVideosNextButtonId,previousButtonUniqueId:o.howToVideosPreviousButtonId,currentScreenSizeWatcher:this.screenTypeWatcher,previousButtonClientActionButtonId:ClientAction.ButtonId.Home_CarouselPrevious,nextButtonClientActionButtonId:ClientAction.ButtonId.Home_CarouselNext,previousButtonDescription:Resources.HowToIdeasPreviousButtonDescription,nextButtonDescription:Resources.HowToIdeasNextButtonDescription,carouselMode:t.ECarouselMode.LoopedOneByOne,carouselDescription:Resources.ImagePillarHeader};return new TDB.ChildArgs(t.ImagePillarCarouselVE,e)},r.prototype.carouselTextTextArgs=function(e){return Resources.ImagePillarHeader},r.prototype.carouselTextClassNameArgs=function(e){return"carouselText carouselText_"+this.screenTypeWatcher.getWatchedValue(e)},r.prototype.testimonialCarouselArgs=function(){var e={windowWidth:this.windowWidth,callbackContext:this,urlHelper:i.UrlHelper.getInstance()};return new TDB.ChildArgs(t.UserTestimonialsCarouselVE,e)},r.prototype.calculateFollowUsText=function(e,t){return e.watchValue(this.showFollowText)?t:""},r.prototype.calculateFollowUsTextCssClass=function(e){return e.watchValue(this.showFollowText)?"homeFontIconFollowText":"homeFollowHiddenText"},r.prototype.getFollowLinkArgs=function(e,t,n,i,o,r,s,a){return{buttonId:s,cssClass:{value:"homeFollowSource"},fontIconName:n,fontIconSizeClass:i,fontIconWrapperClass:o,telemetryId:a,text:{value:t},textCssClass:{watchable:r},url:e,nativeKeyboardHandling:!0}},r.prototype.setMobileValues=function(e,t){this.setValues({arePillarsStacked:!0,windowSize:i.DeviceType.Mobile,showFollowText:!1,windowsWidth:e,currentScreenType:t})},r.prototype.setTabletValues=function(e,t){this.setValues({arePillarsStacked:!1,windowSize:i.DeviceType.Tablet,showFollowText:!1,windowsWidth:e,currentScreenType:t})},r.prototype.setDesktopValues=function(e,t){this.setValues({arePillarsStacked:!1,windowSize:i.DeviceType.Desktop,showFollowText:!0,windowsWidth:e,currentScreenType:t})},r.prototype.setValues=function(e){var t=this;TDB.applyUpdate(function(){t.arePillarsStacked.setValue(e.arePillarsStacked),t.showFollowText.setValue(e.showFollowText),t.windowSize.setValue(e.windowSize),t.windowWidth.setValue(e.windowsWidth),t.screenTypeWatcher.setValue(e.currentScreenType)}),this.featuredStoryCarousel&&this.featuredStoryCarousel.setWindowSize(e.windowSize),this.calculateNumColumns()},r.prototype.wrapperWidthWatcherInitArgs=function(){return this.updateWidth},r.prototype.updateWidth=function(e){var n=t.NewHomePageContentVE.screenWidth_360,i=t.NewHomePageContentVE.screenWidth_480,o=t.NewHomePageContentVE.screenWidth_768,r=t.NewHomePageContentVE.screenWidth_1024,s=t.NewHomePageContentVE.screenWidth_1366,a=t.NewHomePageContentVE.screenWidth_1920;e<=n||"Mobile"===CommonSettings.ClientDevice?this.setMobileValues(e,n):e<=i?this.setMobileValues(e,i):e<=o?this.setMobileValues(e,o):e<=r?this.setTabletValues(e,r):e<=s?this.setDesktopValues(e,s):this.setDesktopValues(e,a)},r.prototype.wrapperHeightWatcherInitArgs=function(){return this.updateHeight},r.prototype.updateHeight=function(e){var t=this;TDB.applyUpdate(function(){t.windowHeight.setValue(e)})},r.prototype.getCurrentScreenType=function(){return this.screenTypeWatcher.getValue()},r.prototype.fullScreenImageStyleArgs=function(e){var n,o=this.windowWidth.getWatchedValue(e),r=i.UrlHelper.getInstance();return n=o<=t.NewHomePageContentVE.screenWidth_360||"Mobile"===CommonSettings.ClientDevice?r.getHomepageContent(Icons.backgroundImage_360):o<=t.NewHomePageContentVE.screenWidth_480?r.getHomepageContent(Icons.backgroundImage_480):o<=t.NewHomePageContentVE.screenWidth_768?r.getHomepageContent(Icons.backgroundImage_768):o<=t.NewHomePageContentVE.screenWidth_1024?r.getHomepageContent(Icons.backgroundImage_1024):o<=t.NewHomePageContentVE.screenWidth_1366?r.getHomepageContent(Icons.backgroundImage_1366):o<=t.NewHomePageContentVE.screenWidth_1920?r.getHomepageContent(Icons.backgroundImage_1920):r.getHomepageContent(Icons.backgroundImage_3000),{backgroundImage:"url("+n+")"}},r.prototype.fullScreenImageClassNameArgs=function(e){return this.getMySwaysImageClass(e,"fullScreenImage_",CommonSettings.SiteUiRtl?" MirrorTransform":"")},r.prototype.showCallToActionNonMobileArgs=function(e){return!0},r.prototype.topButtonWrapperAttrArgs=function(){return{id:o.getStartedTopButtonWrapperId}},r.prototype.bottomButtonWrapperAttrArgs=function(){return{id:o.getStartedBottomButtonWrapperId}},r.prototype.productNameTextArgs=function(e){return Resources.ProductNameShort},r.prototype.productPreviewTextArgs=function(e){return Resources.ProductPreview},r.prototype.taglineTextArgs=function(e){return Resources.CatchPhrase2},r.prototype.taglineClassNameArgs=function(e){return"segoeUILight homeTaglinePolished homeTaglinePolished_"+this.screenTypeWatcher.getWatchedValue(e)},r.prototype.productPreviewClassNameArgs=function(e){return"homeProductPreviewPolished homeProductPreviewPolished_"+this.screenTypeWatcher.getWatchedValue(e)},r.prototype.productNameClassNameArgs=function(e){return"segoeUILight homeProductNamePolished homeProductNamePolished_"+this.screenTypeWatcher.getWatchedValue(e)},r.prototype.homeColumnChildPolishedClassNameArgs=function(e){return"homeColumnChildPolished homeColumnChildPolished_"+this.screenTypeWatcher.getWatchedValue(e)},r.prototype.imagePillarsArgs=function(){return this.imagePillars},r.prototype.promoPillarsArgs=function(){if(this.promoPillarArguments)return this.promoPillarArguments.map(function(e){return new TDB.ChildArgs(t.PromoPillarVE,e)})},r.prototype.homePromoPillarClassNameArgs=function(e){return"promoPillarsHolder promoPillarsHolder_"+this.screenTypeWatcher.getWatchedValue(e)},r.prototype.featuredTitleClassNameArgs=function(e){var t=this.windowSize.getWatchedValue(e);return"segoeUILight homeSectionTitlePolished homeSectionTitlePolished_"+i.DeviceType[t]},r.prototype.featuredStoryCarouselArgs=function(){return new TDB.ChildArgsNoModel(t.FeaturedStoryCarouselVE)},r.prototype.featuredTitleTextArgs=function(e){if(!CommonSettings.SiteUseAlternateUserTypeSpecificStrings)return Resources.FeaturedSwayPolishedHeader;switch(CommonSettings.CurrentUserType){case UserType.AAD_EDU:return Resources.FeaturedSwayEduHeaderMySwaysPage;default:return StoryLog.StructuredTraceTag(596125078,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.error,"Unexpected SiteUseAlternateUserTypeSpecificStrings BRS value.",{}),Resources.FeaturedSwayPolishedHeader}},r.prototype.footerArgs=function(){return new TDB.ChildArgsNoModel(t.SharedPageFooterVE)},r.prototype.showFollowUsTextArgs=function(e){return e.watchValue(this.showFollowText)},r.prototype.followUsTextArgs=function(e){return this.calculateFollowUsText(e,Resources.FollowUs)},r.prototype.followFacebookArgs=function(){var e=this.getFollowLinkArgs(LandingPageSettings.FollowFacebookUrl,Resources.FollowFacebook,FontIcons.FollowFacebookIcon,FontIcons.FollowFacebookIconSize,"homeFollowGlyph homeFollowFacebook",this.followTextCssClass,ClientAction.ButtonId.FollowLink_Facebook,o.followFacebookId);return new TDB.ChildArgs(t.LinkButtonVE,e)},r.prototype.followTwitterArgs=function(){var e=this.getFollowLinkArgs(LandingPageSettings.FollowTwitterUrl,Resources.FollowTwitter,FontIcons.FollowTwitterIcon,FontIcons.FollowTwitterIconSize,"homeFollowGlyph",this.followTextCssClass,ClientAction.ButtonId.FollowLink_Twitter,o.followTwitterId);return new TDB.ChildArgs(t.LinkButtonVE,e)},r.prototype.followBlogArgs=function(){var e=this.getFollowLinkArgs(LandingPageSettings.FollowBlogUrl,Resources.FollowBlog,FontIcons.FollowBlogIcon,FontIcons.FollowBlogIconSize,"homeFollowGlyph",this.followTextCssClass,ClientAction.ButtonId.FollowLink_Blog,o.followBlogkId);return new TDB.ChildArgs(t.LinkButtonVE,e)},r.prototype.registerEventHandler=function(e){t.DomEventRegister.getInstance().registerEventHandler(e)},r.prototype.unRegisterEventHandler=function(e){t.DomEventRegister.getInstance().unregisterEventHandler(e)},r.prototype.setTelemetryContext=function(e){this.interactionLogger.setTelemetryContext(e)},r.prototype.dispose=function(){this.unRegisterEventHandler(this.interactionLogger),e.prototype.dispose.apply(this,arguments)},r.prototype.enableAnimation=function(){this.disableAnimationWhileChevron=!1},r.prototype.calculateNumColumns=function(){var e,n,i,o,r=this,s=this.windowWidth.getValue();return s<=t.NewHomePageContentVE.screenWidth_480||"Mobile"===CommonSettings.ClientDevice?(n=t.NewHomePageContentVE.carouselWrapperWidth_120,i=t.NewHomePageContentVE.buttonSpaceNextPrevious_phone,o=s-2*t.NewHomePageContentVE.middlePartMargin_480-2*i):s<=t.NewHomePageContentVE.screenWidth_768?(n=t.NewHomePageContentVE.carouselWrapperWidth_170,i=t.NewHomePageContentVE.buttonSpaceNextPrevious,o=s-2*t.NewHomePageContentVE.middlePartMargin_768-2*i):s<=t.NewHomePageContentVE.screenWidth_1024?(n=t.NewHomePageContentVE.carouselWrapperWidth_170,o=s-2*t.NewHomePageContentVE.middlePartMargin_1024):(n=t.NewHomePageContentVE.carouselWrapperWidth_190,o=t.NewHomePageContentVE.availableSpace_1024),e=Math.max(1,Math.min(this.imagePillarCarouselOptionArgsAndType.length,Math.floor(o/(n+t.NewHomePageContentVE.carouselWrapperMinimumMargin)))),this.imagePillarCarousel.resetStartIndex(),TDB.applyUpdate(function(){r.carouselOffset.setValue(0),r.numColumns.setValue(e),r.carouselSpaceAvailable.setValue(o)}),!0},r.prototype.showPlatformsArgs=function(){return LandingPageSettings.SwayPlatformsEnabled},r.prototype.platformSupportArgs=function(){var e={web:{buttonId:ClientAction.ButtonId.Home_Platform_Web,telemetryId:o.platformWebButtonId},win10:{buttonId:ClientAction.ButtonId.Home_Platform_Windows,telemetryId:o.platformWindowsButtonId}};return new TDB.ChildArgs(t.PlatformSupportVE,e)},r.prototype.upsellHolderClassNameArgs=function(e){var n=this.screenTypeWatcher.getWatchedValue(e),i="upsellHolder_"+this.screenTypeWatcher.getWatchedValue(e);return n===t.NewHomePageContentVE.screenWidth_1024&&"ml-in"===CommonSettings.UserLocaleString.toLowerCase()&&(i+=" upsellHolderExtended"),i},r.prototype.upsellBackgroundImageClassNameArgs=function(e){var n="upsellBackgroundImage";return this.screenTypeWatcher.getWatchedValue(e)===t.NewHomePageContentVE.screenWidth_1024&&"ml-in"===CommonSettings.UserLocaleString.toLowerCase()&&(n+="Extended"),n},r.prototype.upsellContentClassNameArgs=function(e){return"upsellContent_"+this.screenTypeWatcher.getWatchedValue(e)},r.prototype.upsellHeaderArgs=function(){var e={messageCss:"upsellHeaderOffice365",message:Resources.Office365};return ResourceManager.resolveWithChildArgs(Resources.UpsellHeading,[e],"upsellHeader")},r.prototype.upsellTextTextArgs=function(){return Resources.UpsellText},r.prototype.upsellLinkArgs=function(){var e={messageCss:"upsellLink segoeUISemibold",message:Resources.Office365};return ResourceManager.resolveWithChildArgs(Resources.UpsellLink,[e],"upsellLink")},r.prototype.upsellLinkAttrArgs=function(){var e=i.UrlHelper.getInstance(),t={};return t.href=e.getOffice365UpsellUrl(),t.target="_blank",t[Aria.Attributes.Label]=ResourceManager.ResolveString(Resources.UpsellLink,[Resources.Office365]),t[Aria.Attributes.Role]=Aria.Roles.Link,t},r.prototype.upsellBackgroundImageStyleArgs=function(e){var t,n=this.windowWidth.getWatchedValue(e),o=i.UrlHelper.getInstance();return t=n>1920?Icons.homepageUpsell_3000:n>1366?Icons.homepageUpsell_1920:n>768?Icons.homepageUpsell_1366:Icons.homepageUpsell_768,{backgroundImage:"url("+o.getHomepageContent(t)+")"}},r.prototype.chevronArgs=function(){var e={fontIconName:{value:CommonSettings.SiteUiRtl?FontIcons.PreviousIcon:FontIcons.NextIcon},fontIconSizeClass:"fontIconSize20x20",fontIconWrapperClass:{value:"upsellChevronWrapper"}};return new TDB.ChildArgs(t.FontIconVE,e)},r.prototype.homeHeroContentWrapperClassNameArgs=function(e){return this.getMySwaysImageClass(e,"homeHeroContentWrapper_","")},r.prototype.getMySwaysImageClass=function(e,n,i){var o=this.screenTypeWatcher.getWatchedValue(e);return n+(o===t.NewHomePageContentVE.screenWidth_480&&"ml-in"===CommonSettings.UserLocaleString.toLowerCase()?t.NewHomePageContentVE.screenWidth_768:o)+i},r.promoPillarId_0="0",r.promoPillarId_1="1",r.promoPillarId_2="2",r.promoPillarId_3="3",r.promoPillarId_4="4",r.currentScreenType=1920,r.availableSpace_1024=1024,r.middlePartMargin_1024=60,r.middlePartMargin_768=28,r.middlePartMargin_480=20,r.carouselWrapperMarginLeftRight_480=20,r.carouselWrapperMarginLeftRight_768=28,r.carouselWrapperMarginLeftRight_1024=60,r.middlePartWidth=1028,r.carouselWrapperMinimumMargin=10,r.buttonSpaceNextPrevious=40,r.buttonSpaceNextPrevious_phone=40,r.carouselWrapperWidth_190=192,r.carouselWrapperWidth_170=172,r.carouselWrapperWidth_120=122,r.screenWidth_360=360,r.screenWidth_480=480,r.screenWidth_600=600,r.screenWidth_768=768,r.screenWidth_1024=1024,r.screenWidth_1080=1080,r.screenWidth_1366=1366,r.screenWidth_1600=1600,r.screenWidth_1920=1920,r.homeContentDivId="homeContentPolished",r.appBarHeight=UX.topBarHeight,r}(t.RegionViewElement);t.NewHomePageContentVEBase=r}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=e.Common,i=function(e){function t(t,n){var i=e.call(this,t)||this;return i.args=n,i._longStringLanguages=["km-kh"],i}return __extends(t,e),t.prototype.promoPillarTitleTextArgs=function(e){return this.args.title},t.prototype.promoPillarTitleClassNameArgs=function(e){var t=this.args.windowSize.getWatchedValue(e);return"segoeUILight promoPillarTitle_"+n.DeviceType[t]},t.prototype.promoPillarTitleStyleArgs=function(e){return this.wordWrapStyleArgs()},t.prototype.promoPillarContentTextArgs=function(e){return this.args.content},t.prototype.promoPillarContentStyleArgs=function(e){return this.wordWrapStyleArgs()},t.prototype.rootClassNameArgs=function(e){var t=this.args.windowSize.getWatchedValue(e);return"left"===this.args.imagePosition?"promoPillar promoPillarLeft_"+n.DeviceType[t]:"promoPillar promoPillarRight_"+n.DeviceType[t]},t.prototype.rootAttrArgs=function(e){return{id:"promoPillar_"+this.args.ID}},t.prototype.contentClassNameArgs=function(e){return e.watchValue(this.args.isStacked)?"":"homeColumnChild"},t.prototype.promoPillarImageClassNameArgs=function(e){var t=this.args.windowSize.getWatchedValue(e);return"disableDraggability promoPillarImage_"+n.DeviceType[t]},t.prototype.promoPillarImageStyleArgs=function(e){var i,o,r=this.args.windowSize.getWatchedValue(e);if(i=this.args.imagePosition===t.floatImageLeft?t.floatImageLeft:t.floatImageRight,o=r===n.DeviceType.NotSet?void 0:r===n.DeviceType.Mobile?this.args.imageMobile:this.args.image)return{backgroundImage:"url("+o+")",float:i}},t.prototype.promoPillarImageHolderSideClassNameArgs=function(e){var i=this.args.windowSize.getWatchedValue(e);return this.args.imagePosition===t.floatImageLeft?"promoPillarImageHolderLeft_"+n.DeviceType[i]+" promoPillarImageHolder_"+n.DeviceType[i]:"promoPillarImageHolderRight_"+n.DeviceType[i]+" promoPillarImageHolder_"+n.DeviceType[i]},t.prototype.promoPillarTextHolderClassNameArgs=function(e){var t=this.args.windowSize.getWatchedValue(e);return"promoPillarTextHolder_"+n.DeviceType[t]},t.prototype.setVisibleAttribute=function(e){this.args.visible=e},t.prototype.getVisibleAttribute=function(){return this.args.visible},t.prototype.getDisplayedFlag=function(){return this.args.animationFlag},t.prototype.setDisplayedFlag=function(){this.args.animationFlag=!1},t.prototype.wordWrapStyleArgs=function(){return ArrayExtensions.contains(this._longStringLanguages,CommonSettings.UserLocaleString.toLowerCase())?{"word-wrap":"break-word"}:{}},t.floatImageLeft="left",t.floatImageRight="right",t}(TDB.FocusableViewElement);t.PromoPillarVEBase=i}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e,n){var i=t.call(this,e)||this;return i.args=n,i.hover=TDB.watchableTag(596125141,e,!1),i.isStacked=TDB.watchableOption(i,i.args.isStacked),i}return __extends(n,t),n.prototype.imageContentFirstRowTextArgs=function(){return this.args.contentFirstRow},n.prototype.imageContentFirstRowClassNameArgs=function(e){return this.args.windowWidth.getWatchedValue(e),"imagePillarContentFirstRow_"+this.args.currentScreenType.getWatchedValue(e)},n.prototype.imagePillarWrapperClassNameArgs=function(e){return this.args.windowWidth.getWatchedValue(e),"imagePillar_"+this.args.currentScreenType.getWatchedValue(e)},n.prototype.contentClassNameArgs=function(e){return e.watchValue(this.isStacked)?"":"homeColumnChild"},n.prototype.imageIconStyleArgs=function(t){return this.args.windowWidth.getWatchedValue(t),this.args.currentScreenType.getWatchedValue(t)===e.NewHomePageContentVE.screenWidth_360||this.args.currentScreenType.getWatchedValue(t)===e.NewHomePageContentVE.screenWidth_480?{backgroundImage:"url("+this.args.imagePhone+")"}:{backgroundImage:"url("+this.args.image+")"}},n.prototype.imageIconClassNameArgs=function(e){return this.args.windowWidth.getWatchedValue(e),"imagePillarIcon_"+this.args.currentScreenType.getWatchedValue(e)},n.prototype.imagePillarHolderAttrArgs=function(){return{id:"MiddlePartHorisontalIcon_"+this.args.telemetryId}},n.prototype.imagePillarHolderStyleArgs=function(t){var i,o=this.args.numColumns.getWatchedValue(t),r=this.args.windowWidth.getWatchedValue(t),s=this.args.carouselSpaceAvailable.getWatchedValue(t),a=this.args.carouselOffset.getWatchedValue(t);if(i=r<=e.NewHomePageContentVE.screenWidth_480||"Mobile"===CommonSettings.ClientDevice?n.imagePillarSize_480:r<=e.NewHomePageContentVE.screenWidth_1024?n.imagePillarSize_1024:n.imagePillarSize_1920,this.args.position===a)return{"margin-left":"0px","margin-right":"0px"};var l=(s-o*i)/(o-1)+"px";return{"margin-left":CommonSettings.SiteUiRtl?"0px":l,"margin-right":CommonSettings.SiteUiRtl?l:"0px"}},n.prototype.imagePillarHolderClassNameArgs=function(e){return"imagePillarHolder_"+this.args.currentScreenType.getWatchedValue(e)},n.prototype.canActivate=function(){return!1},n.prototype.mouseDown=function(e){return TDB.EventPropagation.Bubble},n.prototype.mouseClicked=function(e){return TDB.EventPropagation.Bubble},n.imagePillarSize_1920=200,n.imagePillarSize_1024=170,n.imagePillarSize_480=130,n}(TDB.Control);e.ImagePillarVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(t){function n(e,n){var i=t.call(this,e)||this;return i.args=n,i.args=n,i}return __extends(n,t),n.prototype.imageContentFirstRowTextArgs=function(){return this.args.contentFirstRow},n.prototype.imageContentFirstRowClassNameArgs=function(e){return"imagePillarContentFirstRowNewVisualDesign_"+this.args.currentScreenWidthClass.getWatchedValue(e)},n.prototype.imagePillarWrapperClassNameArgs=function(e){return"imagePillarNewVisualDesign_"+this.args.currentScreenWidthClass.getWatchedValue(e)},n.prototype.imagePillarWrapperStyleArgs=function(t){return this.args.currentScreenWidthClass.getWatchedValue(t)<e.NewHomePageContentVE.screenWidth_1024?{float:"none"}:{float:this.args.floatProperty}},n.prototype.imageIconStyleArgs=function(t){return this.args.currentScreenWidthClass.getWatchedValue(t)===e.NewHomePageContentVE.screenWidth_360||this.args.currentScreenWidthClass.getWatchedValue(t)===e.NewHomePageContentVE.screenWidth_480?{backgroundImage:"url("+this.args.imagePhone+")"}:{backgroundImage:"url("+this.args.image+")"}},n.prototype.imageIconClassNameArgs=function(e){return"imagePillarIconNewVisualDesign_"+this.args.currentScreenWidthClass.getWatchedValue(e)},n.prototype.imagePillarHolderAttrArgs=function(){return{id:"MiddlePartHorisontalIcon_"+this.args.telemetryId}},n.prototype.imagePillarHolderClassNameArgs=function(e){return"imagePillarHolderNewVisualDesign_"+this.args.currentScreenWidthClass.getWatchedValue(e)},n.prototype.canActivate=function(){return!1},n.prototype.mouseDown=function(e){return TDB.EventPropagation.Bubble},n.prototype.mouseClicked=function(e){return TDB.EventPropagation.Bubble},n.imagePillarSize_1920=200,n.imagePillarSize_1024=170,n.imagePillarSize_480=130,n}(TDB.Control);e.ImagePillarListItemVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=ClientAction.StatisticalMeasure,i=e.Common,o=e.Common.TelemetryConstants,r=function(e){function r(n){var o=e.call(this,n,TDB.ControlSetFeatures.AutoEnter|TDB.ControlSetFeatures.Isolated|TDB.ControlSetFeatures.PreserveFocusContext)||this;return o.imagePillarCarouselOptionArgsAndType=[],o.interactionLogger=new t.NewVisualDesignHomePageInteractionTelemetry,o.windowSize=TDB.watchableTag(596455630,o,i.DeviceType.NotSet),o.windowWidth=TDB.watchableTag(596455631,o,t.NewVisualDesignHomePageContentVE.screenWidth_1920),o.windowHeight=TDB.watchableTag(596455632,o,0),o.currentScreenWidthClass=TDB.watchableTag(596455636,o,1920),o.createImagePillars(),o.createPromoPillarsArgs(),o.showFollowText=TDB.watchableTag(596455637,o,!0),o.followTextCssClass=TDB.watcherTag(596455638,o,o,o.calculateFollowUsTextCssClass),o.registerEventHandler(o.interactionLogger),o}return __extends(r,e),r.prototype.initializeHomeContentElement=function(){return this.homeContentDiv=window.document.getElementById(r.homeContentDivId),this.homeContentDiv},r.prototype.wrapperEventsInitArgs=function(){var e=this;return{scroll:function(t){return e.handleScroll()}}},r.prototype.wrapperStyleArgs=function(e){var t=CookieConsent.isCookieConsentNotificationVisible(e)?CookieConsent.watchedConsentBannerHeight(e):0,n=r.appBarHeight+t,i="calc(100% - "+n+"px)";return CommonSettings.UniversalHeaderFooterHomepageEnabled?{top:"0px","overflow-y":"visible",height:i}:{top:n+"px",height:i}},r.prototype.handleScroll=function(){var e=this.homeContentDiv?this.homeContentDiv:this.initializeHomeContentElement();if(e){var t=e.scrollTop,i=e.scrollHeight-document.body.clientHeight+r.appBarHeight,o=Math.floor(t/i*100);ActionLogger.ObserveClientMeasure(n[n.HomePageScrollChange],{position:t,percent:o})}else StoryLog.TraceTag(596455639,Diag.ULSCat.msoulscat_Story_Site,Diag.ULSTraceLevel.warning,"Home content div is undefined - failed to log scroll on homepage.");return!1},r.prototype.callToActionNonMobileArgs=function(){var e={wrapperCssClass:"homeCallToActionPolished",buttonCssClass:"homeCallToActionButtonPolished",buttonId:ClientAction.ButtonId.GetStartedTop,buttonText:Resources.HomeCallToActionNew,freDialogArgs:{windowWidth:this.windowWidth,windowHeight:this.windowHeight},cssClassSuffix:{compute:new TDB.ComputedOptionArgs(this,this.getCallToActionButtonCssClassSuffix)},telemetryId:o.getStartedTopButtonId};return new TDB.ChildArgs(t.CallToActionButtonVE,e)},r.prototype.bottomButtonArgs=function(){var e={wrapperCssClass:"bottomButtonWrapper",buttonCssClass:"bottomButton",buttonId:ClientAction.ButtonId.GetStartedBottom,buttonText:Resources.HomeCallToActionNew,freDialogArgs:{windowWidth:this.windowWidth,windowHeight:this.windowHeight},cssClassSuffix:{compute:new TDB.ComputedOptionArgs(this,this.getCallToActionButtonCssClassSuffix)},telemetryId:o.getStartedBottomButtonId};return new TDB.ChildArgs(t.CallToActionButtonVE,e)},r.prototype.getCallToActionButtonCssClassSuffix=function(e){return i.DeviceType[this.windowSize.getWatchedValue(e)]||""},r.prototype.shouldShowUserTestimonialsArgs=function(){return CommonSettings.SiteHomepageUserTestimonialsEnabled},r.prototype.createImagePillars=function(){for(var e=i.UrlHelper.getInstance(),n=[{image:Icons.homePageIconNewVisualDesign_0,imagePhone:Icons.homePageIconNewVisualDesign_phone_0,contentFirstRow:Resources.ImagePillar2Text,telemetryId:o.MiddlePartHorisontalIcon_Newsletters,floatProperty:CommonSettings.SiteUiRtl?"right":"left"},{image:Icons.homePageIconNewVisualDesign_1,imagePhone:Icons.homePageIconNewVisualDesign_phone_1,contentFirstRow:Resources.ImagePillar1Text,telemetryId:o.MiddlePartHorisontalIcon_Presentations,floatProperty:"none"},{image:Icons.homePageIconNewVisualDesign_2,imagePhone:Icons.homePageIconNewVisualDesign_phone_2,contentFirstRow:Resources.ImagePillar2TextNewVisualDesign,telemetryId:o.MiddlePartHorisontalIcon_Communications,floatProperty:CommonSettings.SiteUiRtl?"left":"right"}],r=0;r<t.NewVisualDesignHomePageContentVE.imagePillarsCount;r++)this.addImagePillarToImagePillarCarousel(r,n[r],e)},r.prototype.addImagePillarToImagePillarCarousel=function(e,t,n){var i={image:n.getHomepageContent(t.image),imagePhone:n.getHomepageContent(t.imagePhone),contentFirstRow:t.contentFirstRow,telemetryId:t.telemetryId,currentScreenWidthClass:this.currentScreenWidthClass,floatProperty:t.floatProperty};this.imagePillarCarouselOptionArgsAndType.push(i)},r.prototype.createPromoPillarsArgs=function(){var e=i.UrlHelper.getInstance(),n=[{video_600_Tall:Icons.promoPillarVideo0_600_Tall,video_310_Tall:Icons.promoPillarVideo0_310_Tall,video_600_Regular:Icons.promoPillarVideo0_600_Regular,video_310_Regular:Icons.promoPillarVideo0_310_Regular,image_600:Icons.promoPillarVideo0_600_Image,image_310:Icons.promoPillarVideo0_310_Image,title:Resources.PromoPillar0TitleNewVisualDesign,content:Resources.PromoPillar0ContentNewVisualDesign,videoDescription:Resources.PromoPillar0VideoDescription,videoPlayButtonDescription:Resources.PlayVideoButtonDescription0,videoPauseButtonDescription:Resources.PauseVideoButtonDescription0,videoWidth:t.NewVisualDesignHomePageContentVE.promoPillarVideoWidth,videoHeight_Tall:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeight0_Tall,videoHeight_Regular:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeight0_Regular,videoWidthPhone:t.NewVisualDesignHomePageContentVE.promoPillarVideoWidthPhone,videoHeightPhone_Tall:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeightPhone0_Tall,videoHeightPhone_Regular:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeightPhone0_Regular,muted:!0},{video_600_Tall:Icons.promoPillarVideo1_600_Tall,video_310_Tall:Icons.promoPillarVideo1_310_Tall,video_600_Regular:Icons.promoPillarVideo1_600_Regular,video_310_Regular:Icons.promoPillarVideo1_310_Regular,image_600:Icons.promoPillarVideo1_600_Image,image_310:Icons.promoPillarVideo1_310_Image,title:Resources.PromoPillar1TitleNewVisualDesign,content:Resources.PromoPillar1ContentNewVisualDesign,videoDescription:Resources.PromoPillar1VideoDescription,videoPlayButtonDescription:Resources.PlayVideoButtonDescription1,videoPauseButtonDescription:Resources.PauseVideoButtonDescription1,videoWidth:t.NewVisualDesignHomePageContentVE.promoPillarVideoWidth,videoHeight_Tall:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeight1_Tall,videoHeight_Regular:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeight1_Regular,videoWidthPhone:t.NewVisualDesignHomePageContentVE.promoPillarVideoWidthPhone,videoHeightPhone_Tall:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeightPhone1_Tall,videoHeightPhone_Regular:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeightPhone1_Regular,muted:!0},{video_600_Tall:Icons.promoPillarVideo2_600_Tall,video_310_Tall:Icons.promoPillarVideo2_310_Tall,video_600_Regular:Icons.promoPillarVideo2_600_Regular,video_310_Regular:Icons.promoPillarVideo2_310_Regular,image_600:Icons.promoPillarVideo2_600_Image,image_310:Icons.promoPillarVideo2_310_Image,title:Resources.PromoPillar2TitleNewVisualDesign,content:Resources.PromoPillar2ContentNewVisualDesign,videoDescription:Resources.PromoPillar2VideoDescription,videoPlayButtonDescription:Resources.PlayVideoButtonDescription2,videoPauseButtonDescription:Resources.PauseVideoButtonDescription2,videoWidth:t.NewVisualDesignHomePageContentVE.promoPillarVideoWidth,videoHeight_Tall:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeight2_Tall,videoHeight_Regular:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeight2_Regular,videoWidthPhone:t.NewVisualDesignHomePageContentVE.promoPillarVideoWidthPhone,videoHeightPhone_Tall:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeightPhone2_Tall,videoHeightPhone_Regular:t.NewVisualDesignHomePageContentVE.promoPillarVideoHeightPhone2_Regular,muted:!0}];this.promoPillarArguments=[];for(var o=0;o<t.NewVisualDesignHomePageContentVE.promoPillarsCount;o++)this.addPromoPillarToPromoPillarCarousel(o,n[o],e)},r.prototype.addPromoPillarToPromoPillarCarousel=function(e,t,n){var i={video_600_Tall:t.video_600_Tall,video_310_Tall:t.video_310_Tall,video_600_Regular:t.video_600_Regular,video_310_Regular:t.video_310_Regular,image_600:t.image_600,image_310:t.image_310,title:t.title,content:t.content,imagePosition:e%2==1?"right":"left",ID:r.promoPillarIds[e],windowSize:this.windowSize,windowWidth:this.windowWidth,videoSourceFormatter:n.getCrossOriginVideo,backgroundColor:e%2==1?"#ffffff":"#f3f3f3",currentScreenWidthClass:this.currentScreenWidthClass,videoDescription:t.videoDescription,videoPlayButtonDescription:t.videoPlayButtonDescription,videoPauseButtonDescription:t.videoPauseButtonDescription,videoWidth:t.videoWidth,videoHeight_Tall:t.videoHeight_Tall,videoHeight_Regular:t.videoHeight_Regular,videoWidthPhone:t.videoWidthPhone,videoHeightPhone_Tall:t.videoHeightPhone_Tall,videoHeightPhone_Regular:t.videoHeightPhone_Regular};this.promoPillarArguments.push(i)},r.prototype.ImagePillarListNewVisualDesignArgs=function(){var e={optionArgsAndTypes:this.imagePillarCarouselOptionArgsAndType,windowWidth:this.windowWidth,imagePillarsListDescription:Resources.ImagePillarHeaderNewVisualDesign,currentScreenSizeWatcher:this.currentScreenWidthClass};return new TDB.ChildArgs(t.ImagePillarListNewVisualDesignVE,e)},r.prototype.carouselTextTextArgs=function(e){return Resources.ImagePillarHeaderNewVisualDesign},r.prototype.carouselTextClassNameArgs=function(e){return"carouselText carouselTextNewVisualDesign_"+this.currentScreenWidthClass.getWatchedValue(e)},r.prototype.testimonialCarouselArgs=function(){var e={windowWidth:this.windowWidth,callbackContext:this,urlHelper:i.UrlHelper.getInstance()};return new TDB.ChildArgs(t.UserTestimonialsCarouselVE,e)},r.prototype.calculateFollowUsText=function(e,t){return e.watchValue(this.showFollowText)?t:""},r.prototype.calculateFollowUsTextCssClass=function(e){return e.watchValue(this.showFollowText)?"homeFontIconFollowText":"homeFollowHiddenText"},r.prototype.getFollowLinkArgs=function(e,t,n,i,o,r,s,a){return{buttonId:s,cssClass:{value:"homeFollowSource"},fontIconName:n,fontIconSizeClass:i,fontIconWrapperClass:o,telemetryId:a,text:{value:t},textCssClass:{watchable:r},url:e,nativeKeyboardHandling:!0}},r.prototype.setMobileValues=function(e,t){this.setValues({windowSize:i.DeviceType.Mobile,showFollowText:!1,windowsWidth:e,currentScreenWidthClass:t})},r.prototype.setTabletValues=function(e,t){this.setValues({windowSize:i.DeviceType.Tablet,showFollowText:!1,windowsWidth:e,currentScreenWidthClass:t})},r.prototype.setDesktopValues=function(e,t){this.setValues({windowSize:i.DeviceType.Desktop,showFollowText:!0,windowsWidth:e,currentScreenWidthClass:t})},r.prototype.setValues=function(e){var t=this;TDB.applyUpdate(function(){t.showFollowText.setValue(e.showFollowText),t.windowSize.setValue(e.windowSize),t.windowWidth.setValue(e.windowsWidth),t.currentScreenWidthClass.setValue(e.currentScreenWidthClass)}),this.featuredStoryCarousel&&this.featuredStoryCarousel.setWindowSize(e.windowSize)},r.prototype.wrapperWidthWatcherInitArgs=function(){return this.updateWidth},r.prototype.updateWidth=function(e){var n=t.NewVisualDesignHomePageContentVE.screenWidth_360,i=t.NewVisualDesignHomePageContentVE.screenWidth_480,o=t.NewVisualDesignHomePageContentVE.screenWidth_768,r=t.NewVisualDesignHomePageContentVE.screenWidth_1024,s=t.NewVisualDesignHomePageContentVE.screenWidth_1366,a=t.NewVisualDesignHomePageContentVE.screenWidth_1920;e<=n||"Mobile"===CommonSettings.ClientDevice?this.setMobileValues(e,n):e<=i?this.setMobileValues(e,i):e<=o?this.setMobileValues(e,o):e<=r?this.setTabletValues(e,r):e<=s?this.setDesktopValues(e,s):this.setDesktopValues(e,a)},r.prototype.wrapperHeightWatcherInitArgs=function(){return this.updateHeight},r.prototype.updateHeight=function(e){var t=this;TDB.applyUpdate(function(){t.windowHeight.setValue(e)})},r.prototype.getCurrentScreenType=function(){return this.currentScreenWidthClass.getValue()},r.prototype.fullScreenImageStyleArgs=function(e){var n,o=this.windowWidth.getWatchedValue(e),r=i.UrlHelper.getInstance();return n=o<=t.NewVisualDesignHomePageContentVE.screenWidth_360||"Mobile"===CommonSettings.ClientDevice?r.getHomepageContent(Icons.backgroundImage_360):o<=t.NewVisualDesignHomePageContentVE.screenWidth_480?r.getHomepageContent(Icons.backgroundImage_480):o<=t.NewVisualDesignHomePageContentVE.screenWidth_768?r.getHomepageContent(Icons.backgroundImage_768):o<=t.NewVisualDesignHomePageContentVE.screenWidth_1024?r.getHomepageContent(Icons.backgroundImage_1024):o<=t.NewVisualDesignHomePageContentVE.screenWidth_1366?r.getHomepageContent(Icons.backgroundImage_1366):o<=t.NewVisualDesignHomePageContentVE.screenWidth_1920?r.getHomepageContent(Icons.backgroundImage_1920):r.getHomepageContent(Icons.backgroundImage_3000),{backgroundImage:"url("+n+")"}},r.prototype.fullScreenImageClassNameArgs=function(e){return this.getMySwaysImageClass(e,"fullScreenImage_",CommonSettings.SiteUiRtl?" MirrorTransform":"")},r.prototype.showCallToActionNonMobileArgs=function(e){return!0},r.prototype.topButtonWrapperAttrArgs=function(){return{id:o.getStartedTopButtonWrapperId}},r.prototype.bottomButtonWrapperAttrArgs=function(){return{id:o.getStartedBottomButtonWrapperId}},r.prototype.productNameTextArgs=function(e){return Resources.ProductNameShort},r.prototype.productPreviewTextArgs=function(e){return Resources.ProductPreview},r.prototype.taglineTextArgs=function(e){return Resources.HeroCatchPhrase},r.prototype.taglineClassNameArgs=function(e){return"segoeUILight homeTaglinePolished homeTaglinePolished_"+this.currentScreenWidthClass.getWatchedValue(e)},r.prototype.productPreviewClassNameArgs=function(e){return"homeProductPreviewPolished homeProductPreviewPolished_"+this.currentScreenWidthClass.getWatchedValue(e)},r.prototype.productNameClassNameArgs=function(e){return"segoeUILight homeProductNamePolished homeProductNamePolished_"+this.currentScreenWidthClass.getWatchedValue(e)},r.prototype.homeColumnChildPolishedClassNameArgs=function(e){return"homeColumnChildPolished homeColumnChildPolished_"+this.currentScreenWidthClass.getWatchedValue(e)},r.prototype.imagePillarsArgs=function(){return this.imagePillars},r.prototype.promoPillarsVisualDesignArgs=function(){if(this.promoPillarArguments)return this.promoPillarArguments.map(function(e){return new TDB.ChildArgs(t.PromoPillarVideoVE,e)})},r.prototype.homePromoPillarClassNameArgs=function(e){return"promoPillarsHolderNewVisualDesign promoPillarsHolderNewVisualDesign_"+this.currentScreenWidthClass.getWatchedValue(e)},r.prototype.featuredStoryCarouselArgs=function(){return new TDB.ChildArgsNoModel(t.FeaturedStoryCarouselVE)},r.prototype.footerArgs=function(){return new TDB.ChildArgsNoModel(t.SharedPageFooterVE)},r.prototype.showFollowUsTextArgs=function(e){return e.watchValue(this.showFollowText)},r.prototype.followUsTextArgs=function(e){return this.calculateFollowUsText(e,Resources.FollowUs)},r.prototype.followFacebookArgs=function(){var e=this.getFollowLinkArgs(LandingPageSettings.FollowFacebookUrl,Resources.FollowFacebook,FontIcons.FollowFacebookIcon,FontIcons.FollowFacebookIconSize,"homeFollowGlyph homeFollowFacebook",this.followTextCssClass,ClientAction.ButtonId.FollowLink_Facebook,o.followFacebookId);return new TDB.ChildArgs(t.LinkButtonVE,e)},r.prototype.followTwitterArgs=function(){var e=this.getFollowLinkArgs(LandingPageSettings.FollowTwitterUrl,Resources.FollowTwitter,FontIcons.FollowTwitterIcon,FontIcons.FollowTwitterIconSize,"homeFollowGlyph",this.followTextCssClass,ClientAction.ButtonId.FollowLink_Twitter,o.followTwitterId);return new TDB.ChildArgs(t.LinkButtonVE,e)},r.prototype.followBlogArgs=function(){var e=this.getFollowLinkArgs(LandingPageSettings.FollowBlogUrl,Resources.FollowBlog,FontIcons.FollowBlogIcon,FontIcons.FollowBlogIconSize,"homeFollowGlyph",this.followTextCssClass,ClientAction.ButtonId.FollowLink_Blog,o.followBlogkId);return new TDB.ChildArgs(t.LinkButtonVE,e)},r.prototype.registerEventHandler=function(e){t.DomEventRegister.getInstance().registerEventHandler(e)},r.prototype.unRegisterEventHandler=function(e){t.DomEventRegister.getInstance().unregisterEventHandler(e)},r.prototype.setTelemetryContext=function(e){this.interactionLogger.setTelemetryContext(e)},r.prototype.dispose=function(){this.unRegisterEventHandler(this.interactionLogger),e.prototype.dispose.apply(this,arguments)},r.prototype.showPlatformsArgs=function(){return LandingPageSettings.SwayPlatformsEnabled},r.prototype.platformSupportArgs=function(){var e={web:{buttonId:ClientAction.ButtonId.Home_Platform_Web,telemetryId:o.platformWebButtonId},win10:{buttonId:ClientAction.ButtonId.Home_Platform_Windows,telemetryId:o.platformWindowsButtonId}};return new TDB.ChildArgs(t.PlatformSupportVE,e)},r.prototype.upsellHolderClassNameArgs=function(e){var n=this.currentScreenWidthClass.getWatchedValue(e),i="upsellHolderNewVisualDesign_"+this.currentScreenWidthClass.getWatchedValue(e);return n===t.NewVisualDesignHomePageContentVE.screenWidth_1024&&"ml-in"===CommonSettings.UserLocaleString.toLowerCase()&&(i+=" upsellHolderExtended"),i},r.prototype.upsellBackgroundImageClassNameArgs=function(e){var n="upsellBackgroundImage";return this.currentScreenWidthClass.getWatchedValue(e)===t.NewVisualDesignHomePageContentVE.screenWidth_1024&&"ml-in"===CommonSettings.UserLocaleString.toLowerCase()&&(n+="Extended"),n},r.prototype.upsellContentClassNameArgs=function(e){return"upsellContentNewVisualDesign_"+this.currentScreenWidthClass.getWatchedValue(e)},r.prototype.upsellHeaderVisualDesignArgs=function(){var e={messageCss:"upsellHeaderOffice365",message:Resources.Office365};return ResourceManager.resolveWithChildArgs(Resources.UpsellHeading,[e],"upsellHeader")},r.prototype.upsellTextTextArgs=function(){return Resources.UpsellText},r.prototype.upsellLinkElements=function(){var e={messageCss:"upsellLink segoeUISemibold",message:Resources.Office365};return ResourceManager.resolveWithChildArgs(Resources.UpsellLink,[e],"upsellLink")},r.prototype.chevronElement=function(){var e={fontIconName:{value:CommonSettings.SiteUiRtl?FontIcons.PreviousIcon:FontIcons.NextIcon},fontIconSizeClass:"fontIconSize20x20",fontIconWrapperClass:{value:"upsellChevronWrapper"}};return new TDB.ChildArgs(t.FontIconVE,e)},r.prototype.upsellLinkArgs=function(){var e=this.upsellLinkElements();e.push(this.chevronElement());var n={url:i.UrlHelper.getInstance().getOffice365UpsellUrl(),target:"_blank",cssClass:{value:"upsellLinkWrapper"},buttonId:ClientAction.ButtonId.HomepageO365UpsellLink,telemetryId:o.homepageO365UpsellId,nativeKeyboardHandling:!0,customContentElement:new TDB.ChildArgs(t.CompositeVE,{components:e})};return new TDB.ChildArgs(t.LinkButtonVE,n)},r.prototype.upsellBackgroundImageStyleArgs=function(e){var t,n=this.windowWidth.getWatchedValue(e),o=i.UrlHelper.getInstance();return t=n>1920?Icons.homepageUpsell_3000:n>1366?Icons.homepageUpsell_1920:n>768?Icons.homepageUpsell_1366:Icons.homepageUpsell_768,{backgroundImage:"url("+o.getHomepageContent(t)+")"}},r.prototype.homeHeroContentWrapperClassNameArgs=function(e){return this.getMySwaysImageClass(e,"homeHeroContentWrapper_","")},r.prototype.getMySwaysImageClass=function(e,n,i){var o=this.currentScreenWidthClass.getWatchedValue(e),r=this.isExtendedHeroImageHeightNeeded(),s=o===t.NewVisualDesignHomePageContentVE.screenWidth_480&&r?t.NewVisualDesignHomePageContentVE.screenWidth_768:o,a=n+s;return r&&(a+=" extendedHeroImageHeight_"+s),a+i},r.prototype.isExtendedHeroImageHeightNeeded=function(){return"ml-in"===CommonSettings.UserLocaleString.toLowerCase()},r.promoPillarIds=["0","1","2"],r.currentScreenWidthClass=1920,r.screenWidth_360=360,r.screenWidth_480=480,r.screenWidth_600=600,r.screenWidth_768=768,r.screenWidth_1024=1024,r.screenWidth_1080=1080,r.screenWidth_1366=1366,r.screenWidth_1600=1600,r.screenWidth_1920=1920,r.promoPillarVideoWidth=600,r.promoPillarVideoHeight0_Tall=674,r.promoPillarVideoHeight1_Tall=700,r.promoPillarVideoHeight2_Tall=700,r.promoPillarVideoHeight0_Regular=340,r.promoPillarVideoHeight1_Regular=350,r.promoPillarVideoHeight2_Regular=350,r.promoPillarVideoWidthPhone=310,r.promoPillarVideoHeightPhone0_Tall=348,r.promoPillarVideoHeightPhone1_Tall=362,r.promoPillarVideoHeightPhone2_Tall=362,r.promoPillarVideoHeightPhone0_Regular=174,r.promoPillarVideoHeightPhone1_Regular=180,r.promoPillarVideoHeightPhone2_Regular=182,r.homeContentDivId="homeContentPolished",r.appBarHeight=UX.topBarHeight,r.imagePillarsCount=3,r.promoPillarsCount=3,r}(t.RegionViewElement);t.NewVisualDesignHomePageContentVEBase=r}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(t){!function(t){var n=function(n){function i(e,t){var i=n.call(this,e,t.viewModel)||this;return i.args=t,i}return __extends(i,n),i.prototype.onAction=function(e){return this.toggleSelection(e)},i.prototype.onEnterOrSpace=function(e){return this.toggleSelection(e)},i.prototype.toggleSelection=function(e){return"keydown"===e.type&&(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)?TDB.EventPropagation.Bubble:this.isTileDissabled()?TDB.EventPropagation.PreventDefault:(this._model.setSelected(!this._model.isSelected()),TDB.EventPropagation.PreventDefault)},i.prototype.tileMaskStyleArgs=function(e){return{backgroundColor:this._model.getThumbnail()?void 0:t.HomeConstants.appGray}},i.prototype.optionContainerAttrArgs=function(t){var n={};n[Aria.Attributes.Title]=void 0,n[Aria.Attributes.Label]=void 0,n[Aria.Attributes.Selected]=this._model.isSelected(t)?Aria.BooleanState.True:Aria.BooleanState.False;var i=this.getTitle(),o=this._model.getLastModifiedDisplayString(),r=this._model.getMovedToRecycleBinTimeDisplayString(t),s=this._model.getViewCount(t);if(i&&o&&r){var a=void 0;a=MyStoriesSettings.ViewCountEnabled?this._model.isCreatedBeforeViewCountingStarted()?0===s?e.Utilities.formatString(Resources.TileTitleDeletedDateViewCountNotAvailableAriaLabelAndTooltip,[i,o,r]):e.Utilities.formatString(Resources.TileTitleDeletedDateViewCountCouldBeLargerAriaLabelAndTooltip,[i,o,r,s.toString(),MyStoriesSettings.ViewCountShipDate]):e.Utilities.formatString(Resources.TileTitleDeletedDateViewCountAriaLabelAndTooltip,[i,o,r,s.toString()]):e.Utilities.formatString(Resources.TileTitleDeletedDateAriaLabelAndTooltip,[i,o,r]),n[Aria.Attributes.Title]=a,n[Aria.Attributes.Label]=i}else i&&(n[Aria.Attributes.Title]=i);return n},i.prototype.modifiedDateTextArgs=function(e){return this._model.getLastModifiedDisplayString()||""},i.prototype.movedToRecycleBinDateTextArgs=function(t){var n=this._model.getMovedToRecycleBinTimeDisplayString(t);return n?e.Utilities.formatString(Resources.DeletedTime,[n]):""},i.prototype.inputCheckedInitArgs=function(){return this._model.selected},i.prototype.getTileType=function(){return"RecycleBinStoryTile"},i.prototype.hideSubMenuAndShowMenu=function(){TDB.raiseRecoverableError("hideSubMenuAndShowMenu() shouldn't be called from MyStoriesPageRecycleBinTileVE")},i.prototype.hideAllMenuAndRestoreFocus=function(){TDB.raiseRecoverableError("HideAllMenuAndRestoreFocus() shouldn't be called from MyStoriesPageRecycleBinTileVE")},i}(t.StoryTileVEBase);t.MyStoriesPageRecycleBinTileVEBase=n}(t.ViewElements||(t.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=function(e){function t(t,n){var i=e.call(this,t,n.carouselArgs)||this;return i.tile=n.tile,i}return __extends(t,e),t.prototype.titleTextArgs=function(e){return this.parent.parent.items[this.tile.id].title||""},t.prototype.authorTextArgs=function(e){return this.parent.parent.items[this.tile.id].author||""},t.prototype.descriptionTextArgs=function(e){return this.parent.parent.items[this.tile.id].description||""},t.prototype.wrapperStyleArgs=function(e){return{backgroundImage:"url("+this.tile.thumbnail+")"}},t.prototype.itemEventsInitArgs=function(){return{click:this.itemClicked}},t.prototype.itemClicked=function(){return this.parent.parent.items[this.tile.id].link&&window.open(this.parent.parent.items[this.tile.id].link,"_blank"),!1},t.prototype.getLookupId=function(){return this.tile.id},t}(e.CarouselElementVE);e.EducationFeaturedStoryVEBase=t}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var StoryApp;!function(e){!function(e){!function(e){var t=TDB.View.Bindings,n=CommonBindings.View.Bindings,i=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;if(n.videoSupportedArgs()){this.addChild(new o.CvideoBinding(n),e,t),n.renderVideoOnCanvasArgs()&&(this.addChild(new o.CcanvasBuffer(n),e,t),this.addChild(new o.CcanvasOutput(n),e,t));var i=TDB.watcherTag(17323653,n,null,n.videoButtonArgs),r=new TDB.NewSubTemplateInstructionVE(n,i);r.addResource(i),this.addChild(r,e,t)}n.videoUnsupportedArgs()&&this.addChild(new o.Cimage(n),e,t)},t}(e.BrowserVideoPlayerVEBase);e.BrowserVideoPlayerVE=i;var o;!function(e){var i=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("video");this.domElement=r,r._context=o,r.setAttribute("playsinline",""),r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.setAttribute("loop",""),r.setAttribute("crossorigin","anonymous"),r.setAttribute("type","video/mp4"),this._AttrBinding=new t.Attr.Binding(r,e,o,this,o.videoBindingAttrArgs),this._VideoBinding=new t.Video.Binding(r,e,o,this,o.videoBindingVideoInitArgs(),o.videoBindingVideoSourceArgs,o.videoBindingVideoPlayingArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.videoBindingClassNameArgs),this._StyleBinding=new t.Style.Binding(r,e,o,this,o.videoBindingStyleArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e),this._VideoBinding.update(e),this._ClassNameBinding.update(e),this._StyleBinding.update(e)},i}(TDB.ViewElement);e.CvideoBinding=i;var o=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("canvas");this.domElement=r,r._context=o,r.setAttribute("style","display:none"),r.className="canvasLayoutPlayer",this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.canvasBufferClassNameArgs),this._StyleBinding=new t.Style.Binding(r,e,o,this,o.canvasBufferStyleArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._StyleBinding.update(e)},i}(TDB.ViewElement);e.CcanvasBuffer=o;var r=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("canvas");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.canvasOutputClassNameArgs),this._StyleBinding=new t.Style.Binding(r,e,o,this,o.canvasOutputStyleArgs),this._AttrBinding=new t.Attr.Binding(r,e,o,this,o.canvasOutputAttrArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._StyleBinding.update(e),this._AttrBinding.update(e)},i}(TDB.ViewElement);e.CcanvasOutput=r;var s=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("img");this.domElement=r,r._context=o,this._AttrBinding=new t.Attr.Binding(r,e,o,this,o.imageAttrArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.imageClassNameArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.Cimage=s}(o||(o={}));var r=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new s.Cwrapper(n),e,t)},t}(e.CallToActionButtonVEBase);e.CallToActionButtonVE=r;var s;!function(e){var t=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,this._ClassNameBinding=new n.ClassName.Binding(o,e,i,this,i.wrapperClassNameArgs);var r=i.homeCallToActionButtonArgs();r&&this.addChild(r.build(i),o,null),this._addToDom(e,t)},t.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},t}(TDB.ViewElement);e.Cwrapper=t}(s||(s={}));var a=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new l.C1(n),e,t)},t}(e.CarouselListBaseVEBase);e.CarouselListBaseVE=a;var l;!function(e){var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="carouselMask";this.addChild(new e.CcarouselElementsWrapper(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=i;var o=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.carouselElementsWrapperClassNameArgs),this._FadeVisibleBinding=new n.FadeVisible.Binding(r,e,o,this,o.carouselElementsWrapperFadeVisibleInitArgs(),o.carouselElementsWrapperFadeVisibleArgs),this._AttrBinding=new t.Attr.Binding(r,e,o,this,o.carouselElementsWrapperAttrArgs);var s=TDB.watcherTag(17323652,o,null,o.visibleListItemsArgs),a=new TDB.NewForeachInstructionVE(o,s,"visibleListItems");a.addResource(s),this.addChild(a,r,null),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._FadeVisibleBinding.update(e),this._AttrBinding.update(e)},i.prototype.disposeBindings=function(){this._FadeVisibleBinding.dispose()},i}(TDB.ViewElement);e.CcarouselElementsWrapper=o}(l||(l={}));var c=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new u.C1(n),e,t)},t}(e.CreateNewTileVEBase);e.CreateNewTileVE=c;var u;!function(e){var t=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="myStoriesListItemCreationTile";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=t;var n=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="tileContainer newTileContainer";var o=n.createNewButtonArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=n}(u||(u={}));var d=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new h.C1(n),e,t)},t}(e.DeleteStoriesDialogVEBase);e.DeleteStoriesDialogVE=d;var h;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i;this.addChild(new e.Cmessage(i),o,null),this.addChild(new e.CdetailedMessage(i),o,null),this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUISemilight recycleBinDialogTitle",this._TextBinding=new t.Text.Binding(o,e,i,this,i.messageTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Cmessage=i;var o=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUISemilight recycleBinDialogMessage",this._TextBinding=new t.Text.Binding(o,e,i,this,i.detailedMessageTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CdetailedMessage=o;var r=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="recycleBinDialogButtonsWrapper";var o=n.confirmButtonArgs();o&&this.addChild(o.build(n),i,null),(o=n.cancelButtonArgs())&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=r}(h||(h={}));var p=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new g.Cdescription(n),e,t),this.addChild(new g.CauthorsList(n),e,t)},t}(e.EditorsListDialogVEBase);e.EditorsListDialogVE=p;var g;!function(e){var n=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="EditorsListDescription",this._TextBinding=new t.Text.Binding(o,e,i,this,i.descriptionTextArgs),this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.descriptionAttrArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e),this._AttrBinding.update(e)},n}(TDB.ViewElement);e.Cdescription=n;var i=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="EditorsListDialogWrapper",this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.authorsListAttrArgs);for(var r=i.editorsArgs(),s=r.length,a=0;a<s;++a)this.addChild(r[a].build(i),o,null);this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CauthorsList=i}(g||(g={}));var m=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new y.Cname(n),e,t)},t}(e.EditorsListDialogEntryVEBase);e.EditorsListDialogEntryVE=m;var y;!function(e){var n=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="EditorsListDialogEntryWrapper",o.setAttribute("role","listitem"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.nameTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Cname=n}(y||(y={}));var f=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new S.C1(n),e,t)},t}(e.EducationFeaturedVEBase);e.EducationFeaturedVE=f;var S;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationFeatured";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationContainer educationContainerMargin";this.addChild(new e.CsectionTitle(i),o,null);var r=i.featuredStoryCarouselArgs();r&&this.addChild(new TDB.NewSubTemplateInstructionVE(i,TDB.immutableWatchable(r),"_featuredStoryCarousel"),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=i;var o=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("h1");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.sectionTitleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CsectionTitle=o}(S||(S={}));var _=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new T.Citem(n),e,t)},t}(e.EducationFeaturedItemVEBase);e.EducationFeaturedItemVE=_;var T;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,this._ClassNameBinding=new n.ClassName.Binding(s,i,r,this,r.itemClassNameArgs),this._EventsBinding=new t.Events.Binding(s,i,r,this,r.itemEventsInitArgs());this.addChild(new e.Cimage(r),s,null),this.addChild(new e.Ctitle(r),s,null),this.addChild(new e.Cauthor(r),s,null),this.addChild(new e.Cdescription(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},o.prototype.disposeBindings=function(){this._EventsBinding.dispose()},o}(TDB.ViewElement);e.Citem=i;var o=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("img");this.domElement=o,o._context=i,this._StyleBinding=new t.Style.Binding(o,e,i,this,i.imageStyleArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._StyleBinding.update(e)},n}(TDB.ViewElement);e.Cimage=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("h2");this.domElement=o,o._context=i,o.className="title",this._TextBinding=new t.Text.Binding(o,e,i,this,i.titleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Ctitle=r;var s=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("h3");this.domElement=o,o._context=i,o.className="author",this._TextBinding=new t.Text.Binding(o,e,i,this,i.authorTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Cauthor=s;var a=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i,o.className="description",this._TextBinding=new t.Text.Binding(o,e,i,this,i.descriptionTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Cdescription=a}(T||(T={}));var w=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new C.Ccolumn(n),e,t)},t}(e.EducationFeaturedStoryVEBase);e.EducationFeaturedStoryVE=w;var C;!function(e){var i=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.setAttribute("role","option"),this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.columnClassNameArgs),this._FadeVisibleBinding=new n.FadeVisible.Binding(r,t,o,this,o.columnFadeVisibleInitArgs(),o.columnFadeVisibleArgs);this.addChild(new e.Citem(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._FadeVisibleBinding.update(e)},i.prototype.disposeBindings=function(){this._FadeVisibleBinding.dispose()},i}(TDB.ViewElement);e.Ccolumn=i;var o=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="educationFeaturedItem",this._FocusableBinding=o.focusableBinding=new t.Focusable.Binding(r,n,o,this,o.FocusableInitArgs()),this._EventsBinding=new t.Events.Binding(r,n,o,this,o.itemEventsInitArgs());this.addChild(new e.Cwrapper(o),r,null),this.addChild(new e.Ctitle(o),r,null),this.addChild(new e.Cauthor(o),r,null),this.addChild(new e.Cdescription(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._FocusableBinding.update(e)},i.prototype.disposeBindings=function(){this._FocusableBinding.dispose(),this._EventsBinding.dispose(),this._context.focusableBinding=void 0},i}(TDB.ViewElement);e.Citem=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFeaturedWrapper",this._StyleBinding=new t.Style.Binding(o,e,i,this,i.wrapperStyleArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._StyleBinding.update(e)},n}(TDB.ViewElement);e.Cwrapper=r;var s=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("h2");this.domElement=o,o._context=i,o.className="title",this._TextBinding=new t.Text.Binding(o,e,i,this,i.titleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Ctitle=s;var a=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("h3");this.domElement=o,o._context=i,o.className="author",this._TextBinding=new t.Text.Binding(o,e,i,this,i.authorTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Cauthor=a;var l=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i,o.className="description",this._TextBinding=new t.Text.Binding(o,e,i,this,i.descriptionTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Cdescription=l}(C||(C={}));var v=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new B.CbackgroundImage(n),e,t)},t}(e.EducationHeroVEBase);e.EducationHeroVE=v;var B;!function(e){var n=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="educationHero",this._StyleBinding=new t.Style.Binding(r,n,o,this,o.backgroundImageStyleArgs);this.addChild(new e.C1(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._StyleBinding.update(e)},i}(TDB.ViewElement);e.CbackgroundImage=n;var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationHeroGradient";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationContainer educationContainerMargin";this.addChild(new e.C3(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=o;var r=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationHeroContent";this.addChild(new e.CproductName(i),o,null),this.addChild(new e.Ctagline(i),o,null),this.addChild(new e.CtopButtonWrapper(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=r;var s=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationProductName",o.setAttribute("role","heading"),o.setAttribute("aria-level","1"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.productNameTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CproductName=s;var a=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationTagLine",this._TextBinding=new t.Text.Binding(o,e,i,this,i.taglineTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Ctagline=a;var l=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.topButtonWrapperAttrArgs);var r=TDB.watcherTag(17323653,i,null,i.callToActionArgs),s=new TDB.NewSubTemplateInstructionVE(i,r);s.addResource(r),this.addChild(s,o,null),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CtopButtonWrapper=l}(B||(B={}));var A=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new x.C1(n),e,t)},t}(e.EducationIntroductionVEBase);e.EducationIntroductionVE=A;var x;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationIntroduction";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationContainer educationContainerMargin";this.addChild(new e.CintroductionTitle(i),o,null),this.addChild(new e.CintroductionImage(i),o,null),this.addChild(new e.C3(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=i;var o=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("h1");this.domElement=o,o._context=i,o.className="show-laptop",this._TextBinding=new t.Text.Binding(o,e,i,this,i.introductionTitleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CintroductionTitle=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="image",this._StyleBinding=new t.Style.Binding(o,e,i,this,i.introductionImageStyleArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._StyleBinding.update(e)},n}(TDB.ViewElement);e.CintroductionImage=r;var s=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="content";this.addChild(new e.CintroductionTitle1(i),o,null),this.addChild(new e.CintroductionBody(i),o,null);var r=i.getStartedArgs();r&&this.addChild(r.build(i),o,null),this.addChild(new e.CintroductionAvailability(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=s;var a=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("h1");this.domElement=o,o._context=i,o.className="hide-laptop",this._TextBinding=new t.Text.Binding(o,e,i,this,i.introductionTitleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CintroductionTitle1=a;var l=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("p");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.introductionBodyTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CintroductionBody=l;var c=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.introductionAvailabilityTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CintroductionAvailability=c}(x||(x={}));var E=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;n.universalHeaderFooterHomepageEnabledArgs()&&this.addChild(new D.C1(n),e,t),this.addChild(new D.ChomeWrapper(n),e,t)},t}(e.EducationPageVEBase);e.EducationPageVE=E;var D;!function(e){var n=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="homeNotificationBarWrapper_UHF";var o=n.notificationBarWrapperArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C1=n;var i=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="homeWrapper",this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.homeWrapperAttrArgs);o.universalHeaderFooterHomepageDisabledArgs()&&((s=o.appBarArgs())&&this.addChild(s.build(o),r,null),this.addChild(new e.C2(o),r,null)),o.universalHeaderFooterHomepageEnabledArgs()&&(s=o.universalHeaderArgs())&&this.addChild(s.build(o),r,null);var s=o.homeContentArgs();s&&this.addChild(s.build(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e)},i}(TDB.ViewElement);e.ChomeWrapper=i;var o=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="homeNotificationBarWrapper";var o=n.notificationBarWrapperArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=o}(D||(D={}));var V=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new b.Cwrapper(n),e,t)},t}(e.EducationPageContentVEBase);e.EducationPageContentVE=V;var b;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,s.className="educationPage",s.setAttribute("role","main"),this._WidthWatcherBinding=new n.WidthWatcher.Binding(s,i,r,this,r.wrapperWidthWatcherInitArgs()),this._HeightWatcherBinding=new n.HeightWatcher.Binding(s,i,r,this,r.wrapperHeightWatcherInitArgs()),this._StyleBinding=new t.Style.Binding(s,i,r,this,r.wrapperStyleArgs);var a=r.educationHeroArgs();a&&this.addChild(a.build(r),s,null),this.addChild(new e.C1(r),s,null),this.addChild(new e.C3(r),s,null),this.addChild(new e.C4(r),s,null);var l=TDB.watcherTag(17323653,r,null,r.footerFollowUsArgs),c=new TDB.NewSubTemplateInstructionVE(r,l);c.addResource(l),this.addChild(c,s,null),(a=r.footerArgs())&&this.addChild(a.build(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._StyleBinding.update(e)},o.prototype.disposeBindings=function(){this._WidthWatcherBinding.dispose(),this._HeightWatcherBinding.dispose()},o}(TDB.ViewElement);e.Cwrapper=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationContent";if(i.showTestimonialArgs()&&(r=i.educationTestimonialArgs())&&this.addChild(r.build(i),o,null),i.showIntroductionArgs()&&(r=i.educationIntroductionArgs())&&this.addChild(r.build(i),o,null),i.showPromoArgs()){i.showDividerArgs()&&this.addChild(new e.C2(i),o,null);var r=i.educationPromoArgs();r&&this.addChild(r.build(i),o,null)}this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=o;var r=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="educationDivider",this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=r;var s=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationContent";if(i.showPlansArgs()&&(r=i.educationPlansArgs())&&this.addChild(r.build(i),o,null),i.showFeaturedArgs()){var r=i.educationFeaturedArgs();r&&this.addChild(new TDB.NewSubTemplateInstructionVE(i,TDB.immutableWatchable(r),"_educationFeaturedVE"),o,null)}this.addChild(new e.CbottomButtonWrapper(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=s;var a=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationBottomContent",this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.bottomButtonWrapperAttrArgs);var r=TDB.watcherTag(17323653,i,null,i.bottomButtonArgs),s=new TDB.NewSubTemplateInstructionVE(i,r);s.addResource(r),this.addChild(s,o,null),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CbottomButtonWrapper=a;var l=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="educationContainerMargin";var o=n.platformSupportArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C4=l}(b||(b={}));var I=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new P.C1(n),e,t)},t}(e.EducationPlansVEBase);e.EducationPlansVE=I;var P;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationPlans";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationContainer educationContainerMargin";this.addChild(new e.C3(i),o,null),this.addChild(new e.C5(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationPlansItem";this.addChild(new e.CplanSway(i),o,null),this.addChild(new e.CplanSwayTitle(i),o,null),this.addChild(new e.C4(i),o,null);var r=i.planSwayButtonArgs();r&&this.addChild(r.build(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("img");this.domElement=o,o._context=i,this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.planSwayAttrArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CplanSway=r;var s=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("h1");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.planSwayTitleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CplanSwayTitle=s;var a=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="plan";for(var o=n.planItemsArgs(),r=o.length,s=0;s<r;++s)this.addChild(o[s].build(n),i,null);this._addToDom(e,t)},t}(TDB.ViewElement);e.C4=a;var l=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationPlansItem";this.addChild(new e.CplanSwayO365(i),o,null),this.addChild(new e.CplanSwayO365Title(i),o,null),this.addChild(new e.C6(i),o,null);var r=i.planSwayO365ButtonArgs();r&&this.addChild(r.build(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C5=l;var c=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("img");this.domElement=o,o._context=i,this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.planSwayO365AttrArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CplanSwayO365=c;var u=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("h1");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.planSwayO365TitleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CplanSwayO365Title=u;var d=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="plan";for(var o=n.planItemsO365Args(),r=o.length,s=0;s<r;++s)this.addChild(o[s].build(n),i,null);this._addToDom(e,t)},t}(TDB.ViewElement);e.C6=d}(P||(P={}));var M=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new L.C1(n),e,t)},t}(e.EducationPlansItemVEBase);e.EducationPlansItemVE=M;var L;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="planItem";this.addChild(new e.Ccheckmark(i),o,null),this.addChild(new e.Ctext(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("img");this.domElement=o,o._context=i,this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.checkmarkAttrArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.Ccheckmark=i;var o=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.textTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Ctext=o}(L||(L={}));var R=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new N.C1(n),e,t)},t}(e.EducationPromoVEBase);e.EducationPromoVE=R;var N;!function(e){var t=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationPromo";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=t;var n=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="educationContainer educationContainerMargin";for(var o=n.promoItemsArgs(),r=o.length,s=0;s<r;++s)this.addChild(o[s].build(n),i,null);this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=n}(N||(N={}));var F=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new U.C1(n),e,t)},t}(e.EducationPromoItemVEBase);e.EducationPromoItemVE=F;var U;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationPromoItem";this.addChild(new e.CitemImage(i),o,null),this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="promoImage",this._StyleBinding=new t.Style.Binding(o,e,i,this,i.itemImageStyleArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._StyleBinding.update(e)},n}(TDB.ViewElement);e.CitemImage=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="promoText";this.addChild(new e.CitemTitle(i),o,null),this.addChild(new e.CitemBody(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("h2");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.itemTitleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CitemTitle=r;var s=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.itemBodyTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CitemBody=s}(U||(U={}));var k=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new W.C1(n),e,t)},t}(e.EducationTestimonialVEBase);e.EducationTestimonialVE=k;var W;!function(e){var t=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="educationTestimonial";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=t;var n=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="educationContainer educationContainerMargin";for(var o=n.educationTestimonialItemsArgs(),r=o.length,s=0;s<r;++s)this.addChild(o[s].build(n),i,null);this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=n}(W||(W={}));var H=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new O.CtestimonialItem(n),e,t)},t}(e.EducationTestimonialItemVEBase);e.EducationTestimonialItemVE=H;var O;!function(e){var i=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="educationTestimonialItem",this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.testimonialItemClassNameArgs);this.addChild(new e.C1(o),r,null),this.addChild(new e.C2(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CtestimonialItem=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="quotation";this.addChild(new e.CquotationMarkStart(i),o,null),this.addChild(new e.Cquote(i),o,null),this.addChild(new e.CquotationMarkEnd(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=o;var r=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._TextBinding=new t.Text.Binding(r,e,o,this,o.quotationMarkStartTextArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.quotationMarkStartClassNameArgs),this._StyleBinding=new t.Style.Binding(r,e,o,this,o.quotationMarkStartStyleArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._ClassNameBinding.update(e),this._StyleBinding.update(e)},i}(TDB.ViewElement);e.CquotationMarkStart=r;var s=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("p");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.quoteTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Cquote=s;var a=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._TextBinding=new t.Text.Binding(r,e,o,this,o.quotationMarkEndTextArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.quotationMarkEndClassNameArgs),this._StyleBinding=new t.Style.Binding(r,e,o,this,o.quotationMarkEndStyleArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._ClassNameBinding.update(e),this._StyleBinding.update(e)},i}(TDB.ViewElement);e.CquotationMarkEnd=a;var l=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="content";this.addChild(new e.Clink(i),o,null),this.addChild(new e.C3(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=l;var c=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("a");this.domElement=r,r._context=o,this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.linkAttrArgs);this.addChild(new e.ClinkText(o),r,null),this.addChild(new e.ClinkChevron(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e)},i}(TDB.ViewElement);e.Clink=c;var u=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.linkTextTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.ClinkText=u;var d=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("img");this.domElement=o,o._context=i,o.className="chevron",this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.linkChevronAttrArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.ClinkChevron=d;var h=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="bio";this.addChild(new e.Cimage(i),o,null),this.addChild(new e.C4(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=h;var p=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("img");this.domElement=o,o._context=i,this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.imageAttrArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.Cimage=p;var g=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i;this.addChild(new e.CteacherName(i),o,null),this.addChild(new e.C5(i),o,null),this.addChild(new e.CteacherDescription(i),o,null),this.addChild(new e.C6(i),o,null),this.addChild(new e.C5(i),o,null),this.addChild(new e.CteacherSchool(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C4=g;var m=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("b");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.teacherNameTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CteacherName=m;var y=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("br");this.domElement=i,i._context=n,this._addToDom(e,t)},t}(TDB.ViewElement);e.C5=y;var f=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.teacherDescriptionTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CteacherDescription=f;var S=function(e){function t(t){return e.call(this,null)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this.domElement=document.createTextNode(",");e.insertBefore(n,t)},t}(TDB.ViewElement);e.C6=S;var _=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i,this._TextBinding=new t.Text.Binding(o,e,i,this,i.teacherSchoolTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CteacherSchool=_}(O||(O={}));var z=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new q.Ccolumn(n),e,t)},t}(e.FeaturedStoryVEBase);e.FeaturedStoryVE=z;var q;!function(e){var i=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.setAttribute("role","option"),this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.columnClassNameArgs),this._FadeVisibleBinding=new n.FadeVisible.Binding(r,t,o,this,o.columnFadeVisibleInitArgs(),o.columnFadeVisibleArgs);this.addChild(new e.Cwrapper(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._FadeVisibleBinding.update(e)},i.prototype.disposeBindings=function(){this._FadeVisibleBinding.dispose()},i}(TDB.ViewElement);e.Ccolumn=i;var o=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="homeFeaturedWrapper homeColumnChild",this._StyleBinding=new t.Style.Binding(r,n,o,this,o.wrapperStyleArgs);this.addChild(new e.Clink(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._StyleBinding.update(e)},i}(TDB.ViewElement);e.Cwrapper=o;var r=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("a");this.domElement=r,r._context=o,r.className="homeFeaturedLink",this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.linkAttrArgs),this._FocusableBinding=o.focusableBinding=new t.Focusable.Binding(r,n,o,this,o.FocusableInitArgs());this.addChild(new e.C1(o),r,null),this.addChild(new e.Ctitle(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e),this._FocusableBinding.update(e)},i.prototype.disposeBindings=function(){this._FocusableBinding.dispose(),this._context.focusableBinding=void 0},i}(TDB.ViewElement);e.Clink=r;var s=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="homeFeaturedMask",this._addToDom(e,t)},t}(TDB.ViewElement);e.C1=s;var a=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFeaturedTitle segoeUISemilight",this._TextBinding=new t.Text.Binding(o,e,i,this,i.titleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Ctitle=a}(q||(q={}));var G=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new K.C1(n),e,t)},t}(e.FeaturedStoryCarouselVEBase);e.FeaturedStoryCarouselVE=G;var K;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFeaturedStories";this.addChild(new e.C2(i),o,null),i.newHomepageVisualDesignDisabledArgs()&&this.addChild(new e.Clocation(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFeaturedContainer";this.addChild(new e.C3(i),o,null),this.addChild(new e.ChomeFeaturedContent(i),o,null),this.addChild(new e.C4(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=i;var o=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="homeFeaturedButtonWrapper previousWrapper";var o=n.previousButtonArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C3=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFeaturedContent",o.setAttribute("role","listbox"),this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.homeFeaturedContentAttrArgs);var r=TDB.watcherTag(17323652,i,null,i.featuredStoriesArgs),s=new TDB.NewForeachInstructionVE(i,r);s.addResource(r),this.addChild(s,o,null),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.ChomeFeaturedContent=r;var s=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="homeFeaturedButtonWrapper nextWrapper";var o=n.nextButtonArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C4=s;var a=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFeaturedLocation segoeUISemilight",o.setAttribute("aria-live","polite"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.locationTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Clocation=a}(K||(K={}));var J=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new $.C1(n),e,t)},t}(e.FooterFollowUsVEBase);e.FooterFollowUsVE=J;var $;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFollowWrapper";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFollow homeSection textAlignCenter";this.addChild(new e.CfollowUs(i),o,null);var r=i.followFacebookArgs();r&&this.addChild(r.build(i),o,null),(r=i.followTwitterArgs())&&this.addChild(r.build(i),o,null),(r=i.followBlogArgs())&&this.addChild(r.build(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=i;var o=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFollowItem segoeUISemilight homeFollowText hide-tablet",this._TextBinding=new t.Text.Binding(o,e,i,this,i.followUsTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CfollowUs=o}($||($={}));var j=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;n.universalHeaderFooterHomepageEnabledArgs()&&this.addChild(new D.C1(n),e,t),this.addChild(new D.ChomeWrapper(n),e,t)},t}(e.HomePageVEBase);e.HomePageVE=j;var Q=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new X.CimagePillarHolder(n),e,t)},t}(e.ImagePillarVEBase);e.ImagePillarVE=Q;var X;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,s.className="imagePillarHolder",this._StyleBinding=new t.Style.Binding(s,i,r,this,r.imagePillarHolderStyleArgs),this._AttrBinding=new t.Attr.Binding(s,i,r,this,r.imagePillarHolderAttrArgs),this._ClassNameBinding=new n.ClassName.Binding(s,i,r,this,r.imagePillarHolderClassNameArgs);this.addChild(new e.C1(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._StyleBinding.update(e),this._AttrBinding.update(e),this._ClassNameBinding.update(e)},o}(TDB.ViewElement);e.CimagePillarHolder=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("center");this.domElement=o,o._context=i;this.addChild(new e.CimagePillarWrapper(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=o;var r=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="imagePillar",this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.imagePillarWrapperClassNameArgs);this.addChild(new e.CimageIcon(o),r,null),this.addChild(new e.CimageContentFirstRow(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CimagePillarWrapper=r;var s=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._StyleBinding=new t.Style.Binding(r,e,o,this,o.imageIconStyleArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.imageIconClassNameArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._StyleBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CimageIcon=s;var a=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._TextBinding=new t.Text.Binding(r,e,o,this,o.imageContentFirstRowTextArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.imageContentFirstRowClassNameArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CimageContentFirstRow=a}(X||(X={}));var Z=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new Y.CimagePillarHolder(n),e,t)},t}(e.ImagePillarListItemVEBase);e.ImagePillarListItemVE=Z;var Y;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,s.className="imagePillarHolder",this._AttrBinding=new t.Attr.Binding(s,i,r,this,r.imagePillarHolderAttrArgs),this._ClassNameBinding=new n.ClassName.Binding(s,i,r,this,r.imagePillarHolderClassNameArgs);this.addChild(new e.CimagePillarWrapper(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._AttrBinding.update(e),this._ClassNameBinding.update(e)},o}(TDB.ViewElement);e.CimagePillarHolder=i;var o=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="imagePillar",this._StyleBinding=new t.Style.Binding(r,e,o,this,o.imagePillarWrapperStyleArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.imagePillarWrapperClassNameArgs);this.addChild(new X.CimageIcon(o),r,null),this.addChild(new X.CimageContentFirstRow(o),r,null),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._StyleBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CimagePillarWrapper=o}(Y||(Y={}));var ee=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new te.CcarouselWrapper(n),e,t)},t}(e.ImagePillarCarouselVEBase);e.ImagePillarCarouselVE=ee;var te;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,s.className="CarouselWrapper",this._AttrBinding=new t.Attr.Binding(s,i,r,this,r.carouselWrapperAttrArgs),this._ClassNameBinding=new n.ClassName.Binding(s,i,r,this,r.carouselWrapperClassNameArgs);this.addChild(new e.CshouldShowNextPreviousButton(r),s,null);var a=r.carouselElementArgs();a&&this.addChild(new TDB.NewSubTemplateInstructionVE(r,TDB.immutableWatchable(a),"imagePillarElementList"),s,null),this.addChild(new e.CshouldShowNextPreviousButton1(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._AttrBinding.update(e),this._ClassNameBinding.update(e)},o}(TDB.ViewElement);e.CcarouselWrapper=i;var o=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.shouldShowNextPreviousButtonArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.CpreviousWrapper(i),t,n)},n}(TDB.IfInstructionVE);e.CshouldShowNextPreviousButton=o;var r=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.previousWrapperClassNameArgs),this._AttrBinding=new t.Attr.Binding(r,e,o,this,o.previousWrapperAttrArgs);var s=o.previousButtonArgs();s&&this.addChild(s.build(o),r,null),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._AttrBinding.update(e)},i}(TDB.ViewElement);e.CpreviousWrapper=r;var s=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.shouldShowNextPreviousButtonArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.CnextWrapper(i),t,n)},n}(TDB.IfInstructionVE);e.CshouldShowNextPreviousButton1=s;var a=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.nextWrapperClassNameArgs),this._AttrBinding=new t.Attr.Binding(r,e,o,this,o.nextWrapperAttrArgs);var s=o.nextButtonArgs();s&&this.addChild(s.build(o),r,null),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._AttrBinding.update(e)},i}(TDB.ViewElement);e.CnextWrapper=a}(te||(te={}));var ne=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new ie.CimagePillarsWrapper(n),e,t)},t}(e.ImagePillarListNewVisualDesignVEBase);e.ImagePillarListNewVisualDesignVE=ne;var ie;!function(e){var i=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._AttrBinding=new t.Attr.Binding(r,e,o,this,o.imagePillarsWrapperAttrArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.imagePillarsWrapperClassNameArgs);for(var s=o.ImagePillarListItemsArgs(),a=s.length,l=0;l<a;++l)this.addChild(s[l].build(o),r,null);this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CimagePillarsWrapper=i}(ie||(ie={}));var oe=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new re.CmenuTileContainer(n),e,t);var i=n.subMenuTileArgs();i&&this.addChild(i,e,t)},t}(e.MenuTileVEBase);e.MenuTileVE=oe;var re;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,s.className="menuTileContainer",s.setAttribute("role","dialog"),this._FadeVisibleBinding=new n.FadeVisible.Binding(s,i,r,this,r.menuTileContainerFadeVisibleInitArgs(),r.menuTileContainerFadeVisibleArgs),this._AttrBinding=new t.Attr.Binding(s,i,r,this,r.menuTileContainerAttrArgs);this.addChild(new e.C1(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._FadeVisibleBinding.update(e),this._AttrBinding.update(e)},o.prototype.disposeBindings=function(){this._FadeVisibleBinding.dispose()},o}(TDB.ViewElement);e.CmenuTileContainer=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="menuTile";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=o;var r=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="topMenuButtons";i.showPlayArgs()&&this.addChild(new e.C3(i),o,null),i.showShareArgs()&&this.addChild(new e.C4(i),o,null),i.showDuplicateArgs()&&this.addChild(new e.C5(i),o,null),i.showDeleteArgs()&&this.addChild(new e.C6(i),o,null),i.showDownloadArgs()&&this.addChild(new e.CdownloadContainer(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=r;var s=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="topMenuButton";var o=n.playArgs();o&&this.addChild(o,i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C3=s;var a=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="topMenuButton";var o=n.shareArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C4=a;var l=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="topMenuButton";var o=n.duplicateArgs();o&&this.addChild(o,i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C5=l;var c=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="topMenuButton";var o=n.deleteArgs();o&&this.addChild(o,i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C6=c;var u=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="topMenuButton",this._AutoDownloadBinding=new t.AutoDownload.Binding(o,e,i,this,i.downloadContainerAutoDownloadInitArgs());var r=i.downloadArgs();r&&this.addChild(r,o,null),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AutoDownloadBinding.update(e)},n}(TDB.ViewElement);e.CdownloadContainer=u}(re||(re={}));var se=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new ae.C1(n),e,t)},t}(e.ImportTileVEBase);e.ImportTileVE=se;var ae;!function(e){var t=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="myStoriesListItemCreationTile";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=t;var n=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="tileContainer newTileContainer";if(n.ifDocWrapperArgs()){var o=n.createFromDocButtonArgs();o&&this.addChild(o.build(n),i,null),(o=n.docIngestionFileInputArgs())&&this.addChild(o.build(n),i,null)}this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=n}(ae||(ae={}));var le=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new ce.C1(n),e,t)},t}(e.ImportStoryTileVEBase);e.ImportStoryTileVE=le;var ce;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="myStoriesListItemCreationTile";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="tileContainer newTileContainer";var r=i.uploadButtonArgs();r&&this.addChild(r.build(i),o,null),this.addChild(new e.C3(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("form");this.domElement=o,o._context=i,o.setAttribute("method","POST"),o.setAttribute("enctype","multipart/form-data"),o.setAttribute("encoding","multipart/form-data"),o.className="hiddenContent";this.addChild(new e.CuploadFilePicker(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("input");this.domElement=o,o._context=i,o.id="createNewFileToUpload",o.setAttribute("name","file"),o.setAttribute("type","file"),o.setAttribute("accept","*"),o.setAttribute("multiple","multiple"),o.setAttribute("title","Upload"),this._AutoUploadBinding=new t.AutoUpload.Binding(o,e,i,this,i.uploadFilePickerAutoUploadInitArgs()),this._CssBinding=new t.Css.Binding(o,e,i,this,i.uploadFilePickerCssArgs),this.receivePhaseNotification(TDB.UpdatePhase.ReadWrite),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._CssBinding.update(e)},n.prototype.disposeBindings=function(){this._AutoUploadBinding.dispose()},n}(TDB.ViewElement);e.CuploadFilePicker=r}(ce||(ce={}));var ue=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new de.C1(n),e,t)},t}(e.TransformDocumentTileVEBase);e.TransformDocumentTileVE=ue;var de;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="myStoriesListItemCreationTile";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.id="transformContainer",o.className="tileContainer newTileContainer";var r=i.uploadButtonArgs();r&&this.addChild(r.build(i),o,null),this.addChild(new e.C3(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("form");this.domElement=o,o._context=i,o.setAttribute("method","POST"),o.setAttribute("enctype","multipart/form-data"),o.setAttribute("encoding","multipart/form-data"),o.className="hiddenContent";this.addChild(new e.CtransformFilePicker(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("input");this.domElement=o,o._context=i,o.id="createNewFileToTransform",o.setAttribute("name","file"),o.setAttribute("type","file"),o.setAttribute("accept","*"),o.setAttribute("title","Transform"),this._AutoUploadBinding=new t.AutoUpload.Binding(o,e,i,this,i.transformFilePickerAutoUploadInitArgs()),this._CssBinding=new t.Css.Binding(o,e,i,this,i.transformFilePickerCssArgs),this.receivePhaseNotification(TDB.UpdatePhase.ReadWrite),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._CssBinding.update(e)},n.prototype.disposeBindings=function(){this._AutoUploadBinding.dispose()},n}(TDB.ViewElement);e.CtransformFilePicker=r}(de||(de={}));var he=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new pe.C1(n),e,t)},t}(e.MobileFeaturedVEBase);e.MobileFeaturedVE=he;var pe;!function(e){var t=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="mobileFeaturedContent";var o=TDB.watcherTag(17323652,n,null,n.featuredStoriesArgs),r=new TDB.NewForeachInstructionVE(n,o);r.addResource(o),this.addChild(r,i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C1=t}(pe||(pe={}));var ge=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new me.ChomeWrapper(n),e,t)},t}(e.MyStoriesPageVEBase);e.MyStoriesPageVE=ge;var me;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,s.className="homeWrapper",this._AttrBinding=new t.Attr.Binding(s,i,r,this,r.homeWrapperAttrArgs),this._WidthWatcherBinding=new n.WidthWatcher.Binding(s,i,r,this,r.homeWrapperWidthWatcherInitArgs()),this._HeightWatcherBinding=new n.HeightWatcher.Binding(s,i,r,this,r.homeWrapperHeightWatcherInitArgs());var a=r.appBarArgs();a&&this.addChild(a.build(r),s,null),this.addChild(new e.C1(r),s,null),this.addChild(new e.C2(r),s,null),(a=r.blockingProgressArgs())&&this.addChild(a.build(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._AttrBinding.update(e)},o.prototype.disposeBindings=function(){this._WidthWatcherBinding.dispose(),this._HeightWatcherBinding.dispose()},o}(TDB.ViewElement);e.ChomeWrapper=i;var o=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="mySwaysNotificationBarWrapper";var o=n.notificationBarWrapperArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C1=o;var r=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="mySwaysContentPolished";var r=i.myStoriesPageContentHolderArgs();r&&this.addChild(new TDB.NewSubTemplateInstructionVE(i,TDB.immutableWatchable(r),"myStoriesPageContentHolder"),o,null),this.addChild(new e.C3(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=r;var s=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="myStoriesFooter";var o=n.footerArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C3=s}(me||(me={}));var ye=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;TDB.perfMeasurement("MyStoriesPageContentHolderVE_create",function(){var i=n;n.addChild(new fe.Ccontent(i),e,t)})},t}(e.MyStoriesPageContentHolderVEBase);e.MyStoriesPageContentHolderVE=ye;var fe;!function(e){var i=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="homeContent",r.setAttribute("role","main"),this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.contentClassNameArgs);this.addChild(new e.CmyStoriesBannerWrapper(o),r,null),this.addChild(new e.C3(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.Ccontent=i;var o=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="myStoriesBannerWrapper",this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.myStoriesBannerWrapperClassNameArgs);this.addChild(new e.CmyStoriesBannerImg(o),r,null),o.showCreateNewTileArgs()&&this.addChild(new e.C2(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CmyStoriesBannerWrapper=o;var r=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,s.className="myStoriesBannerImg",this._StyleBinding=new t.Style.Binding(s,i,r,this,r.myStoriesBannerImgStyleArgs),this._ClassNameBinding=new n.ClassName.Binding(s,i,r,this,r.myStoriesBannerImgClassNameArgs);this.addChild(new e.C1(r),s,null),this.addChild(new e.CmyStoriesBannerText(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._StyleBinding.update(e),this._ClassNameBinding.update(e)},o}(TDB.ViewElement);e.CmyStoriesBannerImg=r;var s=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="myStoriesBannerImgOverlay",this._addToDom(e,t)},t}(TDB.ViewElement);e.C1=s;var a=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="myStoriesBannerText",this._TextBinding=new t.Text.Binding(r,e,o,this,o.myStoriesBannerTextTextArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.myStoriesBannerTextClassNameArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CmyStoriesBannerText=a;var l=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="storyCreateTileListWrapper";var o=n.createTilesCarouselArgs();o&&this.addChild(new TDB.NewSubTemplateInstructionVE(n,TDB.immutableWatchable(o),"createTilesCarouselRef"),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=l;var c=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="myStoriesContentWrapper";this.addChild(new e.CstoryTileListWrapper(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=c;var u=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="storyTileListWrapper",this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.storyTileListWrapperClassNameArgs);this.addChild(new e.C4(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CstoryTileListWrapper=u;var d=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="storyTileListInnerWrapper";i.showPopularityMetricArgs()&&this.addChild(new e.C5(i),o,null),this.addChild(new e.C7(i),o,null),this.addChild(new e.CtemplateStoriesEnabled(i),o,null),this.addChild(new e.CfeaturedStoriesEnabled(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C4=d;var h=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="PopularityMetricWrapper";this.addChild(new e.C6(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C5=h;var p=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="PopularityMetricMyStories";this.addChild(new e.CpopularityMetricMessagePrefix(i),o,null),this.addChild(new e.CpopularityMetricNumber(i),o,null),this.addChild(new e.CpopularityMetricMessage(i),o,null);var r=i.popularityMetricIconArgs();r&&this.addChild(r.build(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C6=p;var g=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i,o.className="PopularityMetricMessagePrefixMyStories",this._TextBinding=new t.Text.Binding(o,e,i,this,i.popularityMetricMessagePrefixTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CpopularityMetricMessagePrefix=g;var m=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i,o.className="PopularityMetricNumberMyStories",this._TextBinding=new t.Text.Binding(o,e,i,this,i.popularityMetricNumberTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CpopularityMetricNumber=m;var y=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i,o.className="PopularityMetricMessageMyStories",this._TextBinding=new t.Text.Binding(o,e,i,this,i.popularityMetricMessageTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CpopularityMetricMessage=y;var f=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="mySwaysSection";this.addChild(new e.CshouldShowMySwaysSection(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C7=f;var S=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.shouldShowMySwaysSectionArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.CmyStoriesListTitleBar(i),t,n),this.addChild(new e.C9(i),t,n)},n}(TDB.IfInstructionVE);e.CshouldShowMySwaysSection=S;var _=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="myStoriesTitleBar",this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.myStoriesListTitleBarClassNameArgs);var s=o.myStoriesTitleOverflowMenuArgs();s&&this.addChild(s.build(o),r,null),this.addChild(new e.CshowSortTypeDropdown(o),r,null),this.addChild(new e.CshowSortCriteriaDropdown(o),r,null),this.addChild(new e.CisRecycleBinView(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CmyStoriesListTitleBar=_;var T=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.showSortTypeDropdownArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.CsortingTypeWrapper(i),t,n)},n}(TDB.IfInstructionVE);e.CshowSortTypeDropdown=T;var w=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="SortingTypeWrapper",this._PositionBinding=i.sortingTypeWrapperPositionBinding=new t.Position.Binding(o,e,i,this);var r=TDB.watcherTag(17323653,i,null,i.sortingTypeDropdownListArgs),s=new TDB.NewSubTemplateInstructionVE(i,r,"sortingTypeDropdownList");s.addResource(r),this.addChild(s,o,null),this._addToDom(e,n)},n.prototype.disposeBindings=function(){this._context.sortingTypeWrapperPositionBinding=void 0},n}(TDB.ViewElement);e.CsortingTypeWrapper=w;var C=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.showSortCriteriaDropdownArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.CsortCriteriaWrapper(i),t,n),this.addChild(new e.C8(i),t,n)},n}(TDB.IfInstructionVE);e.CshowSortCriteriaDropdown=C;var v=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="SortCriteriaWrapper",this._PositionBinding=i.sortCriteriaWrapperPositionBinding=new t.Position.Binding(o,e,i,this);var r=TDB.watcherTag(17323653,i,null,i.sortCriteriaDropdownListArgs),s=new TDB.NewSubTemplateInstructionVE(i,r,"sortCriteriaDropdownList");s.addResource(r),this.addChild(s,o,null),this._addToDom(e,n)},n.prototype.disposeBindings=function(){this._context.sortCriteriaWrapperPositionBinding=void 0},n}(TDB.ViewElement);e.CsortCriteriaWrapper=v;var B=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="myStoriesTitleBarFiller",this._addToDom(e,t)},t}(TDB.ViewElement);e.C8=B;var A=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.isRecycleBinViewArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context,o=TDB.watcherTag(17323653,i,null,i.recycleBinMenuArgs),r=new TDB.NewSubTemplateInstructionVE(i,o);r.addResource(o),this.addChild(r,t,n),this.addChild(new e.CautoDeleteMessage(i),t,n)},n}(TDB.IfInstructionVE);e.CisRecycleBinView=A;var x=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="recycleBinAutoDeleteMessage segoeUISemilight",this._TextBinding=new t.Text.Binding(o,e,i,this,i.autoDeleteMessageTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CautoDeleteMessage=x;var E=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="storyWrapper";var r=i.storyListV2Args();r&&this.addChild(r.build(i),o,null),this.addChild(new e.CdisplaySeeMoreButton(i),o,null),this.addChild(new e.CdisplaySeeLessButton(i),o,null),this.addChild(new e.CdisplayAnalyticsUpsell(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C9=E;var D=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.displaySeeMoreButtonArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C10(i),t,n)},n}(TDB.IfInstructionVE);e.CdisplaySeeMoreButton=D;var V=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="seeMoreButtonWrapper";var o=n.seeMoreButtonArgs();o&&this.addChild(new TDB.NewSubTemplateInstructionVE(n,TDB.immutableWatchable(o),"seeMoreButton"),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C10=V;var b=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.displaySeeLessButtonArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C11(i),t,n)},n}(TDB.IfInstructionVE);e.CdisplaySeeLessButton=b;var I=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="seeLessButtonWrapper";var o=n.seeLessButtonArgs();o&&this.addChild(new TDB.NewSubTemplateInstructionVE(n,TDB.immutableWatchable(o),"seeLessButton"),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C11=I;var P=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.displayAnalyticsUpsellArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C12(i),t,n)},n}(TDB.IfInstructionVE);e.CdisplayAnalyticsUpsell=P;var M=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsUpsellWrapper";this.addChild(new e.Coffice365FeatureTitle(i),o,null),this.addChild(new e.Coffice365FeatureDescription(i),o,null);var r=TDB.watcherTag(17323653,i,null,i.office365ButtonArgs),s=new TDB.NewSubTemplateInstructionVE(i,r,"office365Button");s.addResource(r),this.addChild(s,o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C12=M;var L=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsOffice365FeatureTitle",this._TextBinding=new t.Text.Binding(o,e,i,this,i.office365FeatureTitleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Coffice365FeatureTitle=L;var R=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsOffice365FeatureDescription",this._TextBinding=new t.Text.Binding(o,e,i,this,i.office365FeatureDescriptionTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Coffice365FeatureDescription=R;var N=function(e){function t(t){var n=this,i=TDB.watcherTag(4543754,t,null,t.templateStoriesEnabledArgs);return(n=e.call(this,i)||this).addResource(i),n._context=t,n}return __extends(t,e),t.prototype.buildChildren=function(e,t){var n=this._context,i=n.templateStoriesArgs();i&&this.addChild(new TDB.NewSubTemplateInstructionVE(n,TDB.immutableWatchable(i),"myStoriesPageTemplateList"),e,t)},t}(TDB.IfInstructionVE);e.CtemplateStoriesEnabled=N;var F=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.featuredStoriesEnabledArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C13(i),t,n)},n}(TDB.IfInstructionVE);e.CfeaturedStoriesEnabled=F;var U=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="featuredWrapper";var r=i.featuredStoriesArgs();r&&this.addChild(new TDB.NewSubTemplateInstructionVE(i,TDB.immutableWatchable(r),"myStoriesPageFeaturedList"),o,null),this.addChild(new e.C14(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C13=U;var k=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="seeMoreFeaturedSwaysButtonWrapper";var o=n.seeMoreFeaturedSwaysButtonArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C14=k}(fe||(fe={}));var Se=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._subscribeToWatchable(i._updateWidthWatcher=TDB.watcherTag(5796370,i,i,i.updateWidth),TDB.UpdatePhase.ReadWrite),i}return __extends(t,e),t.prototype._create=function(e,t){var n=this,i=TDB.watcherTag(17323653,n,null,n.sectionLoadErrorArgs),o=new TDB.NewSubTemplateInstructionVE(n,i);o.addResource(i),this.addChild(o,e,t),this.addChild(new _e.CmyStoriesSwaysTileWrapper(n),e,t),this.addChild(new _e.CisCurrentListEmptyMessage(n),e,t),this.addChild(new _e.ClistLoadingPlaceholder(n),e,t),this.receivePhaseNotification(TDB.UpdatePhase.ReadWrite)},t.prototype.onUpdate=function(e){e===TDB.UpdatePhase.ReadWrite&&this._updateWidthWatcher.resolve()},t}(e.MyStoriesPageListV2VEBase);e.MyStoriesPageListV2VE=Se;var _e;!function(e){var i=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.id="myStoriesSwaysTileWrapper",r.setAttribute("role","listbox"),this._AttrBinding=new t.Attr.Binding(r,e,o,this,o.myStoriesSwaysTileWrapperAttrArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.myStoriesSwaysTileWrapperClassNameArgs),this._StyleBinding=new t.Style.Binding(r,e,o,this,o.myStoriesSwaysTileWrapperStyleArgs);var s=TDB.watcherTag(17323652,o,null,o.storiesArgs),a=new TDB.NewForeachInstructionVE(o,s);a.addResource(s),this.addChild(a,r,null),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e),this._ClassNameBinding.update(e),this._StyleBinding.update(e)},i}(TDB.ViewElement);e.CmyStoriesSwaysTileWrapper=i;var o=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.isCurrentListEmptyMessageArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.CemptyListMessage(i),t,n)},n}(TDB.IfInstructionVE);e.CisCurrentListEmptyMessage=o;var r=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._TextBinding=new t.Text.Binding(r,e,o,this,o.emptyListMessageTextArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.emptyListMessageClassNameArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CemptyListMessage=r;var s=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="listLoadingPlaceholder",this._StyleBinding=new t.Style.Binding(r,n,o,this,o.listLoadingPlaceholderStyleArgs);this.addChild(new e.CisCurrentListLoading(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._StyleBinding.update(e)},i}(TDB.ViewElement);e.ClistLoadingPlaceholder=s;var a=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.isCurrentListLoadingArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.CloadingSpinner(i),t,n)},n}(TDB.IfInstructionVE);e.CisCurrentListLoading=a;var l=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("img");this.domElement=o,o._context=i,o.setAttribute("role","progressbar"),o.className="currentStoryListLoadingSpinner",o.setAttribute("aria-busy","true"),this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.loadingSpinnerAttrArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CloadingSpinner=l}(_e||(_e={}));var Te=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new we.CmenuWrapper(n),e,t)},t}(e.RecycleBinMenuVEBase);e.RecycleBinMenuVE=Te;var we;!function(e){var t=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="recycleBinMenuWrapper",this._DynamicMenuBinding=new n.DynamicMenu.Binding(r,t,o,this,o.menuWrapperDynamicMenuChunksArgs),this.receivePhaseNotification(TDB.UpdatePhase.ReadWrite);this.addChild(new e.CrecycleBinMenuItemsWrapper(o),r,null);var s=o.overflowMenuArgs();s&&this.addChild(s.build(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._DynamicMenuBinding.update(e)},i.prototype.disposeBindings=function(){this._DynamicMenuBinding.dispose()},i}(TDB.ViewElement);e.CmenuWrapper=t;var i=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,this._ClassNameBinding=new n.ClassName.Binding(o,e,i,this,i.recycleBinMenuItemsWrapperClassNameArgs);for(var r=i.menuElementsArgs(),s=r.length,a=0;a<s;++a)this.addChild(r[a].build(i),o,null);this._addToDom(e,t)},t.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},t}(TDB.ViewElement);e.CrecycleBinMenuItemsWrapper=i}(we||(we={}));var Ce=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new ve.CoptionContainer(n),e,t)},t}(e.MyStoriesPageRecycleBinTileVEBase);e.MyStoriesPageRecycleBinTileVE=Ce;var ve;!function(e){var n=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="myStoriesListItem tileContainer storyTileContainer recycleBinTileContainer",r.setAttribute("role","option"),this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.optionContainerAttrArgs),this._FocusableBinding=o.focusableBinding=new t.Focusable.Binding(r,n,o,this,o.FocusableInitArgs());this.addChild(new e.Cthumbnail(o),r,null),this.addChild(new e.CtileMask(o),r,null);var s=o.tileBlockerArgs();s&&this.addChild(new TDB.NewSubTemplateInstructionVE(o,TDB.immutableWatchable(s),"tileBlocker"),r,null),this.addChild(new e.CifTileOverlay(o),r,null),this.addChild(new e.CviewCountEnabled(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e),this._FocusableBinding.update(e)},i.prototype.disposeBindings=function(){this._FocusableBinding.dispose(),this._context.focusableBinding=void 0},i}(TDB.ViewElement);e.CoptionContainer=n;var i=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("img");this.domElement=o,o._context=i,o.className="tileThumbnail",this._StyleBinding=new t.Style.Binding(o,e,i,this,i.thumbnailStyleArgs),this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.thumbnailAttrArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._StyleBinding.update(e),this._AttrBinding.update(e)},n}(TDB.ViewElement);e.Cthumbnail=i;var o=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="tileMask",this._StyleBinding=new t.Style.Binding(o,e,i,this,i.tileMaskStyleArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._StyleBinding.update(e)},n}(TDB.ViewElement);e.CtileMask=o;var r=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.ifTileOverlayArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C1(i),t,n)},n}(TDB.IfInstructionVE);e.CifTileOverlay=r;var s=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="tileOverlay";this.addChild(new e.Ctitle(i),o,null),this.addChild(new e.CmodifiedDate(i),o,null),this.addChild(new e.CmovedToRecycleBinDate(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=s;var a=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUISemilight recycleBinTileTitle UnselectableText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.titleTextArgs),this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.titleAttrArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e),this._AttrBinding.update(e)},n}(TDB.ViewElement);e.Ctitle=a;var l=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUIRegular recycleBinTileModifiedDate dateTime UnselectableText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.modifiedDateTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CmodifiedDate=l;var c=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUIRegular recycleBinTileDeletedDate dateTime UnselectableText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.movedToRecycleBinDateTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CmovedToRecycleBinDate=c;var u=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.viewCountEnabledArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C2(i),t,n)},n}(TDB.IfInstructionVE);e.CviewCountEnabled=u;var d=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="viewCountContainer";this.addChild(new e.CviewCount(i),o,null),this.addChild(new e.C3(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=d;var h=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="tileViewCount UnselectableText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.viewCountTextArgs),this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.viewCountAttrArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e),this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CviewCount=h;var p=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="viewCountIconContainer";var o=n.viewCountIconArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C3=p}(ve||(ve={}));var Be=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._subscribeToWatchable(i._updateMenuTileWatcher=TDB.watcherTag(5796370,i,i,i.updateMenuTile),TDB.UpdatePhase.WriteOnly),i}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new Ae.CtileContainer(n),e,t),this._updateMenuTileWatcher.resolve()},t.prototype.onUpdate=function(e){e===TDB.UpdatePhase.WriteOnly&&this._updateMenuTileWatcher.resolve()},t}(e.MyStoriesPageTileVEBase);e.MyStoriesPageTileVE=Be;var Ae;!function(e){var i=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="myStoriesListItem tileContainer storyTileContainer",r.setAttribute("role","option"),this._FocusableBinding=o.focusableBinding=new t.Focusable.Binding(r,n,o,this,o.FocusableInitArgs()),this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.tileContainerAttrArgs);this.addChild(new e.Clink(o),r,null),this.addChild(new ve.CviewCountEnabled(o),r,null),this.addChild(new e.CifTileButtons(o),r,null);var s=o.menuTileArgs();s&&this.addChild(new TDB.NewSubTemplateInstructionVE(o,TDB.immutableWatchable(s),"_menuTile"),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._FocusableBinding.update(e),this._AttrBinding.update(e)},i.prototype.disposeBindings=function(){this._FocusableBinding.dispose(),this._context.focusableBinding=void 0},i}(TDB.ViewElement);e.CtileContainer=i;var o=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("a");this.domElement=r,r._context=o,r.className="storyTile",r.setAttribute("tabindex","-1"),r.setAttribute("aria-hidden","true"),r.setAttribute("role","presentation"),this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.linkAttrArgs),this._EventsBinding=new t.Events.Binding(r,n,o,this,o.linkEventsInitArgs());this.addChild(new e.Cthumbnail(o),r,null),this.addChild(new e.Ctooltip(o),r,null);var s=o.tileBlockerArgs();s&&this.addChild(new TDB.NewSubTemplateInstructionVE(o,TDB.immutableWatchable(s),"tileBlocker"),r,null),this.addChild(new e.CifTileOverlay(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e)},i.prototype.disposeBindings=function(){this._EventsBinding.dispose()},i}(TDB.ViewElement);e.Clink=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("img");this.domElement=o,o._context=i,o.className="tileThumbnail",this._StyleBinding=new t.Style.Binding(o,e,i,this,i.thumbnailStyleArgs),this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.thumbnailAttrArgs),this._EventsBinding=new t.Events.Binding(o,e,i,this,i.thumbnailEventsInitArgs()),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._StyleBinding.update(e),this._AttrBinding.update(e)},n.prototype.disposeBindings=function(){this._EventsBinding.dispose()},n}(TDB.ViewElement);e.Cthumbnail=r;var s=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="tileMask",this._StyleBinding=new t.Style.Binding(o,e,i,this,i.tooltipStyleArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._StyleBinding.update(e)},n}(TDB.ViewElement);e.Ctooltip=s;var a=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.ifTileOverlayArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C1(i),t,n)},n}(TDB.IfInstructionVE);e.CifTileOverlay=a;var l=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="tileOverlay";this.addChild(new e.Ctitle(i),o,null),this.addChild(new e.CmodifiedDate(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=l;var c=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="segoeUISemilight UnselectableText",this._TextBinding=new t.Text.Binding(r,e,o,this,o.titleTextArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.titleClassNameArgs),this._AttrBinding=new t.Attr.Binding(r,e,o,this,o.titleAttrArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._ClassNameBinding.update(e),this._AttrBinding.update(e)},i}(TDB.ViewElement);e.Ctitle=c;var u=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUIRegular tileModifiedDate dateTime UnselectableText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.modifiedDateTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CmodifiedDate=u;var d=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.ifTileButtonsArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C4(i),t,n)},n}(TDB.IfInstructionVE);e.CifTileButtons=d;var h=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="tileButtonsWrapper";var o=n.coAuthorsArgs();o&&this.addChild(o.build(n),i,null),(o=n.ellipsisArgs())&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C4=h}(Ae||(Ae={}));var xe=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new Ee.CmenuWrapper(n),e,t)},t}(e.MyStoriesPageTitleOverflowVEBase);e.MyStoriesPageTitleOverflowVE=xe;var Ee;!function(e){var i=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="myStoriesPageTitleOverflowWrapper",this._DynamicMenuBinding=new n.DynamicMenu.Binding(r,t,o,this,o.menuWrapperDynamicMenuChunksArgs),this.receivePhaseNotification(TDB.UpdatePhase.ReadWrite);this.addChild(new e.C1(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._DynamicMenuBinding.update(e)},i.prototype.disposeBindings=function(){this._DynamicMenuBinding.dispose()},i}(TDB.ViewElement);e.CmenuWrapper=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.id="myStoriesPageTitleOverflow";this.addChild(new e.C2(i),o,null),this.addChild(new e.CmenuBelowWrapper(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=o;var r=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="myStoriesButtonWrapper";var o=TDB.watcherTag(17323653,n,null,n.titleArgs),r=new TDB.NewSubTemplateInstructionVE(n,o);r.addResource(o),this.addChild(r,i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=r;var s=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="activeTabLabelOverFlowMenuWrapper",this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.menuBelowWrapperClassNameArgs);this.addChild(new e.CshowActiveTabLabel(o),r,null),this.addChild(new e.CmyStoriesPageTabHolder(o),r,null);var s=o.overflowMenuArgs();s&&this.addChild(s.build(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CmenuBelowWrapper=s;var a=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.showActiveTabLabelArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.CactiveTabLabel(i),t,n)},n}(TDB.IfInstructionVE);e.CshowActiveTabLabel=a;var l=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="activeTabLabel",this._TextBinding=new t.Text.Binding(o,e,i,this,i.activeTabLabelTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CactiveTabLabel=l;var c=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.setAttribute("role","tablist"),r.id="myStoriesPageTabList",this._AttrBinding=new t.Attr.Binding(r,e,o,this,o.myStoriesPageTabHolderAttrArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.myStoriesPageTabHolderClassNameArgs);for(var s=o.menuElementsArgs(),a=s.length,l=0;l<a;++l)this.addChild(s[l].build(o),r,null);this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CmyStoriesPageTabHolder=c}(Ee||(Ee={}));var De=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new Ve.CfeaturedTitleMySways(n),e,t),this.addChild(new Ve.C1(n),e,t)},t}(e.MyStoriesPageFeaturedListVEBase);e.MyStoriesPageFeaturedListVE=De;var Ve;!function(e){var n=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUISemilight mySwaysFeaturedTitle",o.id="featuredSwaysTitle",o.setAttribute("role","heading"),o.setAttribute("aria-level","2"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.featuredTitleMySwaysTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CfeaturedTitleMySways=n;var i=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="featuredStoriesSwaysTileWrapper";var o=TDB.watcherTag(17323653,n,null,n.sectionLoadErrorArgs),r=new TDB.NewSubTemplateInstructionVE(n,o);r.addResource(o),this.addChild(r,i,null);o=TDB.watcherTag(17323653,n,null,n.carouselArgs);(r=new TDB.NewSubTemplateInstructionVE(n,o)).addResource(o),this.addChild(r,i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C1=i}(Ve||(Ve={}));var be=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new Ie.CtemplateTitleMySways(n),e,t),this.addChild(new Ie.C1(n),e,t)},t}(e.MyStoriesPageTemplateListVEBase);e.MyStoriesPageTemplateListVE=be;var Ie;!function(e){var n=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUISemilight mySwaysTemplateTitle",o.id="templateSwaysTitle",o.setAttribute("role","heading"),o.setAttribute("aria-level","2"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.templateTitleMySwaysTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CtemplateTitleMySways=n;var i=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="templateStoriesSwaysTileWrapper";var o=TDB.watcherTag(17323653,n,null,n.sectionLoadErrorArgs),r=new TDB.NewSubTemplateInstructionVE(n,o);r.addResource(o),this.addChild(r,i,null);o=TDB.watcherTag(17323653,n,null,n.carouselArgs);(r=new TDB.NewSubTemplateInstructionVE(n,o)).addResource(o),this.addChild(r,i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C1=i}(Ie||(Ie={}));var Pe=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new Me.CmyStoriesAnalyticsRow(n),e,t),this.addChild(new Me.C12(n),e,t)},t}(e.MyStoriesPageAnalyticsTileVEBase);e.MyStoriesPageAnalyticsTileVE=Pe;var Me;!function(e){var n=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="myStoriesAnalyticsRow",this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.myStoriesAnalyticsRowAttrArgs);this.addChild(new e.C1(o),r,null),this.addChild(new e.C2(o),r,null),this.addChild(new e.C3(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e)},i}(TDB.ViewElement);e.CmyStoriesAnalyticsRow=n;var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsThumbnailWrapper",o.setAttribute("aria-hidden","true");this.addChild(new Ae.Cthumbnail(i),o,null),this.addChild(new e.Ctooltip(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=i;var o=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsTileMask",this._StyleBinding=new t.Style.Binding(o,e,i,this,i.tooltipStyleArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._StyleBinding.update(e)},n}(TDB.ViewElement);e.Ctooltip=o;var r=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsTileTitleWrapper",o.setAttribute("aria-hidden","true");this.addChild(new e.CmodifiedDate(i),o,null),this.addChild(new e.Ctitle(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=r;var s=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUIRegular UnselectableText analyticsStoryDate",this._TextBinding=new t.Text.Binding(o,e,i,this,i.modifiedDateTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CmodifiedDate=s;var a=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUISemilight UnselectableText analyticsStoryTitle",this._TextBinding=new t.Text.Binding(o,e,i,this,i.titleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Ctitle=a;var l=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsDataPieces",o.setAttribute("aria-hidden","true");this.addChild(new e.C4(i),o,null),this.addChild(new e.C5(i),o,null),this.addChild(new e.C7(i),o,null),this.addChild(new e.C8(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=l;var c=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsDataPiece";this.addChild(new e.CviewCount(i),o,null),this.addChild(new e.CviewCountLabel(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C4=c;var u=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsDataNumber",this._TextBinding=new t.Text.Binding(o,e,i,this,i.viewCountTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CviewCount=u;var d=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsDataPieceLabel",this._TextBinding=new t.Text.Binding(o,e,i,this,i.viewCountLabelTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CviewCountLabel=d;var h=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsDataPiece";this.addChild(new e.C6(i),o,null),this.addChild(new e.CavgTimeSpentLabel(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C5=h;var p=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i;this.addChild(new e.CavgTimeSpentLessThan(i),o,null),this.addChild(new e.CavgTimeSpent(i),o,null),this.addChild(new e.CavgTimeSpentUnit(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C6=p;var g=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsTimeSpentLessThanSymbol",this._TextBinding=new t.Text.Binding(o,e,i,this,i.avgTimeSpentLessThanTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CavgTimeSpentLessThan=g;var m=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsDataNumber",this._TextBinding=new t.Text.Binding(o,e,i,this,i.avgTimeSpentTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CavgTimeSpent=m;var y=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsTimeSpentTimeUnit",this._TextBinding=new t.Text.Binding(o,e,i,this,i.avgTimeSpentUnitTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CavgTimeSpentUnit=y;var f=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsDataPieceLabel",this._TextBinding=new t.Text.Binding(o,e,i,this,i.avgTimeSpentLabelTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CavgTimeSpentLabel=f;var S=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsDataPiece";this.addChild(new e.CavgCompletion(i),o,null),this.addChild(new e.CavgCompletionLabel(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C7=S;var _=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsDataNumber",this._TextBinding=new t.Text.Binding(o,e,i,this,i.avgCompletionTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CavgCompletion=_;var T=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsDataPieceLabel",this._TextBinding=new t.Text.Binding(o,e,i,this,i.avgCompletionLabelTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CavgCompletionLabel=T;var w=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsDataPiece";this.addChild(new e.C9(i),o,null),this.addChild(new e.C10(i),o,null),this.addChild(new e.C11(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C8=w;var C=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsReadRatio";this.addChild(new e.CglancedReads(i),o,null),this.addChild(new e.CglancedReadsLabel(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C9=C;var v=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsReadRatioText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.glancedReadsTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CglancedReads=v;var B=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsReadRatioText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.glancedReadsLabelTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CglancedReadsLabel=B;var A=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsReadRatio";this.addChild(new e.CquickReads(i),o,null),this.addChild(new e.CquickReadsLabel(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C10=A;var x=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsReadRatioText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.quickReadsTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CquickReads=x;var E=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsReadRatioText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.quickReadsLabelTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CquickReadsLabel=E;var D=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsReadRatio";this.addChild(new e.CdeepReads(i),o,null),this.addChild(new e.CdeepReadsLabel(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C11=D;var V=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsReadRatioText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.deepReadsTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CdeepReads=V;var b=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="analyticsReadRatioText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.deepReadsLabelTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CdeepReadsLabel=b;var I=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="analyticsRowSeparator",this._addToDom(e,t)},t}(TDB.ViewElement);e.C12=I}(Me||(Me={}));var Le=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new Re.CtileContainer(n),e,t)},t}(e.MyStoriesPageFeaturedTileVEBase);e.MyStoriesPageFeaturedTileVE=Le;var Re;!function(e){var n=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="myStoriesListItem tileContainer storyTileContainer",r.setAttribute("role","option"),this._FocusableBinding=o.focusableBinding=new t.Focusable.Binding(r,n,o,this,o.FocusableInitArgs()),this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.tileContainerAttrArgs);this.addChild(new e.Clink(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._FocusableBinding.update(e),this._AttrBinding.update(e)},i.prototype.disposeBindings=function(){this._FocusableBinding.dispose(),this._context.focusableBinding=void 0},i}(TDB.ViewElement);e.CtileContainer=n;var i=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("a");this.domElement=o,o._context=i,o.className="storyTile",o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),o.setAttribute("role","presentation"),this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.linkAttrArgs),this._EventsBinding=new t.Events.Binding(o,e,i,this,i.linkEventsInitArgs());this.addChild(new ve.Cthumbnail(i),o,null),this.addChild(new Ae.Ctooltip(i),o,null);var r=i.tileBlockerArgs();r&&this.addChild(new TDB.NewSubTemplateInstructionVE(i,TDB.immutableWatchable(r),"tileBlocker"),o,null),this.addChild(new Ae.CifTileOverlay(i),o,null),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n.prototype.disposeBindings=function(){this._EventsBinding.dispose()},n}(TDB.ViewElement);e.Clink=i}(Re||(Re={}));var Ne=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._subscribeToWatchable(i._updateMenuTileWatcher=TDB.watcherTag(5796370,i,i,i.updateMenuTile),TDB.UpdatePhase.WriteOnly),i}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new Fe.CtileContainer(n),e,t),this._updateMenuTileWatcher.resolve()},t.prototype.onUpdate=function(e){e===TDB.UpdatePhase.WriteOnly&&this._updateMenuTileWatcher.resolve()},t}(e.MyStoriesPageTemplateTileVEBase);e.MyStoriesPageTemplateTileVE=Ne;var Fe;!function(e){var n=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="myStoriesListItem tileContainer storyTileContainer",r.setAttribute("role","option"),this._FocusableBinding=o.focusableBinding=new t.Focusable.Binding(r,n,o,this,o.FocusableInitArgs()),this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.tileContainerAttrArgs);if(this.addChild(new e.Clink(o),r,null),o.ifUserTemplateArgs()){this.addChild(new e.CifTileButtons(o),r,null);var s=o.menuTileArgs();s&&this.addChild(new TDB.NewSubTemplateInstructionVE(o,TDB.immutableWatchable(s),"_menuTile"),r,null)}this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._FocusableBinding.update(e),this._AttrBinding.update(e)},i.prototype.disposeBindings=function(){this._FocusableBinding.dispose(),this._context.focusableBinding=void 0},i}(TDB.ViewElement);e.CtileContainer=n;var i=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("a");this.domElement=r,r._context=o,r.className="storyTile",r.setAttribute("tabindex","-1"),r.setAttribute("aria-hidden","true"),r.setAttribute("role","presentation"),this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.linkAttrArgs),this._EventsBinding=new t.Events.Binding(r,n,o,this,o.linkEventsInitArgs());o.ifShouldEmphasizeArgs()&&this.addChild(new e.C1(o),r,null),this.addChild(new ve.Cthumbnail(o),r,null),this.addChild(new Ae.Ctooltip(o),r,null);var s=o.tileBlockerArgs();s&&this.addChild(new TDB.NewSubTemplateInstructionVE(o,TDB.immutableWatchable(s),"tileBlocker"),r,null),this.addChild(new e.CifTileOverlay(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e)},i.prototype.disposeBindings=function(){this._EventsBinding.dispose()},i}(TDB.ViewElement);e.Clink=i;var o=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="newUserTemplateEmphasis",this._addToDom(e,t)},t}(TDB.ViewElement);e.C1=o;var r=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.ifTileOverlayArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C2(i),t,n)},n}(TDB.IfInstructionVE);e.CifTileOverlay=r;var s=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="tileOverlay";this.addChild(new Ae.Ctitle(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=s;var a=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.ifTileButtonsArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C3(i),t,n)},n}(TDB.IfInstructionVE);e.CifTileButtons=a;var l=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="tileButtonsWrapper";var o=n.ellipsisArgs();o&&this.addChild(new TDB.NewSubTemplateInstructionVE(n,TDB.immutableWatchable(o),"ellipsisButton"),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C3=l}(Fe||(Fe={}));var Ue=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new ke.CtileContainer(n),e,t)},t}(e.MyStoriesPageViewedTileVEBase);e.MyStoriesPageViewedTileVE=Ue;var ke;!function(e){var n=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="myStoriesListItem tileContainer storyTileContainer",r.setAttribute("role","option"),this._FocusableBinding=o.focusableBinding=new t.Focusable.Binding(r,n,o,this,o.FocusableInitArgs()),this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.tileContainerAttrArgs);this.addChild(new e.Clink(o),r,null),this.addChild(new e.CifTileButtons(o),r,null);var s=o.menuTileArgs();s&&this.addChild(new TDB.NewSubTemplateInstructionVE(o,TDB.immutableWatchable(s),"_menuTile"),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._FocusableBinding.update(e),this._AttrBinding.update(e)},i.prototype.disposeBindings=function(){this._FocusableBinding.dispose(),this._context.focusableBinding=void 0},i}(TDB.ViewElement);e.CtileContainer=n;var i=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("a");this.domElement=r,r._context=o,r.className="storyTile",r.setAttribute("tabindex","-1"),r.setAttribute("aria-hidden","true"),r.setAttribute("role","presentation"),this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.linkAttrArgs),this._EventsBinding=new t.Events.Binding(r,n,o,this,o.linkEventsInitArgs());this.addChild(new ve.Cthumbnail(o),r,null),this.addChild(new Ae.Ctooltip(o),r,null);var s=o.tileBlockerArgs();s&&this.addChild(new TDB.NewSubTemplateInstructionVE(o,TDB.immutableWatchable(s),"tileBlocker"),r,null),this.addChild(new e.CifTileOverlay(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e)},i.prototype.disposeBindings=function(){this._EventsBinding.dispose()},i}(TDB.ViewElement);e.Clink=i;var o=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.ifTileOverlayArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C1(i),t,n)},n}(TDB.IfInstructionVE);e.CifTileOverlay=o;var r=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="tileOverlay";this.addChild(new e.Ctitle(i),o,null),this.addChild(new e.CviewedDate(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=r;var s=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUISemilight tileTitle UnselectableText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.titleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Ctitle=s;var a=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="segoeUIRegular tileModifiedDate dateTime UnselectableText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.viewedDateTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CviewedDate=a;var l=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.ifTileButtonsArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C2(i),t,n)},n}(TDB.IfInstructionVE);e.CifTileButtons=l;var c=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="tileButtonsWrapper";var o=n.ellipsisArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=c}(ke||(ke={}));var We=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new He.Cwrapper(n),e,t)},t}(e.NewHomePageContentVEBase);e.NewHomePageContentVE=We;var He;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,s.id="homeContentPolished",s.className="homeContentPolished",this._WidthWatcherBinding=new n.WidthWatcher.Binding(s,i,r,this,r.wrapperWidthWatcherInitArgs()),this._HeightWatcherBinding=new n.HeightWatcher.Binding(s,i,r,this,r.wrapperHeightWatcherInitArgs()),this._EventsBinding=new t.Events.Binding(s,i,r,this,r.wrapperEventsInitArgs()),this._StyleBinding=new t.Style.Binding(s,i,r,this,r.wrapperStyleArgs);this.addChild(new e.C1(r),s,null),this.addChild(new e.C20(r),s,null);var a=r.footerArgs();a&&this.addChild(a.build(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._StyleBinding.update(e)},o.prototype.disposeBindings=function(){this._WidthWatcherBinding.dispose(),this._HeightWatcherBinding.dispose(),this._EventsBinding.dispose()},o}(TDB.ViewElement);e.Cwrapper=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.setAttribute("role","main");if(this.addChild(new e.ChomeHeroContentWrapper(i),o,null),this.addChild(new e.CfullScreenImage(i),o,null),this.addChild(new e.C5(i),o,null),this.addChild(new e.CupsellHolder(i),o,null),i.shouldShowUserTestimonialsArgs()&&this.addChild(new e.C15(i),o,null),this.addChild(new e.C18(i),o,null),this.addChild(new e.C19(i),o,null),i.showPlatformsArgs()){var r=i.platformSupportArgs();r&&this.addChild(r.build(i),o,null)}this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=o;var r=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.homeHeroContentWrapperClassNameArgs);this.addChild(new e.ChomeColumnChildPolished(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.ChomeHeroContentWrapper=r;var s=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="homeColumnChildPolished",this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.homeColumnChildPolishedClassNameArgs);this.addChild(new e.C2(o),r,null),this.addChild(new e.Ctagline(o),r,null),this.addChild(new e.CshowCallToActionNonMobile(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.ChomeColumnChildPolished=s;var a=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeProductSectionPolished";this.addChild(new e.CproductName(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=a;var l=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="homeProductNamePolished",r.setAttribute("role","heading"),r.setAttribute("aria-level","1"),this._TextBinding=new t.Text.Binding(r,e,o,this,o.productNameTextArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.productNameClassNameArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CproductName=l;var c=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._TextBinding=new t.Text.Binding(r,e,o,this,o.taglineTextArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.taglineClassNameArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.Ctagline=c;var u=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.showCallToActionNonMobileArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.CtopButtonWrapper(i),t,n)},n}(TDB.IfInstructionVE);e.CshowCallToActionNonMobile=u;var d=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="buttonWrapper",this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.topButtonWrapperAttrArgs);var r=i.callToActionNonMobileArgs();r&&this.addChild(r.build(i),o,null),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CtopButtonWrapper=d;var h=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,s.className="fullScreenImage",this._StyleBinding=new t.Style.Binding(s,i,r,this,r.fullScreenImageStyleArgs),this._ClassNameBinding=new n.ClassName.Binding(s,i,r,this,r.fullScreenImageClassNameArgs);this.addChild(new e.C3(r),s,null),this.addChild(new e.C4(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._StyleBinding.update(e),this._ClassNameBinding.update(e)},o}(TDB.ViewElement);e.CfullScreenImage=h;var p=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="fullScreenImageOverlay",this._addToDom(e,t)},t}(TDB.ViewElement);e.C3=p;var g=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="homeGradientImageDividerPolished",this._addToDom(e,t)},t}(TDB.ViewElement);e.C4=g;var m=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="middlePartHolder";this.addChild(new e.C6(i),o,null),this.addChild(new e.C8(i),o,null),this.addChild(new e.C9(i),o,null),this.addChild(new e.C8(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C5=m;var y=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("center");this.domElement=o,o._context=i;this.addChild(new e.C7(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C6=y;var f=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="carouselHolder",o.id="carouselHolder";this.addChild(new e.CcarouselText(i),o,null);var r=i.imagePillarCarouselArgs();r&&this.addChild(new TDB.NewSubTemplateInstructionVE(i,TDB.immutableWatchable(r),"imagePillarCarousel"),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C7=f;var S=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="CarouselText segoeUISemilight",r.setAttribute("role","heading"),r.setAttribute("aria-level","2"),this._TextBinding=new t.Text.Binding(r,e,o,this,o.carouselTextTextArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.carouselTextClassNameArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CcarouselText=S;var _=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="homeGradientDividerPolished",this._addToDom(e,t)},t}(TDB.ViewElement);e.C8=_;var T=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("center");this.domElement=o,o._context=i;this.addChild(new e.ChomePromoPillar(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C9=T;var w=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,this._ClassNameBinding=new n.ClassName.Binding(o,e,i,this,i.homePromoPillarClassNameArgs);for(var r=i.promoPillarsArgs(),s=r.length,a=0;a<s;++a)this.addChild(r[a].build(i),o,null);this._addToDom(e,t)},t.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},t}(TDB.ViewElement);e.ChomePromoPillar=w;var C=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.upsellHolderClassNameArgs);this.addChild(new e.C11(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CupsellHolder=C;var v=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("center");this.domElement=o,o._context=i;this.addChild(new e.CupsellContent(i),o,null),this.addChild(new e.CupsellBackgroundImage(i),o,null),this.addChild(new e.C14(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C11=v;var B=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.upsellContentClassNameArgs);this.addChild(new e.C12(o),r,null),this.addChild(new e.C13(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CupsellContent=B;var A=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="upsellTextHolder";for(var o=n.upsellHeaderArgs(),r=o.length,s=0;s<r;++s)this.addChild(o[s].build(n),i,null);this._addToDom(e,t)},t}(TDB.ViewElement);e.C12=A;var x=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="upsellTextHolder";this.addChild(new e.CupsellText(i),o,null),this.addChild(new e.CupsellLink(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C13=x;var E=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="upsellText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.upsellTextTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CupsellText=E;var D=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("a");this.domElement=o,o._context=i,o.className="upsellLinkWrapper",this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.upsellLinkAttrArgs);for(var r=i.upsellLinkArgs(),s=r.length,a=0;a<s;++a)this.addChild(r[a].build(i),o,null);var l=i.chevronArgs();l&&this.addChild(l.build(i),o,null),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CupsellLink=D;var V=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._StyleBinding=new t.Style.Binding(r,e,o,this,o.upsellBackgroundImageStyleArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.upsellBackgroundImageClassNameArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._StyleBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CupsellBackgroundImage=V;var b=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="upsellBackgroundImageOverlay",this._addToDom(e,t)},t}(TDB.ViewElement);e.C14=b;var I=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="userTestimonials";this.addChild(new e.C16(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C15=I;var P=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("center");this.domElement=o,o._context=i;this.addChild(new e.C17(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C16=P;var M=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="carouselHolder",i.id="carouselTestimonialHolder";var o=TDB.watcherTag(17323653,n,null,n.testimonialCarouselArgs),r=new TDB.NewSubTemplateInstructionVE(n,o);r.addResource(o),this.addChild(r,i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C17=M;var L=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFeatured homeSectionPolished";this.addChild(new e.CfeaturedTitle(i),o,null);var r=i.featuredStoryCarouselArgs();r&&this.addChild(new TDB.NewSubTemplateInstructionVE(i,TDB.immutableWatchable(r),"featuredStoryCarousel"),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C18=L;var R=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="homeSectionTitlePolished segoeUISemilight",r.id="featuredSwaysTitle",r.setAttribute("role","heading"),r.setAttribute("aria-level","2"),this._TextBinding=new t.Text.Binding(r,e,o,this,o.featuredTitleTextArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.featuredTitleClassNameArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CfeaturedTitle=R;var N=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("center");this.domElement=o,o._context=i;this.addChild(new e.CbottomButtonWrapper(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C19=N;var F=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="bottomContent",this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.bottomButtonWrapperAttrArgs);var r=i.bottomButtonArgs();r&&this.addChild(r.build(i),o,null),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CbottomButtonWrapper=F;var U=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFollowWrapper",o.setAttribute("role","complementary");this.addChild(new e.C21(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C20=U;var k=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFollow homeSection";this.addChild(new e.C22(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C21=k;var W=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("center");this.domElement=o,o._context=i;this.addChild(new e.CshowFollowUsText(i),o,null);var r=i.followFacebookArgs();r&&this.addChild(r.build(i),o,null),(r=i.followTwitterArgs())&&this.addChild(r.build(i),o,null),(r=i.followBlogArgs())&&this.addChild(r.build(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C22=W;var H=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.showFollowUsTextArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.CfollowUs(i),t,n)},n}(TDB.IfInstructionVE);e.CshowFollowUsText=H;var O=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFollowItem segoeUISemilight homeFollowText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.followUsTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CfollowUs=O}(He||(He={}));var Oe=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new ze.Cwrapper(n),e,t)},t}(e.NewVisualDesignHomePageContentVEBase);e.NewVisualDesignHomePageContentVE=Oe;var ze;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,s.id="homeContentPolished",s.className="homeContentPolished",this._WidthWatcherBinding=new n.WidthWatcher.Binding(s,i,r,this,r.wrapperWidthWatcherInitArgs()),this._HeightWatcherBinding=new n.HeightWatcher.Binding(s,i,r,this,r.wrapperHeightWatcherInitArgs()),this._EventsBinding=new t.Events.Binding(s,i,r,this,r.wrapperEventsInitArgs()),this._StyleBinding=new t.Style.Binding(s,i,r,this,r.wrapperStyleArgs);this.addChild(new e.C1(r),s,null),this.addChild(new e.C16(r),s,null);var a=r.footerArgs();a&&this.addChild(a.build(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._StyleBinding.update(e)},o.prototype.disposeBindings=function(){this._WidthWatcherBinding.dispose(),this._HeightWatcherBinding.dispose(),this._EventsBinding.dispose()},o}(TDB.ViewElement);e.Cwrapper=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.setAttribute("role","main");if(this.addChild(new e.ChomeHeroContentWrapper(i),o,null),this.addChild(new He.CfullScreenImage(i),o,null),this.addChild(new e.C6(i),o,null),this.addChild(new e.CupsellHolder(i),o,null),i.shouldShowUserTestimonialsArgs()&&this.addChild(new e.C13(i),o,null),this.addChild(new e.C15(i),o,null),this.addChild(new e.CbottomButtonWrapper(i),o,null),i.showPlatformsArgs()){var r=i.platformSupportArgs();r&&this.addChild(r.build(i),o,null)}this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=o;var r=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.homeHeroContentWrapperClassNameArgs);this.addChild(new e.ChomeColumnChildPolished(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.ChomeHeroContentWrapper=r;var s=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="homeColumnChildPolished",this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.homeColumnChildPolishedClassNameArgs);this.addChild(new e.C2(o),r,null),this.addChild(new He.C2(o),r,null),this.addChild(new He.Ctagline(o),r,null),this.addChild(new He.CshowCallToActionNonMobile(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.ChomeColumnChildPolished=s;var a=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=a;var l=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="middlePartHolder";this.addChild(new e.C7(i),o,null),this.addChild(new He.C8(i),o,null),this.addChild(new e.ChomePromoPillar(i),o,null),this.addChild(new He.C8(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C6=l;var c=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="carouselHolder textAlignCenter",i.id="carouselHolder";this.addChild(new He.CcarouselText(n),i,null);var o=n.ImagePillarListNewVisualDesignArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C7=c;var u=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,this._ClassNameBinding=new n.ClassName.Binding(o,e,i,this,i.homePromoPillarClassNameArgs);for(var r=i.promoPillarsVisualDesignArgs(),s=r.length,a=0;a<s;++a)this.addChild(r[a].build(i),o,null);this._addToDom(e,t)},t.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},t}(TDB.ViewElement);e.ChomePromoPillar=u;var d=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.upsellHolderClassNameArgs);this.addChild(new e.CupsellContent(o),r,null),this.addChild(new He.CupsellBackgroundImage(o),r,null),this.addChild(new He.C14(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CupsellHolder=d;var h=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.upsellContentClassNameArgs);this.addChild(new e.C10(o),r,null),this.addChild(new e.C11(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CupsellContent=h;var p=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="upsellTextHolder";for(var o=n.upsellHeaderVisualDesignArgs(),r=o.length,s=0;s<r;++s)this.addChild(o[s].build(n),i,null);this._addToDom(e,t)},t}(TDB.ViewElement);e.C10=p;var g=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="upsellTextHolder";this.addChild(new He.CupsellText(n),i,null);var o=n.upsellLinkArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C11=g;var m=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="userTestimonials";this.addChild(new e.C14(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C13=m;var y=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="carouselHolder flexAndTextAlignCenter",i.id="carouselTestimonialHolder";var o=TDB.watcherTag(17323653,n,null,n.testimonialCarouselArgs),r=new TDB.NewSubTemplateInstructionVE(n,o);r.addResource(o),this.addChild(r,i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C14=y;var f=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="homeFeatured homeSectionPolished";var o=n.featuredStoryCarouselArgs();o&&this.addChild(new TDB.NewSubTemplateInstructionVE(n,TDB.immutableWatchable(o),"featuredStoryCarousel"),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C15=f;var S=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="bottomContent textAlignCenter",this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.bottomButtonWrapperAttrArgs);var r=i.bottomButtonArgs();r&&this.addChild(r.build(i),o,null),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CbottomButtonWrapper=S;var _=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="homeFollowWrapper",o.setAttribute("role","complementary");this.addChild(new e.C17(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C16=_;var T=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="homeFollow homeSection textAlignCenter";this.addChild(new He.CshowFollowUsText(n),i,null);var o=n.followFacebookArgs();o&&this.addChild(o.build(n),i,null),(o=n.followTwitterArgs())&&this.addChild(o.build(n),i,null),(o=n.followBlogArgs())&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C17=T}(ze||(ze={}));var qe=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this,i=n.carouselArgs();i&&this.addChild(new TDB.NewSubTemplateInstructionVE(n,TDB.immutableWatchable(i),"_carousel"),e,t)},t}(e.CreateTilesCarouselVEBase);e.CreateTilesCarouselVE=qe;var Ge=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;n.showPlatformsArgs()&&this.addChild(new Ke.C1(n),e,t)},t}(e.PlatformSupportVEBase);e.PlatformSupportVE=Ge;var Ke;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="platformSupport";this.addChild(new e.CplatformsTitle(i),o,null),this.addChild(new e.C2(i),o,null),this.addChild(new e.C3(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="title",o.id="platformsTitle",o.setAttribute("role","heading"),o.setAttribute("aria-level","2"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.platformsTitleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CplatformsTitle=i;var o=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="deviceLinks";for(var o=n.linksArgs(),r=o.length,s=0;s<r;++s)this.addChild(o[s].build(n),i,null);this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=o;var r=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="storeBadges";for(var o=n.storeButtonsArgs(),r=o.length,s=0;s<r;++s)this.addChild(o[s].build(n),i,null);this._addToDom(e,t)},t}(TDB.ViewElement);e.C3=r}(Ke||(Ke={}));var Je=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new $e.Croot(n),e,t)},t}(e.PromoPillarVEBase);e.PromoPillarVE=Je;var $e;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,this._ClassNameBinding=new n.ClassName.Binding(s,i,r,this,r.rootClassNameArgs),this._AttrBinding=new t.Attr.Binding(s,i,r,this,r.rootAttrArgs);this.addChild(new e.CpromoPillarImageHolderSide(r),s,null),this.addChild(new e.CpromoPillarTextHolder(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._AttrBinding.update(e)},o}(TDB.ViewElement);e.Croot=i;var o=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="promoPillarImageHolder",this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.promoPillarImageHolderSideClassNameArgs);this.addChild(new e.CpromoPillarImage(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CpromoPillarImageHolderSide=o;var r=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="promoPillarImage",this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.promoPillarImageClassNameArgs),this._StyleBinding=new t.Style.Binding(r,e,o,this,o.promoPillarImageStyleArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._StyleBinding.update(e)},i}(TDB.ViewElement);e.CpromoPillarImage=r;var s=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="promoPillarTextHolder",this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.promoPillarTextHolderClassNameArgs);this.addChild(new e.CpromoPillarTitle(o),r,null),this.addChild(new e.CpromoPillarContent(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CpromoPillarTextHolder=s;var a=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.setAttribute("role","heading"),r.setAttribute("aria-level","3"),this._TextBinding=new t.Text.Binding(r,e,o,this,o.promoPillarTitleTextArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.promoPillarTitleClassNameArgs),this._StyleBinding=new t.Style.Binding(r,e,o,this,o.promoPillarTitleStyleArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._ClassNameBinding.update(e),this._StyleBinding.update(e)},i}(TDB.ViewElement);e.CpromoPillarTitle=a;var l=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="promoPillarContent segoeUISemilight",this._TextBinding=new t.Text.Binding(o,e,i,this,i.promoPillarContentTextArgs),this._StyleBinding=new t.Style.Binding(o,e,i,this,i.promoPillarContentStyleArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e),this._StyleBinding.update(e)},n}(TDB.ViewElement);e.CpromoPillarContent=l}($e||($e={}));var je=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new Qe.CpromoPillarBackground(n),e,t)},t}(e.PromoPillarVideoVEBase);e.PromoPillarVideoVE=je;var Qe;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,this._StyleBinding=new t.Style.Binding(s,i,r,this,r.promoPillarBackgroundStyleArgs),this._ClassNameBinding=new n.ClassName.Binding(s,i,r,this,r.promoPillarBackgroundClassNameArgs);this.addChild(new e.Croot(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._StyleBinding.update(e),this._ClassNameBinding.update(e)},o}(TDB.ViewElement);e.CpromoPillarBackground=i;var o=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,this._ClassNameBinding=new n.ClassName.Binding(s,i,r,this,r.rootClassNameArgs),this._AttrBinding=new t.Attr.Binding(s,i,r,this,r.rootAttrArgs),this._StyleBinding=new t.Style.Binding(s,i,r,this,r.rootStyleArgs);this.addChild(new e.CpromoPillarVideoElement(r),s,null),this.addChild(new e.CpromoPillarTextElement(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._AttrBinding.update(e),this._StyleBinding.update(e)},o}(TDB.ViewElement);e.Croot=o;var r=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.promoPillarVideoElementClassNameArgs);this.addChild(new e.CpromoPillarVideoHolderSide(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CpromoPillarVideoElement=r;var s=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.promoPillarVideoHolderSideClassNameArgs),this._StyleBinding=new t.Style.Binding(r,e,o,this,o.promoPillarVideoHolderSideStyleArgs),this._EventsBinding=new t.Events.Binding(r,e,o,this,o.promoPillarVideoHolderSideEventsInitArgs());var s=o.videoPlayerArgs();s&&this.addChild(s.build(o),r,null),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._StyleBinding.update(e)},i.prototype.disposeBindings=function(){this._EventsBinding.dispose()},i}(TDB.ViewElement);e.CpromoPillarVideoHolderSide=s;var a=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.promoPillarTextElementClassNameArgs);this.addChild(new e.CpromoPillarTextHolder(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CpromoPillarTextElement=a;var l=function(t){function i(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(i,t),i.prototype._create=function(t,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="promoPillarTextHolder",this._ClassNameBinding=new n.ClassName.Binding(r,t,o,this,o.promoPillarTextHolderClassNameArgs);this.addChild(new $e.CpromoPillarTitle(o),r,null),this.addChild(new e.CpromoPillarContent(o),r,null),this._addToDom(t,i)},i.prototype.onUpdate=function(e){this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CpromoPillarTextHolder=l;var c=function(e){function i(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(i,e),i.prototype._create=function(e,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="segoeUISemilight",this._TextBinding=new t.Text.Binding(r,e,o,this,o.promoPillarContentTextArgs),this._StyleBinding=new t.Style.Binding(r,e,o,this,o.promoPillarContentStyleArgs),this._ClassNameBinding=new n.ClassName.Binding(r,e,o,this,o.promoPillarContentClassNameArgs),this._addToDom(e,i)},i.prototype.onUpdate=function(e){this._TextBinding.update(e),this._StyleBinding.update(e),this._ClassNameBinding.update(e)},i}(TDB.ViewElement);e.CpromoPillarContent=c}(Qe||(Qe={}));var Xe=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new Ze.ChomeWrapper(n),e,t)},t}(e.ReportAViolationPageVEBase);e.ReportAViolationPageVE=Xe;var Ze;!function(e){var n=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="homeWrapper",this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.homeWrapperAttrArgs);var s=o.appBarArgs();s&&this.addChild(s.build(o),r,null),this.addChild(new D.C2(o),r,null),this.addChild(new e.C2(o),r,null),this.addChild(new e.C3(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e)},i}(TDB.ViewElement);e.ChomeWrapper=n;var i=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="segoeUISemilight";var o=n.reportAViolationContentArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=i;var o=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="reportAViolationFooter";var o=n.footerArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C3=o}(Ze||(Ze={}));var Ye=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new et.C1(n),e,t)},t}(e.ReportAViolationPageContentVEBase);e.ReportAViolationPageContentVE=Ye;var et;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationContent",o.setAttribute("role","main"),o.setAttribute("aria-labelledby","ravDescription");this.addChild(new e.CshowReportForm(i),o,null),this.addChild(new e.C17(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.showReportFormArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C2(i),t,n),this.addChild(new e.C3(i),t,n),this.addChild(new e.C6(i),t,n),this.addChild(new e.CshowContentInfringementLink(i),t,n),this.addChild(new e.CshowReportNotesAndSendButton(i),t,n)},n}(TDB.IfInstructionVE);e.CshowReportForm=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationSection";this.addChild(new e.CreportPageHeader(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.id="ravDescription",o.className="reportAViolationHeader",this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportPageHeaderTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportPageHeader=r;var s=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationSection";this.addChild(new e.CreportPageExplanation(i),o,null),this.addChild(new e.C4(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=s;var a=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportPageExplanationTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportPageExplanation=a;var l=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationRequired";this.addChild(new e.CreportAViolationURLLabel(i),o,null),this.addChild(new O.C5(i),o,null),this.addChild(new e.CreportUrl(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C4=l;var c=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("label");this.domElement=o,o._context=i,o.setAttribute("for","url"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportAViolationURLLabelTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportAViolationURLLabel=c;var u=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("input");this.domElement=o,o._context=i,o.className="reportAViolationField ravFocusable",o.setAttribute("maxlength","2083"),o.setAttribute("readonly","readonly"),o.setAttribute("type","text"),o.id="url",o.setAttribute("name","url"),this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.reportUrlAttrArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CreportUrl=u;var d=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationSection";this.addChild(new e.C7(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C6=d;var h=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationRequired";this.addChild(new e.C8(i),o,null),this.addChild(new e.CviolationCategories(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C7=h;var p=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("span");this.domElement=o,o._context=i;this.addChild(new e.CreportAViolationTypeLabel(i),o,null),this.addChild(new e.CreportAViolationTypeLabelLink(i),o,null),this.addChild(new e.CreportAViolationTypeQuestionMarkLabel(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C8=p;var g=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("label");this.domElement=o,o._context=i,o.setAttribute("for","reportType"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportAViolationTypeLabelTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportAViolationTypeLabel=g;var m=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("a");this.domElement=o,o._context=i,o.className="ravFocusable",o.setAttribute("href","https://go.microsoft.com/fwlink/?LinkId=266426"),o.setAttribute("target","_blank"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportAViolationTypeLabelLinkTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportAViolationTypeLabelLink=m;var y=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("label");this.domElement=o,o._context=i,o.className="ravFocusable",this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportAViolationTypeQuestionMarkLabelTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportAViolationTypeQuestionMarkLabel=y;var f=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("select");this.domElement=r,r._context=o,r.className="reportAViolationField ravFocusable",r.setAttribute("required","true"),r.id="reportType",r.setAttribute("name","reportType"),this._EventsBinding=new t.Events.Binding(r,n,o,this,o.violationCategoriesEventsInitArgs());this.addChild(new e.CreportPageDefaultType(o),r,null),this.addChild(new e.CreportPageChildExploitationType(o),r,null),this.addChild(new e.CreportPageContentInfringementType(o),r,null),this.addChild(new e.CreportPageHarassmentType(o),r,null),this.addChild(new e.CreportPageNudityType(o),r,null),this.addChild(new e.CreportPageSpamType(o),r,null),this.addChild(new e.CreportPageOtherType(o),r,null),this._addToDom(n,i)},i.prototype.disposeBindings=function(){this._EventsBinding.dispose()},i}(TDB.ViewElement);e.CviolationCategories=f;var S=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("option");this.domElement=o,o._context=i,o.setAttribute("value",""),this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportPageDefaultTypeTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportPageDefaultType=S;var _=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("option");this.domElement=o,o._context=i,o.setAttribute("value","ChildEndangermentExploitation"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportPageChildExploitationTypeTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportPageChildExploitationType=_;var T=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("option");this.domElement=o,o._context=i,o.setAttribute("value","ContentInfringement"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportPageContentInfringementTypeTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportPageContentInfringementType=T;var w=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("option");this.domElement=o,o._context=i,o.setAttribute("value","ThreatsCyberbullyingHarassment"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportPageHarassmentTypeTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportPageHarassmentType=w;var C=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("option");this.domElement=o,o._context=i,o.setAttribute("value","OffensiveContent"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportPageNudityTypeTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportPageNudityType=C;var v=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("option");this.domElement=o,o._context=i,o.setAttribute("value","VirusSpywareMalware"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportPageSpamTypeTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportPageSpamType=v;var B=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("option");this.domElement=o,o._context=i,o.setAttribute("value","Other"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportPageOtherTypeTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportPageOtherType=B;var A=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.showContentInfringementLinkArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C9(i),t,n)},n}(TDB.IfInstructionVE);e.CshowContentInfringementLink=A;var x=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationSection";this.addChild(new e.C10(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C9=x;var E=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i;this.addChild(new e.CnewReportAViolationContentInfringementDescription(i),o,null);var r=i.reportAViolationContentInfringementUrlLinkButtonArgs();r&&this.addChild(r.build(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C10=E;var D=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("label");this.domElement=o,o._context=i,o.setAttribute("for","contentInfringement"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.newReportAViolationContentInfringementDescriptionTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CnewReportAViolationContentInfringementDescription=D;var V=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.showReportNotesAndSendButtonArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C11(i),t,n)},n}(TDB.IfInstructionVE);e.CshowReportNotesAndSendButton=V;var b=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationSection";this.addChild(new e.C12(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C11=b;var I=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i;this.addChild(new e.CreportAViolationDetailsLabel(i),o,null),this.addChild(new O.C5(i),o,null),this.addChild(new e.C14(i),o,null),this.addChild(new O.C5(i),o,null),this.addChild(new e.CreportAViolationPrivacyDisclaimer(i),o,null),this.addChild(new O.C5(i),o,null);var r=i.sendReportButtonArgs();r&&this.addChild(r.build(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C12=I;var P=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("label");this.domElement=o,o._context=i,o.setAttribute("for","reportInfo"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportAViolationDetailsLabelTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportAViolationDetailsLabel=P;var M=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("textarea");this.domElement=i,i._context=n,i.className="reportAViolationField ravFocusable",i.setAttribute("maxlength","450"),i.setAttribute("rows","5"),i.id="reportInfo",i.setAttribute("name","reportInfo"),this._addToDom(e,t)},t}(TDB.ViewElement);e.C14=M;var L=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationText ravFocusable",this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportAViolationPrivacyDisclaimerTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportAViolationPrivacyDisclaimer=L;var R=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.setAttribute("aria-live","polite");this.addChild(new e.CshowReportStatus(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C17=R;var N=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.showReportStatusArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C18(i),t,n)},n}(TDB.IfInstructionVE);e.CshowReportStatus=N;var F=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationSection";this.addChild(new e.CreportAViolationStatus(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C18=F;var U=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("label");this.domElement=o,o._context=i,o.setAttribute("for","reportStatus"),o.className="ReportAViolationNotification",this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportAViolationStatusTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportAViolationStatus=U}(et||(et={}));var tt=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new nt.ChomeWrapper(n),e,t)},t}(e.ReportCompletePageVEBase);e.ReportCompletePageVE=tt;var nt;!function(e){var n=function(n){function i(e){var t=n.call(this,null)||this;return t._context=e,t}return __extends(i,n),i.prototype._create=function(n,i){var o=this._context,r=document.createElement("div");this.domElement=r,r._context=o,r.className="homeWrapper",this._AttrBinding=new t.Attr.Binding(r,n,o,this,o.homeWrapperAttrArgs);var s=o.appBarArgs();s&&this.addChild(s.build(o),r,null),this.addChild(new D.C2(o),r,null),this.addChild(new e.C2(o),r,null),this._addToDom(n,i)},i.prototype.onUpdate=function(e){this._AttrBinding.update(e)},i}(TDB.ViewElement);e.ChomeWrapper=n;var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationContent";this.addChild(new e.C3(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=i;var o=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationSection";this.addChild(new e.CreportCompleteMessage(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="reportAViolationHeader",this._TextBinding=new t.Text.Binding(o,e,i,this,i.reportCompleteMessageTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CreportCompleteMessage=r}(nt||(nt={}));var it=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new ot.Cfooter(n),e,t)},t}(e.SharedPageFooterVEBase);e.SharedPageFooterVE=it;var ot;!function(e){var t=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.id="sharedPageFooter",this._CopyHtmlBinding=new n.CopyHtml.Binding(o,e,i,this,i.footerCopyHtmlArgs),this.receivePhaseNotification(TDB.UpdatePhase.ReadWrite),this._addToDom(e,t)},t.prototype.onUpdate=function(e){this._CopyHtmlBinding.update(e)},t}(TDB.ViewElement);e.Cfooter=t}(ot||(ot={}));var rt=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new st.CstoryTitle(n),e,t)},t}(e.StoryTitleItemVEBase);e.StoryTitleItemVE=rt;var st;!function(e){var n=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="storyTitleItemWrapper",o.setAttribute("role","listitem"),this._TextBinding=new t.Text.Binding(o,e,i,this,i.storyTitleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CstoryTitle=n}(st||(st={}));var at=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new lt.Cmessage(n),e,t),n.shouldShowStoryTitleListArgs()&&this.addChild(new lt.CstoryTitleList(n),e,t)},t}(e.StoryOperationErrorDialogVEBase);e.StoryOperationErrorDialogVE=at;var lt;!function(e){var n=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="storyOperationErrorMessage",this._TextBinding=new t.Text.Binding(o,e,i,this,i.messageTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Cmessage=n;var i=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="storyTitleListWrapper",o.setAttribute("role","list"),this._AttrBinding=new t.Attr.Binding(o,e,i,this,i.storyTitleListAttrArgs);for(var r=i.storyTitlesArgs(),s=r.length,a=0;a<s;++a)this.addChild(r[a].build(i),o,null);this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._AttrBinding.update(e)},n}(TDB.ViewElement);e.CstoryTitleList=i}(lt||(lt={}));var ct=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new ut.CsubMenuTileContainer(n),e,t)},t}(e.SubMenuTileVEBase);e.SubMenuTileVE=ct;var ut;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("div");this.domElement=s,s._context=r,s.className="menuTileContainer",s.setAttribute("role","dialog"),this._FadeVisibleBinding=new n.FadeVisible.Binding(s,i,r,this,r.subMenuTileContainerFadeVisibleInitArgs(),r.subMenuTileContainerFadeVisibleArgs),this._AttrBinding=new t.Attr.Binding(s,i,r,this,r.subMenuTileContainerAttrArgs);this.addChild(new e.CifDeleteMenu(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._FadeVisibleBinding.update(e),this._AttrBinding.update(e)},o.prototype.disposeBindings=function(){this._FadeVisibleBinding.dispose()},o}(TDB.ViewElement);e.CsubMenuTileContainer=i;var o=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.ifDeleteMenuArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C1(i),t,n)},n}(TDB.IfInstructionVE);e.CifDeleteMenu=o;var r=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i;this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=r;var s=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="menuTileContainer";this.addChild(new e.C3(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=s;var a=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="menuTile deleteMenuTile";this.addChild(new e.C4(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C3=a;var l=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="deleteMenuButtons";var o=n.confirmDeleteButtonArgs();o&&this.addChild(o,i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C4=l}(ut||(ut={}));var dt=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new ht.CuniversalHeader(n),e,t)},t}(e.UniversalHeaderVEBase);e.UniversalHeaderVE=dt;var ht;!function(e){var t=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.id="universalHeader",this._CopyHtmlBinding=new n.CopyHtml.Binding(o,e,i,this,i.universalHeaderCopyHtmlArgs),this.receivePhaseNotification(TDB.UpdatePhase.ReadWrite),this._addToDom(e,t)},t.prototype.onUpdate=function(e){this._CopyHtmlBinding.update(e)},t}(TDB.ViewElement);e.CuniversalHeader=t}(ht||(ht={}));var pt=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new gt.C1(n),e,t),this.addChild(new gt.CuserTestimonialText(n),e,t),this.addChild(new gt.CuserTestimonialName(n),e,t),this.addChild(new gt.CuserTestimonialTitle(n),e,t)},t}(e.UserTestimonialsVEBase);e.UserTestimonialsVE=pt;var gt;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="userTestimonailIconHolder";this.addChild(new e.CuserTestimonialIcon(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="userTestimonialIcon",o.setAttribute("role","presentation"),this._StyleBinding=new t.Style.Binding(o,e,i,this,i.userTestimonialIconStyleArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._StyleBinding.update(e)},n}(TDB.ViewElement);e.CuserTestimonialIcon=i;var o=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="userTestimonialText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.userTestimonialTextTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CuserTestimonialText=o;var r=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="userTestimonialName",this._TextBinding=new t.Text.Binding(o,e,i,this,i.userTestimonialNameTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CuserTestimonialName=r;var s=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="userTestimonialTitle",this._TextBinding=new t.Text.Binding(o,e,i,this,i.userTestimonialTitleTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CuserTestimonialTitle=s}(gt||(gt={}));var mt=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this,i=n.carouselArgs();i&&this.addChild(new TDB.NewSubTemplateInstructionVE(n,TDB.immutableWatchable(i),"carousel"),e,t)},t}(e.UserTestimonialsCarouselVEBase);e.UserTestimonialsCarouselVE=mt;var yt=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new ft.C1(n),e,t)},t}(e.CreateOutlineTileVEBase);e.CreateOutlineTileVE=yt;var ft;!function(e){var t=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="myStoriesListItemCreationTile";this.addChild(new e.C2(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=t;var n=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="tileContainer newTileContainer";var o=n.createOutlineButtonArgs();o&&this.addChild(o.build(n),i,null),this._addToDom(e,t)},t}(TDB.ViewElement);e.C2=n}(ft||(ft={}));var St=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new _t.CifTileDisabled(n),e,t)},t}(e.TileBlockerVEBase);e.TileBlockerVE=St;var _t;!function(e){var t=function(t){function n(e){var n=this,i=TDB.watcherTag(4543754,e,null,e.ifTileDisabledArgs);return(n=t.call(this,i)||this).addResource(i),n._context=e,n}return __extends(n,t),n.prototype.buildChildren=function(t,n){var i=this._context;this.addChild(new e.C1(i),t,n),this.addChild(new e.C2(i),t,n)},n}(TDB.IfInstructionVE);e.CifTileDisabled=t;var n=function(e){function t(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(t,e),t.prototype._create=function(e,t){var n=this._context,i=document.createElement("div");this.domElement=i,i._context=n,i.className="myStoriesTileDisabledMask",this._addToDom(e,t)},t}(TDB.ViewElement);e.C1=n;var i=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="progressSpinnerWrapper";this.addChild(new e.CshowOperationInProgress(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C2=i;var o=function(e){function t(t){var n=this,i=TDB.watcherTag(4543754,t,null,t.showOperationInProgressArgs);return(n=e.call(this,i)||this).addResource(i),n._context=t,n}return __extends(t,e),t.prototype.buildChildren=function(e,t){var n=this._context,i=TDB.watcherTag(17323653,n,null,n.progressWheelArgs),o=new TDB.NewSubTemplateInstructionVE(n,i);o.addResource(i),this.addChild(o,e,t)},t}(TDB.IfInstructionVE);e.CshowOperationInProgress=o}(_t||(_t={}));var Tt=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new wt.Cwrapper(n),e,t)},t}(e.SortCriteriaOptionVEBase);e.SortCriteriaOptionVE=Tt;var wt;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("button");this.domElement=s,s._context=r,this._ClassNameBinding=new n.ClassName.Binding(s,i,r,this,r.wrapperClassNameArgs),this._AttrBinding=new t.Attr.Binding(s,i,r,this,r.wrapperAttrArgs),this._FocusableBinding=r.focusableBinding=new t.Focusable.Binding(s,i,r,this,r.FocusableInitArgs());this.addChild(new e.Ccriteria(r),s,null);var a=r.chevronIconArgs();a&&this.addChild(a.build(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._AttrBinding.update(e),this._FocusableBinding.update(e)},o.prototype.disposeBindings=function(){this._FocusableBinding.dispose(),this._context.focusableBinding=void 0},o}(TDB.ViewElement);e.Cwrapper=i;var o=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="MyStoriesSortCriteriaText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.criteriaTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.Ccriteria=o}(wt||(wt={}));var Ct=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new vt.Cwrapper(n),e,t)},t}(e.SortingTypeOptionVEBase);e.SortingTypeOptionVE=Ct;var vt;!function(e){var i=function(i){function o(e){var t=i.call(this,null)||this;return t._context=e,t}return __extends(o,i),o.prototype._create=function(i,o){var r=this._context,s=document.createElement("button");this.domElement=s,s._context=r,this._ClassNameBinding=new n.ClassName.Binding(s,i,r,this,r.wrapperClassNameArgs),this._AttrBinding=new t.Attr.Binding(s,i,r,this,r.wrapperAttrArgs),this._FocusableBinding=r.focusableBinding=new t.Focusable.Binding(s,i,r,this,r.FocusableInitArgs());this.addChild(new e.CsortingType(r),s,null);var a=r.chevronIconArgs();a&&this.addChild(a.build(r),s,null),this._addToDom(i,o)},o.prototype.onUpdate=function(e){this._ClassNameBinding.update(e),this._AttrBinding.update(e),this._FocusableBinding.update(e)},o.prototype.disposeBindings=function(){this._FocusableBinding.dispose(),this._context.focusableBinding=void 0},o}(TDB.ViewElement);e.Cwrapper=i;var o=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="MyStoriesSortingTypeText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.sortingTypeTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CsortingType=o}(vt||(vt={}));var Bt=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){var n=this;this.addChild(new At.C1(n),e,t)},t}(e.MyStoriesPageSectionErrorVEBase);e.MyStoriesPageSectionErrorVE=Bt;var At;!function(e){var n=function(t){function n(e){var n=t.call(this,null)||this;return n._context=e,n}return __extends(n,t),n.prototype._create=function(t,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="mySwaysPageSectionErrorWrapper";var r=i.refreshButtonArgs();r&&this.addChild(r.build(i),o,null),this.addChild(new e.CerrorMessage(i),o,null),this._addToDom(t,n)},n}(TDB.ViewElement);e.C1=n;var i=function(e){function n(t){var n=e.call(this,null)||this;return n._context=t,n}return __extends(n,e),n.prototype._create=function(e,n){var i=this._context,o=document.createElement("div");this.domElement=o,o._context=i,o.className="mySwaysPageSectionErrorText",this._TextBinding=new t.Text.Binding(o,e,i,this,i.errorMessageTextArgs),this._addToDom(e,n)},n.prototype.onUpdate=function(e){this._TextBinding.update(e)},n}(TDB.ViewElement);e.CerrorMessage=i}(At||(At={}));var xt=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._create=function(e,t){},t}(e.PasswordEntryPageVEBase);e.PasswordEntryPageVE=xt}(e.ViewElements||(e.ViewElements={}))}(e.View||(e.View={}))}(StoryApp||(StoryApp={}));var HomeMain;!function(e){var t=function(){function e(){}return e}();e.SwayViolationReportModel=t}(HomeMain||(HomeMain={}));var ViewedStoryListRequest=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(BaseStoryListRequest),ViewedStoryListResponse=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(StoryListBaseResponse);